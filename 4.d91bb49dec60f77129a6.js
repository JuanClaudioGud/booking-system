(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"27RR":function(e,t,n){"use strict";n.r(t),n.d(t,"AcpModule",function(){return _m});var i=n("f0Wu"),a=n("M0ag"),c=n("tyNb"),o=n("fXoL");let r=(()=>{class e{constructor(){}setSidenav(e){this.sidenav=e}toggleSidenav(){this.sidenav.toggle()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=n("AytR"),l=n("ZF+8"),d=n("k5Aa"),u=n("l207"),m=n("/v/h");class b{constructor(e,t,n,i,a){this.id=e,this.payload=t,this.type=n,this.read=i,this.createdAt=a}}class p{constructor(){}deserialize(e){return new b(e.id,(new m.a).deserialize(e.payload),e.type,e.read,i.tz(e.created_at,u.o))}serialize(e){return{id:e.id,payload:e.payload,type:e.type,read:e.read}}}var h=n("lJxs");let g=(()=>{class e extends l.d{constructor(){super(s.a.api.endpoints.notifications,new p,[d.b.NOTIFICATION_CREATE_ONE,d.b.NOTIFICATION_UPDATE_ONE,d.b.NOTIFICATION_DELETE_ONE,d.b.NOTIFICATION_DELETE_MANY])}getUnread(){return this.http.get(this.resourceEndpoint+"/unread").pipe(Object(h.a)(e=>e.map(e=>this.resourceAdapter.deserialize(e))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=n("ofXK"),v=function(){return(v=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function y(e,t,n,i){var a,c=arguments.length,o=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(o=(c<3?a(o):c>3?a(t,n,o):a(t,n))||o);return c>3&&o&&Object.defineProperty(t,n,o),o}function T(e,t){return function(n,i){t(n,i,e)}}function S(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var w=/\s+/,C=new(function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var a=this.offsetParent(e);n=this.offset(e,!1),a!==document.documentElement&&(i=this.offset(a,!1)),i.top+=a.clientTop,i.left+=a.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,a=window.pageXOffset-document.documentElement.clientLeft,c={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+a,right:n.right+a};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c},e.prototype.positionElements=function(e,t,n,i){var a=n.split("-"),c=a[0],o=void 0===c?"top":c,r=a[1],s=void 0===r?"center":r,l=i?this.offset(e,!1):this.position(e,!1),d=this.getAllStyles(t),u=parseFloat(d.marginTop),m=parseFloat(d.marginBottom),b=parseFloat(d.marginLeft),p=parseFloat(d.marginRight),h=0,g=0;switch(o){case"top":h=l.top-(t.offsetHeight+u+m);break;case"bottom":h=l.top+l.height;break;case"left":g=l.left-(t.offsetWidth+b+p);break;case"right":g=l.left+l.width}switch(s){case"top":h=l.top;break;case"bottom":h=l.top+l.height-t.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-t.offsetWidth;break;case"center":"top"===o||"bottom"===o?g=l.left+l.width/2-t.offsetWidth/2:h=l.top+l.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(g)+"px, "+Math.round(h)+"px)";var f=t.getBoundingClientRect(),v=document.documentElement,y=window.innerHeight||v.clientHeight,T=window.innerWidth||v.clientWidth;return f.left>=0&&f.top>=0&&f.right<=T&&f.bottom<=y},e}()),k=n("XNiG"),O=n("LRne"),D=n("PqYM"),I=n("HDdC"),E=n("2Vo4"),x=n("D0XW"),M=n("Y7HM");function P(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var A=n("1G5W"),R=n("eIep"),K=n("JX91"),N=function(){return(N=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},z=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var c=arguments[t],o=0,r=c.length;o<r;o++,a++)i[a]=c[o];return i},H=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}({}),$=[H.SUNDAY,H.SATURDAY],F=86400;function L(e,t){var n=t.startDate,i=t.excluded,a=t.precision;if(i.length<1)return 0;for(var c=e.getDay,o=e.addDays,r=(0,e.addSeconds)(n,t.seconds-1),s=c(n),l=c(r),d=0,u=n,m=function(){var t=c(u);i.some(function(e){return e===t})&&(d+=function(e,t){var n=t.day,i=t.dayEnd,a=t.startDate,c=t.endDate,o=e.differenceInSeconds,r=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return o((0,e.endOfDay)(a),a)+1;if(n===i)return o(c,r(c))+1}return F}(e,{dayStart:s,dayEnd:l,day:t,precision:a,startDate:n,endDate:r})),u=o(u,1)};u<r;)m();return d}function _(e,t){var n=t.periodStart,i=t.periodEnd;return t.events.filter(function(t){return function(e,t){var n=t.event,i=t.periodStart,a=t.periodEnd,c=e.isSameSecond,o=n.start,r=n.end||n.start;return o>i&&o<a||r>i&&r<a||o<i&&r>a||!(!c(o,i)&&!c(o,a))||!(!c(r,i)&&!c(r,a))}(e,{event:t,periodStart:n,periodEnd:i})})}function j(e,t){var n=t.date,i=t.weekendDays,a=void 0===i?$:i,c=e.isSameDay,o=e.getDay,r=(0,e.startOfDay)(new Date),s=o(n);return{date:n,day:s,isPast:n<r,isToday:c(n,r),isFuture:n>r,isWeekend:a.indexOf(s)>-1}}function B(e,t){for(var n=t.excluded,i=void 0===n?[]:n,a=t.weekendDays,c=t.viewStart,o=void 0===c?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,r=t.viewEnd,s=void 0===r?e.addDays(o,7):r,l=e.addDays,d=e.getDay,u=[],m=o;m<s;)i.some(function(e){return d(m)===e})||u.push(j(e,{date:m,weekendDays:a})),m=l(m,1);return u}function Y(e,t){var n=t.events,i=void 0===n?[]:n,a=t.excluded,c=void 0===a?[]:a,o=t.precision,r=void 0===o?"days":o,s=t.absolutePositionedEvents,l=void 0!==s&&s,d=t.viewStart,u=t.viewEnd;d=e.startOfDay(d),u=e.endOfDay(u);var m=e.differenceInSeconds,b=e.differenceInDays,p=function(e,t){for(var n=t.date2,i=t.excluded,a=t.date1,c=0;a<n;)-1===i.indexOf(e.getDay(a))&&c++,a=e.addDays(a,1);return c}(e,{date1:d,date2:u,excluded:c}),h=b(u,d)+1,g=i.filter(function(e){return e.allDay}).map(function(t){var n=function(e,t){var n=t.event,i=t.startOfWeek,a=t.excluded,c=t.precision,o=e.differenceInDays,r=e.startOfDay,s=e.differenceInSeconds;if(n.start<i)return 0;var l=0;switch(c){case"days":l=o(r(n.start),i)*F;break;case"minutes":l=s(n.start,i)}return l-=L(e,{startDate:i,seconds:l,excluded:a,precision:c}),Math.abs(l/F)}(e,{event:t,startOfWeek:d,excluded:c,precision:r});return{event:t,offset:n,span:function(e,t){var n=t.event,i=t.offset,a=t.excluded,c=t.precision,o=t.totalDaysInView,r=e.differenceInSeconds,s=e.addDays,l=e.endOfDay,d=e.differenceInDays,u=F,m=(0,e.max)([n.start,t.startOfWeekDate]);if(n.end)switch(c){case"minutes":u=r(n.end,m);break;default:u=d(s(l(n.end),1),m)*F}var b=i*F,p=o*F;return b+u>p&&(u=p-b),(u-=L(e,{startDate:m,seconds:u,excluded:a,precision:c}))/F}(e,{event:t,offset:n,startOfWeekDate:d,excluded:c,precision:r,totalDaysInView:h})}}).filter(function(e){return e.offset<p}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<d,endsAfterWeek:(e.event.end||e.event.start)>u}}).sort(function(e,t){var n=m(e.event.start,t.event.start);return 0===n?m(t.event.end||t.event.start,e.event.end||e.event.start):n}),f=[],v=[];return g.forEach(function(e,t){if(-1===v.indexOf(e)){v.push(e);var n=e.span+e.offset,i=g.slice(t+1).filter(function(e){if(e.offset>=n&&n+e.span<=h&&-1===v.indexOf(e)){var t=e.offset-n;return l||(e.offset=t),n+=e.span+t,v.push(e),!0}}),a=z([e],i),c=a.filter(function(e){return e.event.id}).map(function(e){return e.event.id}).join("-");f.push(N({row:a},c?{id:c}:{}))}}),f}function W(e,t){var n=t.events,i=t.viewDate,a=t.hourSegments,c=t.hourDuration,o=t.dayStart,r=t.dayEnd,s=t.weekStartsOn,l=t.excluded,d=t.weekendDays,u=t.segmentHeight,m=t.viewStart,b=t.viewEnd,p=t.minimumEventHeight,h=function(e,t){var n=t.viewDate,i=t.hourSegments,a=t.hourDuration,c=t.dayStart,o=t.dayEnd,r=e.setMinutes,s=e.setHours,l=e.startOfDay,d=e.startOfMinute,u=e.endOfDay,m=e.addMinutes,b=e.addDays,p=[],h=r(s(l(n),q(c.hour)),Q(c.minute)),g=r(s(d(u(n)),q(o.hour)),Q(o.minute)),f=(a||60)/i,v=l(n),y=u(n),T=function(e){return e};v.getTimezoneOffset()!==y.getTimezoneOffset()&&(v=b(v,1),h=b(h,1),g=b(g,1),T=function(e){return b(e,-1)});for(var S=a?1440/a:60,w=0;w<S;w++){for(var C=[],k=0;k<i;k++){var O=m(m(h,w*(a||60)),k*f);O>=h&&O<g&&C.push({date:T(O),displayDate:O,isStart:0===k})}C.length>0&&p.push({segments:C})}return p}(e,{viewDate:i,hourSegments:a,hourDuration:c,dayStart:o,dayEnd:r}),g=B(e,{viewDate:i,weekStartsOn:s,excluded:l,weekendDays:d,viewStart:m,viewEnd:b}),f=e.setHours,v=e.setMinutes,y=e.getHours,T=e.getMinutes;return g.map(function(t){var i=function(e,t){var n=t.events,i=t.viewDate,a=t.hourSegments,c=t.dayStart,o=t.dayEnd,r=t.eventWidth,s=t.segmentHeight,l=t.hourDuration,d=t.minimumEventHeight,u=e.setMinutes,m=e.setHours,b=e.startOfDay,p=e.startOfMinute,h=e.endOfDay,g=e.differenceInMinutes,f=u(m(b(i),q(c.hour)),Q(c.minute)),v=u(m(p(h(i)),q(o.hour)),Q(o.minute));v.setSeconds(59,999);var y=[],T=_(e,{events:n.filter(function(e){return!e.allDay}),periodStart:f,periodEnd:v}),S=T.sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,n=e.end||t,i=t<f,c=n>v,o=a*s/(l||60),u=0;if(t>f){var m=t.getTimezoneOffset(),b=f.getTimezoneOffset()-m;u+=g(t,f)+b}u*=o;var p=i?f:t,h=c?v:n,T=p.getTimezoneOffset()-h.getTimezoneOffset(),S=g(h,p)+T;e.end?S*=o:S=s,d&&S<d&&(S=d);for(var w=U(y,u,u+S),C=0;w.some(function(e){return e.left===C});)C+=r;var k={event:e,height:S,width:r,top:u,left:C,startsBeforeDay:i,endsAfterDay:c};return y.push(k),k}),w=Math.max.apply(Math,S.map(function(e){return e.left+e.width}));return{events:S,width:w,allDayEvents:_(e,{events:n.filter(function(e){return e.allDay}),periodStart:b(f),periodEnd:h(v)}),period:{events:T,start:f,end:v}}}(e,{events:n,viewDate:t.date,hourSegments:a,dayStart:o,dayEnd:r,segmentHeight:u,eventWidth:1,hourDuration:c,minimumEventHeight:p}),s=h.map(function(e){var n=e.segments.map(function(e){var n=v(f(t.date,y(e.date)),T(e.date));return N(N({},e),{date:n})});return N(N({},e),{segments:n})});function l(e,t){var n=Math.max.apply(Math,t.map(function(e){return e.left+1})),i=e.filter(function(e){return e.left>=n}).filter(function(e){return U(t,e.top,e.top+e.height).length>0});return i.length>0?l(e,i):n}var d=i.events.map(function(e){var t=100/l(i.events,U(i.events,e.top,e.top+e.height));return N(N({},e),{left:e.left*t,width:t})});return{hours:s,date:t.date,events:d.map(function(e){var t=U(d.filter(function(t){return t.left>e.left}),e.top,e.top+e.height);return t.length>0?N(N({},e),{width:Math.min.apply(Math,t.map(function(e){return e.left}))-e.left}):e})}})}function U(e,t,n){return e.filter(function(e){var i=e.top,a=e.top+e.height;return t<a&&a<n||t<i&&i<n||i<=t&&n<=a})}function q(e){return Math.max(Math.min(23,e),0)}function Q(e){return Math.max(Math.min(59,e),0)}var V=function(e){return e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",e}({}),X=n("jtHE"),J=n("VRyK"),G=n("itXk"),Z=n("xgIS");function ee(e,t){var n,i;return i=t,"function"==typeof(e=void 0===(n=e)?void 0===i?n:i:n)?function(){for(var t=arguments,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=t[a];return!!e.apply(this,i)}:e?function(){return!0}:function(){return!1}}var te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ne=function(e){return null!=e&&"object"===(void 0===e?"undefined":te(e))&&1===e.nodeType&&"object"===te(e.style)&&"object"===te(e.ownerDocument)};function ie(e,t){if(t=se(t,!0),!ne(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function ae(e,t){return-1!==ie(e,t)}function ce(e,t){for(var n=0;n<t.length;n++)ae(e,t[n])||e.push(t[n]);return t}function oe(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return ce(e,n=n.map(se))}function re(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return n.map(se).reduce(function(t,n){var i=ie(e,n);return-1!==i?t.concat(e.splice(i,1)):t},[])}function se(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!ne(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function le(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var de,ue=void 0;"function"!=typeof Object.create?(de=function(){},ue=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");de.prototype=e||{};var n=new de;return de.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):ue=Object.create;var me=ue,be=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function pe(e,t){t=t||{};for(var n=me(e),i=0;i<be.length;i++)void 0!==t[be[i]]&&(n[be[i]]=t[be[i]]);return n}function he(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var ge=["webkit","moz","ms","o"],fe=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=ge.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[ge[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-t-n),a=window.setTimeout(function(){return e(t+i)},i);return n=t+i,a}}return window.requestAnimationFrame.bind(window)}(),ve=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=ge.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[ge[e]+"CancelAnimationFrame"]||window[ge[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function ye(e,t){void 0===t&&(t={});var n=this,i=4,a=!1;if("object"!=typeof t.margin){var c=t.margin||-1;this.margin={left:c,right:c,top:c,bottom:c}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o,r={},s=function(e,t){var n=ee((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var i=t.target&&t.target.ownerDocument||document,a=i.documentElement,c=i.body;e.pageX=t.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(r),l=(o={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){o=null},dispatch:MouseEvent?function(e,t,n){var i=new MouseEvent("mousemove",pe(o,t));return he(i,n),e.dispatchEvent(i)}:"function"==typeof document.createEvent?function(e,t,n){var i=pe(o,t),a=document.createEvent("MouseEvents");return a.initMouseEvent("mousemove",!0,!0,window,0,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),he(a,n),e.dispatchEvent(a)}:"function"==typeof document.createEventObject?function(e,t,n){var i=document.createEventObject(),a=pe(o,t);for(var c in a)i[c]=a[c];return he(i,n),e.dispatchEvent(i)}:void 0}),d=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=ee(t.autoScroll),this.syncMove=ee(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",f,!1),window.removeEventListener("touchstart",f,!1),window.removeEventListener("mouseup",v,!1),window.removeEventListener("touchend",v,!1),window.removeEventListener("pointerup",v,!1),window.removeEventListener("mouseleave",T,!1),window.removeEventListener("mousemove",w,!1),window.removeEventListener("touchmove",w,!1),window.removeEventListener("scroll",g,!0),e=[],t&&y()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return oe.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return re.apply(void 0,[e].concat(t))};var u,m,b=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),m=e,e=[],m.forEach(function(e){e===window?b=window:n.add(e)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return r}},scrolling:{get:function(){return a}}});var p,h=null;function g(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){a=!0;break}a&&fe(function(){return a=!1})}function f(){d=!0}function v(){d=!1,y()}function y(){ve(p),ve(u)}function T(){d=!1}function S(){for(var t=null,n=0;n<e.length;n++)Te(r,e[n])&&(t=e[n]);return t}function w(t){if(n.autoScroll()&&!t.dispatched){var i=t.target,a=document.body;h&&!Te(r,h)&&(n.scrollWhenOutside||(h=null)),i&&i.parentNode===a?i=S():(i=function(t){if(!t)return null;if(h===t)return t;if(ae(e,t))return t;for(;t=t.parentNode;)if(ae(e,t))return t;return null}(i))||(i=S()),i&&i!==h&&(h=i),b&&(ve(u),u=fe(C)),h&&(ve(p),p=fe(k))}}function C(){O(b),ve(u),u=fe(C)}function k(){h&&(O(h),ve(p),p=fe(k))}function O(e){var t,i,a=le(e);t=r.x<a.left+n.margin.left?Math.floor(Math.max(-1,(r.x-a.left)/n.margin.left-1)*n.maxSpeed.left):r.x>a.right-n.margin.right?Math.ceil(Math.min(1,(r.x-a.right)/n.margin.right+1)*n.maxSpeed.right):0,i=r.y<a.top+n.margin.top?Math.floor(Math.max(-1,(r.y-a.top)/n.margin.top-1)*n.maxSpeed.top):r.y>a.bottom-n.margin.bottom?Math.ceil(Math.min(1,(r.y-a.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&l.dispatch(e,{pageX:r.pageX+t,pageY:r.pageY+i,clientX:r.x+t,clientY:r.y+i}),setTimeout(function(){i&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,i),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)})}window.addEventListener("mousedown",f,!1),window.addEventListener("touchstart",f,!1),window.addEventListener("mouseup",v,!1),window.addEventListener("touchend",v,!1),window.addEventListener("pointerup",v,!1),window.addEventListener("mousemove",w,!1),window.addEventListener("touchmove",w,!1),window.addEventListener("mouseleave",T,!1),window.addEventListener("scroll",g,!0)}function Te(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=le(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var Se=n("pLZG"),we=n("5+tZ"),Ce=n("w1tV"),ke=n("IzEk"),Oe=n("BFxc"),De=n("7o/Q");class Ie{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new Ee(e,this.predicate,this.source))}}class Ee extends De.a{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var xe=n("Zy1z"),Me=n("/uUt");let Pe=(()=>{class e{constructor(){this.currentDrag=new k.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(o.U)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Ae=(()=>{class e{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.l))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})();function Re(e,t,n){n&&n.split(" ").forEach(n=>e.addClass(t.nativeElement,n))}function Ke(e,t,n){n&&n.split(" ").forEach(n=>e.removeClass(t.nativeElement,n))}let Ne=(()=>{class e{constructor(e,t,n,i,a,c,r){this.element=e,this.renderer=t,this.draggableHelper=n,this.zone=i,this.vcr=a,this.scrollContainer=c,this.document=r,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new o.o,this.dragStart=new o.o,this.ghostElementCreated=new o.o,this.dragging=new o.o,this.dragEnd=new o.o,this.pointerDown$=new k.a,this.pointerMove$=new k.a,this.pointerUp$=new k.a,this.eventListenerSubscriptions={},this.destroy$=new k.a,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Object(Se.a)(()=>this.canDrag()),Object(we.a)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.renderer.createElement("style");this.renderer.setAttribute(t,"type","text/css"),this.renderer.appendChild(t,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(t)});const n=this.getScrollPosition(),i=new I.a(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe(Object(K.a)(n),Object(h.a)(()=>this.getScrollPosition())),a=new k.a,c=new X.a;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const o=Object(J.a)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe(Object(Ce.a)()),r=Object(G.a)([this.pointerMove$,i]).pipe(Object(h.a)(([t,n])=>({currentDrag$:a,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:n.left,scrollTop:n.top,target:t.event.target})),Object(h.a)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),Object(h.a)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),Object(h.a)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-n.left),y:e.transformY+(e.scrollTop-n.top)})),Object(Se.a)(({x:e,y:t,transformX:n,transformY:i})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:n,y:i}})),Object(A.a)(o),Object(Ce.a)()),s=r.pipe(Object(ke.a)(1),Object(Ce.a)()),l=r.pipe(Object(Oe.a)(1),Object(Ce.a)());return s.subscribe(({clientX:e,clientY:t,x:n,y:i})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=new ye([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),Re(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const a=this.element.nativeElement.getBoundingClientRect(),c=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(c):this.element.nativeElement.parentNode.insertBefore(c,this.element.nativeElement.nextSibling),this.ghostElement=c,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(c,{position:"fixed",top:a.top+"px",left:a.left+"px",width:a.width+"px",height:a.height+"px",cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);c.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{c.appendChild(e)}),l.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-n,clientY:t-i,element:c})}),l.subscribe(()=>{c.parentElement.removeChild(c),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(a)}),l.pipe(Object(we.a)(e=>{const t=c.pipe(e=>e.lift(new Ie(void 0,e)),Object(ke.a)(1),Object(h.a)(t=>Object.assign({},e,{dragCancelled:t>0})));return c.complete(),t})).subscribe(({x:e,y:t,dragCancelled:n})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:n})}),Ke(this.renderer,this.element,this.dragActiveClass),a.complete()}),Object(J.a)(o,l).pipe(Object(ke.a)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(t)})}),r}),Object(Ce.a)());Object(J.a)(e.pipe(Object(ke.a)(1),Object(h.a)(e=>[,e])),e.pipe(Object(xe.a)())).pipe(Object(Se.a)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),Object(h.a)(([e,t])=>t)).subscribe(({x:e,y:t,currentDrag$:n,clientX:i,clientY:a,transformX:c,transformY:o,target:r})=>{this.zone.run(()=>{this.dragging.next({x:e,y:t})}),requestAnimationFrame(()=>{if(this.ghostElement){const e=`translate3d(${c}px, ${o}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}}),n.next({clientX:i,clientY:a,dropData:this.dropData,target:r})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let t,n,i;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,i=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const a=Object(Z.a)(this.document,"contextmenu").subscribe(e=>{e.preventDefault()}),c=Object(Z.a)(this.document,"touchmove",{passive:!1}).subscribe(a=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!n&&i&&(n=this.shouldBeginDrag(e,a,t)),(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&i&&!n||(a.preventDefault(),this.pointerMove$.next({event:a,clientX:a.targetTouches[0].clientX,clientY:a.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),c.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(n=>{this.renderer.setStyle(e,n,t[n])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,t,n){const i=this.getScrollPosition(),a=Math.abs(i.top-n.top),c=Math.abs(i.left-n.left),o=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-c,r=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-a,s=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(o+r>s.delta||a>0||c>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=s.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.l),o.Nb(o.G),o.Nb(Pe),o.Nb(o.B),o.Nb(o.R),o.Nb(Ae,8),o.Nb(f.e))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[o.Ab]}),e})();function ze(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}let He=(()=>{class e{constructor(e,t,n,i,a){this.element=e,this.draggableHelper=t,this.zone=n,this.renderer=i,this.scrollContainer=a,this.dragEnter=new o.o,this.dragLeave=new o.o,this.dragOver=new o.o,this.drop=new o.o}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Re(this.renderer,this.element,this.dragActiveClass);const t={updateCache:!0},n=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let i;const a=e.pipe(Object(h.a)(({clientX:e,clientY:n,dropData:a,target:c})=>{i=a,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const o=ze(e,n,t.rect),r=!this.validateDrop||this.validateDrop({clientX:e,clientY:n,target:c});return t.scrollContainerRect?o&&r&&ze(e,n,t.scrollContainerRect):o&&r})),c=a.pipe(Object(Me.a)());let o;c.pipe(Object(Se.a)(e=>e)).subscribe(()=>{o=!0,Re(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:i})})}),a.pipe(Object(Se.a)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:i})})}),c.pipe(Object(xe.a)(),Object(Se.a)(([e,t])=>e&&!t)).subscribe(()=>{o=!1,Ke(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:i})})}),e.subscribe({complete:()=>{n(),Ke(this.renderer,this.element,this.dragActiveClass),o&&(Ke(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:i})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.l),o.Nb(Pe),o.Nb(o.B),o.Nb(o.G),o.Nb(Ae,8))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),$e=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)}}),e})();var Fe=n("EY2u"),Le=n("vkgz"),_e=n("3UWI");function je(e,t,n=3){return Math.abs(e-t)<n}function Be(e,t,n,i){const a={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(a.top+=i),t.bottom&&(a.bottom+=i),t.left&&(a.left+=n),t.right&&(a.right+=n),a.height=a.bottom-a.top,a.width=a.right-a.left,a}function Ye({clientY:e,rect:t}){return e>=t.top&&e<=t.bottom}function We({clientX:e,rect:t}){return e>=t.left&&e<=t.right}function Ue({clientX:e,clientY:t,elm:n,allowedEdges:i,cursorPrecision:a}){const c=n.nativeElement.getBoundingClientRect(),o={};return i.left&&je(e,c.left,a)&&Ye({clientY:t,rect:c})&&(o.left=!0),i.right&&je(e,c.right,a)&&Ye({clientY:t,rect:c})&&(o.right=!0),i.top&&je(t,c.top,a)&&We({clientX:e,rect:c})&&(o.top=!0),i.bottom&&je(t,c.bottom,a)&&We({clientX:e,rect:c})&&(o.bottom=!0),o}const qe=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Qe(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function Ve({edges:e,initialRectangle:t,newRectangle:n}){const i={};return Object.keys(e).forEach(e=>{i[e]=(n[e]||0)-(t[e]||0)}),i}const Xe="resize-active";let Je=(()=>{class e{constructor(e,t,n,i){this.platformId=e,this.renderer=t,this.elm=n,this.zone=i,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=qe,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new o.o,this.resizing=new o.o,this.resizeEnd=new o.o,this.mouseup=new k.a,this.mousedown=new k.a,this.mousemove=new k.a,this.destroy$=new k.a,this.resizeEdges$=new k.a,this.pointerEventListeners=Ge.getInstance(t,i)}ngOnInit(){const e=Object(J.a)(this.pointerEventListeners.pointerDown,this.mousedown),t=Object(J.a)(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Object(Le.a)(({event:e})=>{i&&e.preventDefault()}),Object(Ce.a)()),n=Object(J.a)(this.pointerEventListeners.pointerUp,this.mouseup);let i;const a=()=>{i&&i.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},c=()=>Object.assign({},qe,this.resizeCursors);this.resizeEdges$.pipe(Object(K.a)(this.resizeEdges),Object(h.a)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(e=>!!this.resizeEdges[e])),Object(R.a)(e=>e?t:Fe.a),Object(_e.a)(this.mouseMoveThrottleMS),Object(A.a)(this.destroy$)).subscribe(({clientX:e,clientY:t})=>{const n=Ue({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),a=c();if(!i){const e=Qe(n,a);this.renderer.setStyle(this.elm.nativeElement,"cursor",e)}this.setElementClass(this.elm,"resize-left-hover",!0===n.left),this.setElementClass(this.elm,"resize-right-hover",!0===n.right),this.setElementClass(this.elm,"resize-top-hover",!0===n.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===n.bottom)}),e.pipe(Object(we.a)(a=>{function c(e){return{clientX:e.clientX-a.clientX,clientY:e.clientY-a.clientY}}const o=()=>{const e={x:1,y:1};return i&&(this.resizeSnapGrid.left&&i.edges.left?e.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&i.edges.right&&(e.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&i.edges.top?e.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&i.edges.bottom&&(e.y=+this.resizeSnapGrid.bottom)),e};function r(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return Object(J.a)(t.pipe(Object(ke.a)(1)).pipe(Object(h.a)(e=>[,e])),t.pipe(Object(xe.a)())).pipe(Object(h.a)(([e,t])=>[e?c(e):e,c(t)])).pipe(Object(Se.a)(([e,t])=>{if(!e)return!0;const n=o(),i=r(e,n),a=r(t,n);return i.x!==a.x||i.y!==a.y})).pipe(Object(h.a)(([,e])=>{const t=o();return{clientX:Math.round(e.clientX/t.x)*t.x,clientY:Math.round(e.clientY/t.y)*t.y}})).pipe(Object(A.a)(Object(J.a)(n,e)))})).pipe(Object(Se.a)(()=>!!i)).pipe(Object(h.a)(({clientX:e,clientY:t})=>Be(i.startingRect,i.edges,e,t))).pipe(Object(Se.a)(e=>this.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0))).pipe(Object(Se.a)(e=>!this.validateResize||this.validateResize({rectangle:e,edges:Ve({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e})})),Object(A.a)(this.destroy$)).subscribe(e=>{i&&i.clonedNode&&(this.renderer.setStyle(i.clonedNode,"height",e.height+"px"),this.renderer.setStyle(i.clonedNode,"width",e.width+"px"),this.renderer.setStyle(i.clonedNode,"top",e.top+"px"),this.renderer.setStyle(i.clonedNode,"left",e.left+"px")),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Ve({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e}),rectangle:e})}),i.currentRect=e}),e.pipe(Object(h.a)(({clientX:e,clientY:t,edges:n})=>n||Ue({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe(Object(Se.a)(e=>Object.keys(e).length>0),Object(A.a)(this.destroy$)).subscribe(e=>{i&&a();const t=function(e,t){let n=0,i=0;const a=e.nativeElement.style,c=["transform","-ms-transform","-moz-transform","-o-transform"].map(e=>a[e]).find(e=>!!e);if(c&&c.includes("translate")&&(n=c.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=c.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-i,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-i,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const t=e.nativeElement.getBoundingClientRect();return{height:t.height,width:t.width,top:t.top-i,bottom:t.bottom-i,left:t.left-n,right:t.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);i={edges:e,startingRect:t,currentRect:t};const n=c(),o=Qe(i.edges,n);this.renderer.setStyle(document.body,"cursor",o),this.setElementClass(this.elm,Xe,!0),this.enableGhostResize&&(i.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(i.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(i.clonedNode,"left",i.startingRect.left+"px"),this.renderer.setStyle(i.clonedNode,"top",i.startingRect.top+"px"),this.renderer.setStyle(i.clonedNode,"height",i.startingRect.height+"px"),this.renderer.setStyle(i.clonedNode,"width",i.startingRect.width+"px"),this.renderer.setStyle(i.clonedNode,"cursor",Qe(i.edges,n)),this.renderer.addClass(i.clonedNode,"resize-ghost-element"),i.clonedNode.scrollTop=i.startingRect.scrollTop,i.clonedNode.scrollLeft=i.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Ve({edges:e,initialRectangle:t,newRectangle:t}),rectangle:Be(t,{},0,0)})})}),n.pipe(Object(A.a)(this.destroy$)).subscribe(()=>{i&&(this.renderer.removeClass(this.elm.nativeElement,Xe),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Ve({edges:i.edges,initialRectangle:i.startingRect,newRectangle:i.currentRect}),rectangle:i.currentRect})}),a(),i=null)})}ngOnChanges(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){Object(f.A)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.D),o.Nb(o.G),o.Nb(o.l),o.Nb(o.B))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[o.Ab]}),e})();class Ge{static getInstance(e,t){return Ge.instance||(Ge.instance=new Ge(e,t)),Ge.instance}constructor(e,t){this.pointerDown=new I.a(n=>{let i,a;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),a=e.listen("document","touchstart",e=>{n.next({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,event:e})})}),()=>{i(),a()}}).pipe(Object(Ce.a)()),this.pointerMove=new I.a(n=>{let i,a;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),a=e.listen("document","touchmove",e=>{n.next({clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY,event:e})})}),()=>{i(),a()}}).pipe(Object(Ce.a)()),this.pointerUp=new I.a(n=>{let i,a,c;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),a=e.listen("document","touchend",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}),c=e.listen("document","touchcancel",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})})}),()=>{i(),a(),c()}}).pipe(Object(Ce.a)())}}let Ze=(()=>{class e{constructor(e,t,n,i){this.renderer=e,this.element=t,this.zone=n,this.resizable=i,this.resizeEdges={},this.eventListeners={}}ngOnDestroy(){this.unsubscribeEventListeners()}onMousedown(e,t,n){e.preventDefault(),this.zone.runOutsideAngular(()=>{this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",e=>{this.onMousemove(e,e.targetTouches[0].clientX,e.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",e=>{this.onMousemove(e,e.clientX,e.clientY)})),this.resizable.mousedown.next({clientX:t,clientY:n,edges:this.resizeEdges})})}onMouseup(e,t){this.zone.runOutsideAngular(()=>{this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:t,edges:this.resizeEdges})})}onMousemove(e,t,n){this.resizable.mousemove.next({clientX:t,clientY:n,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.G),o.Nb(o.l),o.Nb(o.B),o.Nb(Je))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlResizeHandle",""]],hostBindings:function(e,t){1&e&&o.ac("touchstart",function(e){return t.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)})("mousedown",function(e){return t.onMousedown(e,e.clientX,e.clientY)})("touchend",function(e){return t.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)})("touchcancel",function(e){return t.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)})("mouseup",function(e){return t.onMouseup(e.clientX,e.clientY)})},inputs:{resizeEdges:"resizeEdges"}}),e})(),et=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)}}),e})();var tt=n("R0Ic");const nt=function(e){return{action:e}};function it(e,t){if(1&e){const e=o.Ub();o.Tb(0,"a",5),o.ac("mwlClick",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2).event;return i.onClick({event:a,sourceEvent:n})})("mwlKeydownEnter",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2).event;return i.onClick({event:a,sourceEvent:n})}),o.fc(1,"calendarA11y"),o.Sb()}if(2&e){const e=t.$implicit;o.lc("ngClass",e.cssClass)("innerHtml",e.label,o.zc),o.Db("aria-label",o.hc(1,3,o.nc(6,nt,e),"actionButtonLabel"))}}function at(e,t){if(1&e&&(o.Tb(0,"span",3),o.Ic(1,it,2,8,"a",4),o.Sb()),2&e){const e=o.ec(),t=e.event,n=e.trackByActionId;o.Cb(1),o.lc("ngForOf",t.actions)("ngForTrackBy",n)}}function ct(e,t){1&e&&o.Ic(0,at,2,2,"span",2),2&e&&o.lc("ngIf",t.event.actions)}function ot(e,t){}const rt=function(e,t){return{event:e,trackByActionId:t}},st=function(){return{}};function lt(e,t){if(1&e&&(o.Ob(0,"span",2),o.fc(1,"calendarEventTitle"),o.fc(2,"calendarA11y")),2&e){const e=t.event;o.lc("innerHTML",o.ic(1,2,e.title,t.view,e),o.zc),o.Db("aria-hidden",o.hc(2,6,o.mc(9,st),"hideEventTitle"))}}function dt(e,t){}const ut=function(e,t){return{event:e,view:t}};function mt(e,t){if(1&e&&(o.Tb(0,"div",2),o.Ob(1,"div",3),o.Ob(2,"div",4),o.Sb()),2&e){const e=t.contents;o.lc("ngClass","cal-tooltip-"+t.placement),o.Cb(2),o.lc("innerHtml",e,o.zc)}}function bt(e,t){}const pt=function(e,t,n){return{contents:e,placement:t,event:n}},ht=function(e){return{backgroundColor:e}};function gt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mwl-calendar-month-cell",7),o.ac("mwlClick",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).dayClicked.emit({day:i,sourceEvent:n})})("mwlKeydownEnter",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).dayClicked.emit({day:i,sourceEvent:n})})("highlightDay",function(t){return o.yc(e),o.ec(2).toggleDayHighlight(t.event,!0)})("unhighlightDay",function(t){return o.yc(e),o.ec(2).toggleDayHighlight(t.event,!1)})("drop",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).eventDropped(i,n.dropData.event,n.dropData.draggedFrom)})("eventClicked",function(t){return o.yc(e),o.ec(2).eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})}),o.fc(1,"calendarA11y"),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.lc("ngClass",null==e?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",o.nc(15,ht,e.backgroundColor))("clickListenerDisabled",0===n.dayClicked.observers.length),o.Db("tabindex",o.hc(1,12,o.mc(17,st),"monthCellTabIndex"))}}function ft(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div"),o.Tb(1,"div",4),o.Ic(2,gt,2,18,"mwl-calendar-month-cell",5),o.fc(3,"slice"),o.Sb(),o.Tb(4,"mwl-calendar-open-day-events",6),o.ac("eventClicked",function(t){return o.yc(e),o.ec().eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})})("drop",function(t){o.yc(e);const n=o.ec();return n.eventDropped(n.openDay,t.dropData.event,t.dropData.draggedFrom)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec();o.Cb(2),o.lc("ngForOf",o.ic(3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),o.Cb(2),o.lc("locale",n.locale)("isOpen",n.openRowIndex===e)("events",null==n.openDay?null:n.openDay.events)("date",null==n.openDay?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}function vt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",4),o.ac("click",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).columnHeaderClicked.emit({isoDayNumber:i.day,sourceEvent:n})}),o.Kc(1),o.fc(2,"calendarDate"),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec().locale;o.Fb("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),o.lc("ngClass",e.cssClass),o.Cb(1),o.Mc(" ",o.ic(2,10,e.date,"monthViewColumnHeader",n)," ")}}function yt(e,t){if(1&e&&(o.Tb(0,"div",2),o.Ic(1,vt,3,14,"div",3),o.Sb()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;o.Cb(1),o.lc("ngForOf",e)("ngForTrackBy",n)}}function Tt(e,t){}const St=function(e,t,n){return{days:e,locale:t,trackByWeekDayHeaderDate:n}};function wt(e,t){if(1&e&&(o.Tb(0,"span",7),o.Kc(1),o.Sb()),2&e){const e=o.ec().day;o.Cb(1),o.Lc(e.badgeTotal)}}const Ct=function(e,t){return{event:e,draggedFrom:t}},kt=function(e,t){return{x:e,y:t}},Ot=function(){return{delay:300,delta:30}};function Dt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",10),o.ac("mouseenter",function(){o.yc(e);const n=t.$implicit;return o.ec(2).highlightDay.emit({event:n})})("mouseleave",function(){o.yc(e);const n=t.$implicit;return o.ec(2).unhighlightDay.emit({event:n})})("mwlClick",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).eventClicked.emit({event:i,sourceEvent:n})}),o.fc(1,"calendarEventTitle"),o.fc(2,"calendarA11y"),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2),i=n.tooltipPlacement,a=n.tooltipTemplate,c=n.tooltipAppendToBody,r=n.tooltipDelay,s=n.day,l=n.validateDrag;o.Fb("cal-draggable",e.draggable),o.lc("ngStyle",o.nc(22,ht,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",o.ic(1,15,e.title,"monthTooltip",e))("tooltipPlacement",i)("tooltipEvent",e)("tooltipTemplate",a)("tooltipAppendToBody",c)("tooltipDelay",r)("dropData",o.oc(24,Ct,e,s))("dragAxis",o.oc(27,kt,e.draggable,e.draggable))("validateDrag",l)("touchStartLongPress",o.mc(30,Ot)),o.Db("aria-hidden",o.hc(2,19,o.mc(31,st),"hideMonthCellEvents"))}}function It(e,t){if(1&e&&(o.Tb(0,"div",8),o.Ic(1,Dt,3,32,"div",9),o.Sb()),2&e){const e=o.ec(),t=e.day,n=e.trackByEventId;o.Cb(1),o.lc("ngForOf",t.events)("ngForTrackBy",n)}}const Et=function(e,t){return{day:e,locale:t}};function xt(e,t){if(1&e&&(o.Tb(0,"div",2),o.fc(1,"calendarA11y"),o.Tb(2,"span",3),o.Ic(3,wt,2,1,"span",4),o.Tb(4,"span",5),o.Kc(5),o.fc(6,"calendarDate"),o.Sb(),o.Sb(),o.Sb(),o.Ic(7,It,2,2,"div",6)),2&e){const e=t.day,n=t.locale;o.Db("aria-label",o.hc(1,4,o.oc(11,Et,e,n),"monthCell")),o.Cb(3),o.lc("ngIf",e.badgeTotal>0),o.Cb(2),o.Lc(o.ic(6,7,e.date,"monthViewDayNumber",n)),o.Cb(2),o.lc("ngIf",e.events.length>0)}}function Mt(e,t){}const Pt=function(e,t,n,i,a,c,o,r,s,l,d,u){return{day:e,openDay:t,locale:n,tooltipPlacement:i,highlightDay:a,unhighlightDay:c,eventClicked:o,tooltipTemplate:r,tooltipAppendToBody:s,tooltipDelay:l,trackByEventId:d,validateDrag:u}},At=function(e){return{event:e}},Rt=function(e,t){return{event:e,locale:t}};function Kt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",7),o.Ob(1,"span",8),o.Kc(2," "),o.Tb(3,"mwl-calendar-event-title",9),o.ac("mwlClick",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).eventClicked.emit({event:i,sourceEvent:n})})("mwlKeydownEnter",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).eventClicked.emit({event:i,sourceEvent:n})}),o.fc(4,"calendarA11y"),o.Sb(),o.Kc(5," "),o.Ob(6,"mwl-calendar-event-actions",10),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2).validateDrag,i=o.ec();o.Fb("cal-draggable",e.draggable),o.lc("ngClass",null==e?null:e.cssClass)("dropData",o.nc(16,At,e))("dragAxis",o.oc(18,kt,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",o.mc(21,Ot)),o.Cb(1),o.lc("ngStyle",o.nc(22,ht,null==e.color?null:e.color.primary)),o.Cb(2),o.lc("event",e)("customTemplate",i.eventTitleTemplate),o.Db("aria-label",o.hc(4,13,o.oc(24,Rt,e,i.locale),"eventDescription")),o.Cb(3),o.lc("event",e)("customTemplate",i.eventActionsTemplate)}}const Nt=function(e,t){return{date:e,locale:t}};function zt(e,t){if(1&e&&(o.Tb(0,"div",3),o.Ob(1,"span",4),o.fc(2,"calendarA11y"),o.Ob(3,"span",5),o.fc(4,"calendarA11y"),o.Ic(5,Kt,7,27,"div",6),o.Sb()),2&e){const e=o.ec(),t=e.events,n=e.trackByEventId,i=o.ec();o.lc("@collapse",void 0),o.Cb(1),o.Db("aria-label",o.hc(2,5,o.oc(11,Nt,i.date,i.locale),"openDayEventsAlert")),o.Cb(2),o.Db("aria-label",o.hc(4,8,o.oc(14,Nt,i.date,i.locale),"openDayEventsLandmark")),o.Cb(2),o.lc("ngForOf",t)("ngForTrackBy",n)}}function Ht(e,t){1&e&&o.Ic(0,zt,6,17,"div",2),2&e&&o.lc("ngIf",t.isOpen)}function $t(e,t){}const Ft=function(e,t,n,i,a){return{events:e,eventClicked:t,isOpen:n,trackByEventId:i,validateDrag:a}};function Lt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",13),o.ac("drop",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).eventDropped(n,i.date,!0)})("dragEnter",function(){o.yc(e);const n=t.$implicit;return o.ec(2).dateDragEnter(n.date)}),o.Sb()}}const _t=function(){return{left:!0}};function jt(e,t){1&e&&o.Ob(0,"div",22),2&e&&o.lc("resizeEdges",o.mc(1,_t))}const Bt=function(){return{right:!0}};function Yt(e,t){1&e&&o.Ob(0,"div",23),2&e&&o.lc("resizeEdges",o.mc(1,Bt))}const Wt=function(e,t){return{left:e,right:t}},Ut=function(e,t){return{event:e,calendarId:t}},qt=function(e){return{x:e}};function Qt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",17,18),o.ac("resizeStart",function(n){o.yc(e);const i=t.$implicit;o.ec();const a=o.wc(1);return o.ec(2).allDayEventResizeStarted(a,i,n)})("resizing",function(n){o.yc(e);const i=t.$implicit,a=o.ec(3);return a.allDayEventResizing(i,n,a.dayColumnWidth)})("resizeEnd",function(){o.yc(e);const n=t.$implicit;return o.ec(3).allDayEventResizeEnded(n)})("dragStart",function(){o.yc(e);const t=o.wc(1);o.ec();const n=o.wc(1);return o.ec(2).dragStarted(n,t)})("dragging",function(){return o.yc(e),o.ec(3).allDayEventDragMove()})("dragEnd",function(n){o.yc(e);const i=t.$implicit,a=o.ec(3);return a.dragEnded(i,n,a.dayColumnWidth)}),o.Ic(2,jt,1,2,"div",19),o.Tb(3,"mwl-calendar-week-view-event",20),o.ac("eventClicked",function(n){o.yc(e);const i=t.$implicit;return o.ec(3).eventClicked.emit({event:i.event,sourceEvent:n.sourceEvent})}),o.Sb(),o.Ic(4,Yt,1,2,"div",21),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(3);o.Fc("width",100/n.days.length*e.span,"%")("margin-left",100/n.days.length*e.offset,"%"),o.Fb("cal-draggable",e.event.draggable&&0===n.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),o.lc("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",o.oc(30,Wt,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",o.oc(33,Ut,e.event,n.calendarId))("dragAxis",o.oc(36,kt,e.event.draggable&&0===n.allDayEventResizes.size,!n.snapDraggedEvents&&e.event.draggable&&0===n.allDayEventResizes.size))("dragSnapGrid",n.snapDraggedEvents?o.nc(39,qt,n.dayColumnWidth):o.mc(41,st))("validateDrag",n.validateDrag)("touchStartLongPress",o.mc(42,Ot)),o.Cb(2),o.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),o.Cb(1),o.lc("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("daysInWeek",n.daysInWeek),o.Cb(1),o.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Vt(e,t){if(1&e&&(o.Tb(0,"div",14,15),o.Ic(2,Qt,5,43,"div",16),o.Sb()),2&e){const e=t.$implicit,n=o.ec(2);o.Cb(2),o.lc("ngForOf",e.row)("ngForTrackBy",n.trackByWeekAllDayEvent)}}function Xt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",8,9),o.ac("dragEnter",function(){return o.yc(e),o.ec().dragEnter("allDay")})("dragLeave",function(){return o.yc(e),o.ec().dragLeave("allDay")}),o.Tb(2,"div",5),o.Ob(3,"div",10),o.Ic(4,Lt,1,0,"div",11),o.Sb(),o.Ic(5,Vt,3,2,"div",12),o.Sb()}if(2&e){const e=o.ec();o.Cb(3),o.lc("ngTemplateOutlet",e.allDayEventsLabelTemplate),o.Cb(1),o.lc("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),o.Cb(1),o.lc("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Jt(e,t){if(1&e&&o.Ob(0,"mwl-calendar-week-view-hour-segment",28),2&e){const e=t.$implicit,n=o.ec(3);o.Fc("height",n.hourSegmentHeight,"px"),o.lc("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",n.daysInWeek)}}function Gt(e,t){if(1&e&&(o.Tb(0,"div",26),o.Ic(1,Jt,1,8,"mwl-calendar-week-view-hour-segment",27),o.Sb()),2&e){const e=t.$implicit,n=t.odd,i=o.ec(2);o.Fb("cal-hour-odd",n),o.Cb(1),o.lc("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Zt(e,t){if(1&e&&(o.Tb(0,"div",24),o.Ic(1,Gt,2,4,"div",25),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const en=function(){return{left:!0,top:!0}};function tn(e,t){1&e&&o.Ob(0,"div",22),2&e&&o.lc("resizeEdges",o.mc(1,en))}function nn(e,t){}function an(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mwl-calendar-week-view-event",36),o.ac("eventClicked",function(t){o.yc(e);const n=o.ec().$implicit;return o.ec(2).eventClicked.emit({event:n.event,sourceEvent:t.sourceEvent})}),o.Sb()}if(2&e){const e=o.ec().$implicit,t=o.ec().$implicit,n=o.ec();o.lc("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDisabled",n.dragActive||n.timeEventResizes.size>0)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("column",t)("daysInWeek",n.daysInWeek)}}const cn=function(){return{right:!0,bottom:!0}};function on(e,t){1&e&&o.Ob(0,"div",23),2&e&&o.lc("resizeEdges",o.mc(1,cn))}const rn=function(e,t,n,i){return{left:e,right:t,top:n,bottom:i}};function sn(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",33,18),o.ac("resizeStart",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2),c=o.wc(6);return a.timeEventResizeStarted(c,i,n)})("resizing",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).timeEventResizing(i,n)})("resizeEnd",function(){o.yc(e);const n=t.$implicit;return o.ec(2).timeEventResizeEnded(n)})("dragStart",function(){o.yc(e);const n=t.$implicit,i=o.wc(1),a=o.ec(2),c=o.wc(6);return a.dragStarted(c,i,n)})("dragging",function(n){o.yc(e);const i=t.$implicit;return o.ec(2).dragMove(i,n)})("dragEnd",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return a.dragEnded(i,n,a.dayColumnWidth,!0)}),o.Ic(2,tn,1,2,"div",19),o.Ic(3,nn,0,0,"ng-template",34),o.Ic(4,an,1,12,"ng-template",null,35,o.Jc),o.Ic(6,on,1,2,"div",21),o.Sb()}if(2&e){const e=t.$implicit,n=o.wc(5),i=o.ec(2);o.Fc("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),o.Fb("cal-draggable",e.event.draggable&&0===i.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),o.lc("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",o.qc(29,rn,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",o.oc(34,Ut,e.event,i.calendarId))("dragAxis",o.oc(37,kt,e.event.draggable&&0===i.timeEventResizes.size,e.event.draggable&&0===i.timeEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?o.oc(40,kt,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):o.mc(43,st))("touchStartLongPress",o.mc(44,Ot))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",n)("validateDrag",i.validateDrag),o.Cb(2),o.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),o.Cb(1),o.lc("ngTemplateOutlet",n),o.Cb(3),o.lc("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function ln(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mwl-calendar-week-view-hour-segment",38),o.ac("mwlClick",function(n){o.yc(e);const i=t.$implicit;return o.ec(3).hourSegmentClicked.emit({date:i.date,sourceEvent:n})})("drop",function(n){o.yc(e);const i=t.$implicit;return o.ec(3).eventDropped(n,i.date,!1)})("dragEnter",function(){o.yc(e);const n=t.$implicit;return o.ec(3).dateDragEnter(n.date)}),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(3);o.Fc("height",n.hourSegmentHeight,"px"),o.lc("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("daysInWeek",n.daysInWeek)("clickListenerDisabled",0===n.hourSegmentClicked.observers.length)("dragOverClass",n.dragActive&&n.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===n.daysInWeek)}}function dn(e,t){if(1&e&&(o.Tb(0,"div",26),o.Ic(1,ln,1,10,"mwl-calendar-week-view-hour-segment",37),o.Sb()),2&e){const e=t.$implicit,n=t.odd,i=o.ec(2);o.Fb("cal-hour-odd",n),o.Cb(1),o.lc("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function un(e,t){if(1&e&&(o.Tb(0,"div",29),o.Ob(1,"mwl-calendar-week-view-current-time-marker",30),o.Tb(2,"div",31),o.Ic(3,sn,7,45,"div",32),o.Sb(),o.Ic(4,dn,2,4,"div",25),o.Sb()),2&e){const e=t.$implicit,n=o.ec();o.Cb(1),o.lc("columnDate",e.date)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("hourSegments",n.hourSegments)("hourSegmentHeight",n.hourSegmentHeight)("customTemplate",n.currentTimeMarkerTemplate),o.Cb(2),o.lc("ngForOf",e.events)("ngForTrackBy",n.trackByWeekTimeEvent),o.Cb(1),o.lc("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}function mn(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",4),o.ac("mwlClick",function(n){o.yc(e);const i=t.$implicit;return o.ec().dayHeaderClicked.emit({day:i,sourceEvent:n})})("drop",function(n){o.yc(e);const i=t.$implicit;return o.ec().eventDropped.emit({event:n.dropData.event,newStart:i.date})})("dragEnter",function(){o.yc(e);const n=t.$implicit;return o.ec().dragEnter.emit({date:n.date})}),o.Tb(1,"b"),o.Kc(2),o.fc(3,"calendarDate"),o.Sb(),o.Ob(4,"br"),o.Tb(5,"span"),o.Kc(6),o.fc(7,"calendarDate"),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec().locale;o.Fb("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),o.lc("ngClass",e.cssClass),o.Cb(2),o.Lc(o.ic(3,11,e.date,"weekViewColumnHeader",n)),o.Cb(4),o.Lc(o.ic(7,15,e.date,"weekViewColumnSubHeader",n))}}function bn(e,t){if(1&e&&(o.Tb(0,"div",2),o.Ic(1,mn,8,19,"div",3),o.Sb()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;o.Cb(1),o.lc("ngForOf",e)("ngForTrackBy",n)}}function pn(e,t){}const hn=function(e,t,n,i,a,c){return{days:e,locale:t,dayHeaderClicked:n,eventDropped:i,dragEnter:a,trackByWeekDayHeaderDate:c}},gn=function(e,t){return{backgroundColor:e,borderColor:t}};function fn(e,t){if(1&e&&(o.Tb(0,"div",2),o.ac("mwlClick",function(e){return t.eventClicked.emit({sourceEvent:e})})("mwlKeydownEnter",function(e){return t.eventClicked.emit({sourceEvent:e})}),o.fc(1,"calendarEventTitle"),o.fc(2,"calendarA11y"),o.Ob(3,"mwl-calendar-event-actions",3),o.Kc(4," "),o.Ob(5,"mwl-calendar-event-title",4),o.Sb()),2&e){const e=t.weekEvent,n=t.tooltipPlacement,i=t.tooltipTemplate,a=t.tooltipAppendToBody,c=t.tooltipDisabled,r=t.tooltipDelay,s=t.daysInWeek,l=o.ec();o.lc("ngStyle",o.oc(20,gn,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",c?"":o.ic(1,13,e.event.title,1===s?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",n)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",i)("tooltipAppendToBody",a)("tooltipDelay",r),o.Db("aria-label",o.hc(2,17,o.oc(23,Rt,e.tempEvent||e.event,l.locale),"eventDescription")),o.Cb(3),o.lc("event",e.tempEvent||e.event)("customTemplate",l.eventActionsTemplate),o.Cb(2),o.lc("event",e.tempEvent||e.event)("customTemplate",l.eventTitleTemplate)("view",1===s?"day":"week")}}function vn(e,t){}const yn=function(e,t,n,i,a,c,o,r,s){return{weekEvent:e,tooltipPlacement:t,eventClicked:n,tooltipTemplate:i,tooltipAppendToBody:a,tooltipDisabled:c,tooltipDelay:o,column:r,daysInWeek:s}};function Tn(e,t){if(1&e&&(o.Tb(0,"div",4),o.Kc(1),o.fc(2,"calendarDate"),o.Sb()),2&e){const e=o.ec(),t=e.segment,n=e.daysInWeek,i=e.locale;o.Cb(1),o.Mc(" ",o.ic(2,1,t.displayDate,1===n?"dayViewHour":"weekViewHour",i)," ")}}function Sn(e,t){if(1&e&&(o.Tb(0,"div",2),o.fc(1,"calendarA11y"),o.Ic(2,Tn,3,5,"div",3),o.Sb()),2&e){const e=t.segment,n=t.isTimeLabel,i=t.daysInWeek;o.Fc("height",t.segmentHeight,"px"),o.Fb("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),o.lc("ngClass",e.cssClass),o.Db("aria-hidden",o.hc(1,9,o.mc(12,st),1===i?"hideDayHourSegment":"hideWeekHourSegment")),o.Cb(2),o.lc("ngIf",n)}}function wn(e,t){}const Cn=function(e,t,n,i,a){return{segment:e,locale:t,segmentHeight:n,isTimeLabel:i,daysInWeek:a}};function kn(e,t){if(1&e&&o.Ob(0,"div",3),2&e){const e=o.ec().topPx;o.Fc("top",e,"px")}}function On(e,t){1&e&&o.Ic(0,kn,1,2,"div",2),2&e&&o.lc("ngIf",t.isVisible)}function Dn(e,t){}const In=function(e,t,n,i,a,c,o){return{columnDate:e,dayStartHour:t,dayStartMinute:n,dayEndHour:i,dayEndMinute:a,isVisible:c,topPx:o}};let En=(()=>{let e=class{constructor(){this.trackByActionId=(e,t)=>t.id?t.id:t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,t){if(1&e&&(o.Ic(0,ct,1,1,"ng-template",null,0,o.Jc),o.Ic(2,ot,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.oc(2,rt,t.event,t.trackByActionId))}},directives:function(){return[f.t,f.o,f.n,f.m,ii,ai]},pipes:function(){return[ri]},encapsulation:2}),e})(),xn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(o.Ic(0,lt,3,10,"ng-template",null,0,o.Jc),o.Ic(2,dt,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.oc(2,ut,t.event,t.view))}},directives:function(){return[f.t]},pipes:function(){return[ni,ri]},encapsulation:2}),e})(),Mn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(o.Ic(0,mt,3,2,"ng-template",null,0,o.Jc),o.Ic(2,bt,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.pc(2,pt,t.contents,t.placement,t.event))}},directives:[f.t,f.m],encapsulation:2}),e})(),Pn=(()=>{let e=class{constructor(e,t,n,i,a,c){this.elementRef=e,this.injector=t,this.renderer=n,this.viewContainerRef=a,this.document=c,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new k.a,this.tooltipFactory=i.resolveComponentFactory(Mn)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Object(O.a)("now"):Object(D.a)(this.delay)).pipe(Object(A.a)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(e,t,n,i,a){var c=Array.isArray(n)?n:n.split(w),o=function(e){e.split("-");return[]},r=c.findIndex(function(e){return"auto"===e});r>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(e){null==c.find(function(t){return-1!==t.search("^"+e)})&&c.splice(r++,1,e)});var s,l=t.style;l.position="absolute",l.top="0",l.left="0",l["will-change"]="transform";for(var d=!1,u=0,m=c;u<m.length;u++)if(o(s=m[u]),C.positionElements(e,t,s,i)){d=!0;break}return d||(o(s=c[0]),C.positionElements(e,t,s,i)),s}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.l),o.Nb(o.t),o.Nb(o.G),o.Nb(o.j),o.Nb(o.R),o.Nb(f.e))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&o.ac("mouseenter",function(){return t.onMouseOver()})("mouseleave",function(){return t.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[o.Ab]}),e=y([T(5,Object(o.q)(f.e)),S("design:paramtypes",[o.l,o.t,o.G,o.j,o.R,Object])],e),e})();class An{}var Rn=function(e){return e.Month="month",e.Week="week",e.Day="day",e}({});const Kn=e=>function(e,t){var n=!0;function i(e,i){t(e,i),n=!1}return Array.isArray(e)?(e.forEach(function(e){e.start?e.start instanceof Date||i(V.StartPropertyNotDate,e):i(V.StartPropertyMissing,e),e.end&&(e.end instanceof Date||i(V.EndPropertyNotDate,e),e.start>e.end&&i(V.EndsBeforeStart,e))}),n):(t(V.NotArray,e),!1)}(e,(...e)=>console.warn("angular-calendar",...e));function Nn(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)&&Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}function zn(e,t){return Math.round(e/t)*t}const Hn=(e,t)=>t.id?t.id:t,$n=(e,t)=>t.date.toISOString(),Fn=(e,t)=>t.date.toISOString(),Ln=(e,t)=>t.segments[0].date.toISOString(),_n=(e,t)=>t.event.id?t.event.id:t.event,jn=(e,t)=>t.event.id?t.event.id:t.event;function Bn(e,t){return 60/(e*t)}function Yn(e,t,n,i){return zn(e,i||n)*Bn(t,n)}function Wn(e,t,n){return t.end?t.end:e.addMinutes(t.start,n)}function Un(e,t,n,i){let a=0,c=0;const o=n<0?e.subDays:e.addDays;let r=t;for(;c<=Math.abs(n);){r=o(t,a);const n=e.getDay(r);-1===i.indexOf(n)&&c++,a++}return r}function qn(e,t,n,i=[],a){let c=a?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});const o=e.endOfWeek(t,{weekStartsOn:n});for(;i.indexOf(e.getDay(c))>-1&&c<o;)c=e.addDays(c,1);if(a)return{viewStart:c,viewEnd:e.endOfDay(Un(e,c,a-1,i))};{let t=o;for(;i.indexOf(e.getDay(t))>-1&&t>c;)t=e.subDays(t,1);return{viewStart:c,viewEnd:t}}}function Qn({x:e,y:t}){return Math.abs(e)>1||Math.abs(t)>1}let Vn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new o.o}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Rn.Day?Un(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Rn.Week&&this.daysInWeek?Un(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(An))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&o.ac("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e=y([S("design:paramtypes",[An])],e),e})(),Xn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new o.o}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Rn.Day?Un(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Rn.Week&&this.daysInWeek?Un(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(An))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&o.ac("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e=y([S("design:paramtypes",[An])],e),e})(),Jn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.viewDateChange=new o.o}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(An))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,t){1&e&&o.ac("click",function(){return t.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),e=y([S("design:paramtypes",[An])],e),e})(),Gn=(()=>{let e=class{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return Object(f.z)(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return Object(f.z)(e,"d",t)}monthViewTitle({date:e,locale:t}){return Object(f.z)(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return Object(f.z)(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return Object(f.z)(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:n,excludeDays:i,daysInWeek:a}){const{viewStart:c,viewEnd:o}=qn(this.dateAdapter,e,n,i,a),r=(e,n)=>Object(f.z)(e,"MMM d"+(n?", yyyy":""),t);return`${r(c,c.getUTCFullYear()!==o.getUTCFullYear())} - ${r(o,!0)}`}weekViewHour({date:e,locale:t}){return Object(f.z)(e,"h a",t)}dayViewHour({date:e,locale:t}){return Object(f.z)(e,"h a",t)}dayViewTitle({date:e,locale:t}){return Object(f.z)(e,"EEEE, MMMM d, y",t)}};return e.\u0275fac=function(t){return new(t||e)(o.Xb(An))},e.\u0275prov=o.Jb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=y([S("design:paramtypes",[An])],e),e})(),Zn=(()=>{let e=class extends Gn{};return e.\u0275fac=function(t){return Mi(t||e)},e.\u0275prov=o.Jb({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),ei=(()=>{let e=class{constructor(e,t){this.dateFormatter=e,this.locale=t}transform(e,t,n=this.locale,i=0,a=[],c){if(void 0===this.dateFormatter[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Zn.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid date formatter. Can only be one of ${e.join(", ")}`)}return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:i,excludeDays:a,daysInWeek:c})}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(Zn),o.Nb(o.w))},e.\u0275pipe=o.Mb({name:"calendarDate",type:e,pure:!0}),e=y([T(1,Object(o.q)(o.w)),S("design:paramtypes",[Zn,String])],e),e})();class ti{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let ni=(()=>{let e=class{constructor(e){this.calendarEventTitle=e}transform(e,t,n){return this.calendarEventTitle[t](n,e)}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(ti))},e.\u0275pipe=o.Mb({name:"calendarEventTitle",type:e,pure:!0}),e=y([S("design:paramtypes",[ti])],e),e})(),ii=(()=>{let e=class{constructor(e,t,n){this.renderer=e,this.elm=t,this.document=n,this.clickListenerDisabled=!1,this.click=new o.o,this.destroy$=new k.a}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Object(A.a)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new I.a(e=>this.renderer.listen(this.elm.nativeElement,"click",t=>{e.next(t)}))}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.G),o.Nb(o.l),o.Nb(f.e))},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),e=y([T(2,Object(o.q)(f.e)),S("design:paramtypes",[o.G,o.l,Object])],e),e})(),ai=(()=>{let e=class{constructor(){this.keydown=new o.o}onKeyPress(e){13!==e.keyCode&&13!==e.which&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Ib({type:e,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,t){1&e&&o.ac("keydown",function(e){return t.onKeyPress(e)})},outputs:{keydown:"mwlKeydownEnter"}}),e})(),ci=(()=>{let e=class{constructor(e){this.dateAdapter=e}getMonthView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,a=t.viewDate,c=t.weekStartsOn,o=t.excluded,r=void 0===o?[]:o,s=t.viewStart,l=void 0===s?e.startOfMonth(a):s,d=t.viewEnd,u=void 0===d?e.endOfMonth(a):d,m=t.weekendDays;i||(i=[]);for(var b,p=e.endOfWeek,h=e.differenceInDays,g=e.startOfDay,f=e.addHours,v=e.endOfDay,y=e.isSameMonth,T=e.getDay,S=(0,e.startOfWeek)(l,{weekStartsOn:c}),w=p(u,{weekStartsOn:c}),C=_(e,{events:i,periodStart:S,periodEnd:w}),k=[],O=function(t){var n;if(b?(n=g(f(b,24)),b.getTime()===n.getTime()&&(n=g(f(b,25))),b=n):n=b=S,!r.some(function(e){return T(n)===e})){var i=j(e,{date:n,weekendDays:m}),c=_(e,{events:C,periodStart:g(n),periodEnd:v(n)});i.inMonth=y(n,a),i.events=c,i.badgeTotal=c.length,k.push(i)}},D=0;D<h(w,S)+1;D++)O();var I=[],E=7-r.length;if(E<7)for(D=0;D<k.length;D+=E){var x=k.slice(D,D+E);x.some(function(e){return l<=e.date&&e.date<u})&&(I=z(I,x))}else I=k;var M=Math.floor(I.length/E),P=[];for(D=0;D<M;D++)P.push(D*E);return{rowOffsets:P,totalDaysVisibleInWeek:E,days:I,period:{start:I[0].date,end:v(I[I.length-1].date),events:C}}}(this.dateAdapter,e)}getWeekViewHeader(e){return B(this.dateAdapter,e)}getWeekView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,a=t.viewDate,c=t.weekStartsOn,o=t.excluded,r=void 0===o?[]:o,s=t.precision,l=void 0===s?"days":s,d=t.absolutePositionedEvents,u=void 0!==d&&d,m=t.hourSegments,b=t.hourDuration,p=t.dayStart,h=t.dayEnd,g=t.weekendDays,f=t.segmentHeight,v=t.minimumEventHeight,y=t.viewStart,T=void 0===y?e.startOfWeek(a,{weekStartsOn:c}):y,S=t.viewEnd,w=void 0===S?e.endOfWeek(a,{weekStartsOn:c}):S;i||(i=[]);var C=e.endOfDay,k=_(e,{events:i,periodStart:T=(0,e.startOfDay)(T),periodEnd:w=C(w)}),O=B(e,{viewDate:a,weekStartsOn:c,excluded:r,weekendDays:g,viewStart:T,viewEnd:w});return{allDayEventRows:Y(e,{events:k,excluded:r,precision:l,absolutePositionedEvents:u,viewStart:T,viewEnd:w}),period:{events:k,start:O[0].date,end:C(O[O.length-1].date)},hourColumns:W(e,{events:i,viewDate:a,hourSegments:m,hourDuration:b,dayStart:p,dayEnd:h,weekStartsOn:c,excluded:r,weekendDays:g,segmentHeight:f,viewStart:T,viewEnd:w,minimumEventHeight:v})}}(this.dateAdapter,e)}};return e.\u0275fac=function(t){return new(t||e)(o.Xb(An))},e.\u0275prov=o.Jb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=y([S("design:paramtypes",[An])],e),e})(),oi=(()=>{let e=class{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:t}){return e.badgeTotal>0?`\n        ${Object(f.z)(e.date,"EEEE MMMM d",t)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:""+Object(f.z)(e.date,"EEEE MMMM d",t)}openDayEventsLandmark({date:e,locale:t}){return`\n      Beginning of expanded view for ${Object(f.z)(e,"EEEE MMMM dd",t)}\n    `}openDayEventsAlert({date:e,locale:t}){return Object(f.z)(e,"EEEE MMMM dd",t)+" expanded"}eventDescription({event:e,locale:t}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:t});const n=`\n      ${Object(f.z)(e.start,"EEEE MMMM dd",t)},\n      ${e.title}, from ${Object(f.z)(e.start,"hh:mm a",t)}\n    `;return e.end?n+" to "+Object(f.z)(e.end,"hh:mm a",t):n}allDayEventDescription({event:e,locale:t}){const n=`\n      ${e.title}, event spans multiple days:\n      start time ${Object(f.z)(e.start,"MMMM dd hh:mm a",t)}\n    `;return e.end?n+", stop time "+Object(f.z)(e.end,"MMMM d hh:mm a",t):n+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return e.\u0275fac=function(t){return new(t||e)(o.Xb(f.h))},e.\u0275prov=o.Jb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=y([S("design:paramtypes",[f.h])],e),e})(),ri=(()=>{let e=class{constructor(e,t){this.calendarA11y=e,this.locale=t}transform(e,t){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(oi.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid a11y method. Can only be one of ${e.join(", ")}`)}return this.calendarA11y[t](e)}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(oi),o.Nb(o.w))},e.\u0275pipe=o.Mb({name:"calendarA11y",type:e,pure:!0}),e=y([T(1,Object(o.q)(o.w)),S("design:paramtypes",[oi,String])],e),e})();const si=new o.s("Moment");var li,di=function(e){return e.Drag="drag",e.Drop="drop",e.Resize="resize",e}({});let ui=(()=>{let e=li=class{static forRoot(e,t={}){return{ngModule:li,providers:[e,t.eventTitleFormatter||ti,t.dateFormatter||Zn,t.utils||ci,t.a11y||oi]}}};return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},providers:[f.h],imports:[[f.c]]}),e})(),mi=(()=>{let e=class{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new o.o,this.dayClicked=new o.o,this.eventClicked=new o.o,this.columnHeaderClicked=new o.o,this.eventTimesChanged=new o.o,this.trackByRowOffset=(e,t)=>this.view.days.slice(t,this.view.totalDaysVisibleInWeek).map(e=>e.date.toISOString()).join("-"),this.trackByDate=(e,t)=>t.date.toISOString(),this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&Kn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,t){this.view.days.forEach(n=>{t&&n.events.indexOf(e)>-1?n.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete n.backgroundColor})}eventDropped(e,t,n){if(e!==n){const n=this.dateAdapter.getYear(e.date),i=this.dateAdapter.getMonth(e.date),a=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,n),i),a);let o;if(t.end){const e=this.dateAdapter.differenceInSeconds(c,t.start);o=this.dateAdapter.addSeconds(t.end,e)}this.eventTimesChanged.emit({event:t,newStart:c,newEnd:o,day:e,type:di.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(t=>this.dateAdapter.isSameDay(t.date,e));const t=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(t/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.h),o.Nb(ci),o.Nb(o.w),o.Nb(An))},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[o.Ab],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"mwl-calendar-month-view-header",1),o.ac("columnHeaderClicked",function(e){return t.columnHeaderClicked.emit(e)}),o.Sb(),o.Tb(2,"div",2),o.Ic(3,ft,5,13,"div",3),o.Sb(),o.Sb()),2&e&&(o.Cb(1),o.lc("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),o.Cb(2),o.lc("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[bi,f.n,gi,He,pi,f.m,f.p,ii,ai]},pipes:function(){return[f.w,ri]},encapsulation:2}),e=y([T(2,Object(o.q)(o.w)),S("design:paramtypes",[o.h,ci,String,An])],e),e})(),bi=(()=>{let e=class{constructor(){this.columnHeaderClicked=new o.o,this.trackByWeekDayHeaderDate=$n}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(o.Ic(0,yt,2,2,"ng-template",null,0,o.Jc),o.Ic(2,Tt,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.pc(2,St,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[f.t,f.n,f.m],pipes:[ei],encapsulation:2}),e})(),pi=(()=>{let e=class{constructor(){this.highlightDay=new o.o,this.unhighlightDay=new o.o,this.eventClicked=new o.o,this.trackByEventId=Hn,this.validateDrag=Qn}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&o.Fb("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(o.Ic(0,xt,8,14,"ng-template",null,0,o.Jc),o.Ic(2,Mt,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.uc(2,Pt,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[f.t,f.o,f.n,Ne,f.p,f.m,Pn,ii],pipes:[ri,ei,ni],encapsulation:2}),e})();const hi=Object(tt.m)("collapse",[Object(tt.j)("void",Object(tt.k)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Object(tt.j)("*",Object(tt.k)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Object(tt.l)("* => void",Object(tt.e)("150ms ease-out")),Object(tt.l)("void => *",Object(tt.e)("150ms ease-in"))]);let gi=(()=>{let e=class{constructor(){this.isOpen=!1,this.eventClicked=new o.o,this.trackByEventId=Hn,this.validateDrag=Qn}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(o.Ic(0,Ht,1,1,"ng-template",null,0,o.Jc),o.Ic(2,$t,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.rc(2,Ft,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[f.t,f.o,f.n,Ne,f.m,f.p,xn,ii,ai,En],pipes:[ri],encapsulation:2,data:{animation:[hi]}}),e})(),fi=(()=>{let e=class{};return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[f.c,$e,ui],$e]}),e})();class vi{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:n,dragAlreadyMoved:i,transform:a}){if(n){const n=Object.assign({},this.startPosition,{left:this.startPosition.left+a.x,right:this.startPosition.right+a.x,top:this.startPosition.top+a.y,bottom:this.startPosition.bottom+a.y});return(Qn({x:e,y:t})||i)&&Nn(this.dragContainerElement.getBoundingClientRect(),n)}return Qn({x:e,y:t})||i}}class yi{constructor(e,t){this.resizeContainerElement=e,this.minWidth=t}validateResize({rectangle:e}){return!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&Nn(this.resizeContainerElement.getBoundingClientRect(),e)}}let Ti=(()=>{let e=class{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new o.o,this.eventClicked=new o.o,this.eventTimesChanged=new o.o,this.beforeViewRender=new o.o,this.hourSegmentClicked=new o.o,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=$n,this.trackByHourSegment=Fn,this.trackByHour=Ln,this.trackByWeekAllDayEvent=_n,this.trackByWeekTimeEvent=jn,this.trackByHourColumn=(e,t)=>t.hours[0]?t.hours[0].segments[0].date.toISOString():t,this.trackById=(e,t)=>t.id,this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,n=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;t&&this.refreshHeader(),e.events&&Kn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}timeEventResizeStarted(e,t,n){this.timeEventResizes.set(t.event,n),this.resizeStarted(e)}timeEventResizing(e,t){this.timeEventResizes.set(e.event,t);const n=new Map,i=[...this.events];this.timeEventResizes.forEach((e,t)=>{const a=this.getTimeEventResizedDates(t,e),c=Object.assign(Object.assign({},t),a);n.set(c,t);const o=i.indexOf(t);i[o]=c}),this.restoreOriginalEvents(i,n,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes.delete(e.event);const n=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:e.event,type:di.Resize})}}allDayEventResizeStarted(e,t,n){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:void 0!==n.edges.left?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))}allDayEventResizing(e,t,n){const i=this.allDayEventResizes.get(e);if(void 0!==t.edges.left){const a=Math.round(+t.edges.left/n);e.offset=i.originalOffset+a,e.span=i.originalSpan-a}else if(void 0!==t.edges.right){const a=Math.round(+t.edges.right/n);e.span=i.originalSpan+a}}allDayEventResizeEnded(e){const t=this.allDayEventResizes.get(e);if(t){const n="left"===t.edge;let i;i=n?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;let a=e.event.start,c=e.event.end||e.event.start;n?a=Un(this.dateAdapter,a,i,this.excludeDays):c=Un(this.dateAdapter,c,i,this.excludeDays),this.eventTimesChanged.emit({newStart:a,newEnd:c,event:e.event,type:di.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,t,n){!function(e,t,n,i){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==i||e.dropData.event.allDay&&!n||!e.dropData.event.allDay&&n)}(e,0,n,this.calendarId)||this.lastDragEnterDate.getTime()!==t.getTime()||this.snapDraggedEvents&&e.dropData.event===this.lastDraggedEvent||this.eventTimesChanged.emit({type:di.Drop,event:e.dropData.event,newStart:t,allDay:n}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,t,n){this.dayColumnWidth=this.getDayColumnWidth(e);const i=new vi(e,t);this.validateDrag=({x:e,y:t,transform:n})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&i.validateDrag({x:e,y:t,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:n}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach(e=>{const t=e.events.find(e=>e.event===n.event&&e!==n);t&&(t.width=0,t.height=0)}),this.cdr.markForCheck()}dragMove(e,t){const n=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),i=e.event,a=Object.assign(Object.assign({},i),n),c=this.events.map(e=>e===i?a:e);this.restoreOriginalEvents(c,new Map([[a,i]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,t,n,i=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:a,end:c}=this.getDragMovedEventTimes(e,t,n,i);(this.snapDraggedEvents||this.eventDragEnterByType[i?"time":"allDay"]>0)&&function(e,t,n){const i=t||e;return n.start<=e&&e<=n.end||n.start<=i&&i<=n.end}(a,c,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:a,newEnd:c,event:e.event,type:di.Drag,allDay:!i}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},qn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},qn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,t,n,i){const a=zn(t.x,n)/n,c=i?Yn(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,o=this.dateAdapter.addMinutes(Un(this.dateAdapter,e.event.start,a,this.excludeDays),c);let r;return e.event.end&&(r=this.dateAdapter.addMinutes(Un(this.dateAdapter,e.event.end,a,this.excludeDays),c)),{start:o,end:r}}restoreOriginalEvents(e,t,n=!0){const i=this.view;n&&(this.view=this.getWeekView(e));const a=e.filter(e=>t.has(e));this.view.hourColumns.forEach((e,c)=>{i.hourColumns[c].hours.forEach((t,n)=>{t.segments.forEach((t,i)=>{e.hours[n].segments[i].cssClass=t.cssClass})}),a.forEach(i=>{const a=t.get(i),c=e.events.find(e=>e.event===(n?i:a));c?(c.event=a,c.tempEvent=i,n||(c.height=0,c.width=0)):e.events.push({event:a,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:i})})}),t.clear()}getTimeEventResizedDates(e,t){const n=Bn(this.hourSegments,i=this.hourSegmentHeight)*i;var i;const a={start:e.start,end:Wn(this.dateAdapter,e,n)},c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["end"]),o={start:this.dateAdapter.addMinutes(a.end,-1*n),end:Wn(this.dateAdapter,c,n)};if(void 0!==t.edges.left){const e=Math.round(+t.edges.left/this.dayColumnWidth),n=Un(this.dateAdapter,a.start,e,this.excludeDays);a.start=n<o.start?n:o.start}else if(void 0!==t.edges.right){const e=Math.round(+t.edges.right/this.dayColumnWidth),n=Un(this.dateAdapter,a.end,e,this.excludeDays);a.end=n>o.end?n:o.end}if(void 0!==t.edges.top){const e=Yn(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(a.start,e);a.start=n<o.start?n:o.start}else if(void 0!==t.edges.bottom){const e=Yn(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(a.end,e);a.end=n>o.end?n:o.end}return a}resizeStarted(e,t){this.dayColumnWidth=this.getDayColumnWidth(e);const n=new yi(e,t);this.validateResize=({rectangle:e})=>n.validateResize({rectangle:e}),this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.h),o.Nb(ci),o.Nb(o.w),o.Nb(An))},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[o.Ab],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"mwl-calendar-week-view-header",1),o.ac("dayHeaderClicked",function(e){return t.dayHeaderClicked.emit(e)})("eventDropped",function(e){return t.eventDropped({dropData:e},e.newStart,!0)})("dragEnter",function(e){return t.dateDragEnter(e.date)}),o.Sb(),o.Ic(2,Xt,6,5,"div",2),o.Tb(3,"div",3),o.ac("dragEnter",function(){return t.dragEnter("time")})("dragLeave",function(){return t.dragLeave("time")}),o.Ic(4,Zt,2,2,"div",4),o.Tb(5,"div",5,6),o.Ic(7,un,5,12,"div",7),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Cb(1),o.lc("days",t.days)("locale",t.locale)("customTemplate",t.headerTemplate),o.Cb(1),o.lc("ngIf",t.view.allDayEventRows.length>0),o.Cb(2),o.lc("ngIf",t.view.hourColumns.length>0&&1!==t.daysInWeek),o.Cb(1),o.Fb("cal-resize-active",t.timeEventResizes.size>0),o.Cb(2),o.lc("ngForOf",t.view.hourColumns)("ngForTrackBy",t.trackByHourColumn))},directives:function(){return[Si,f.o,He,f.n,f.t,Je,Ne,f.m,wi,Ze,Ci,ki,ii]},encapsulation:2}),e=y([T(2,Object(o.q)(o.w)),S("design:paramtypes",[o.h,ci,String,An])],e),e})(),Si=(()=>{let e=class{constructor(){this.dayHeaderClicked=new o.o,this.eventDropped=new o.o,this.dragEnter=new o.o,this.trackByWeekDayHeaderDate=$n}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,t){if(1&e&&(o.Ic(0,bn,2,2,"ng-template",null,0,o.Jc),o.Ic(2,pn,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.sc(2,hn,t.days,t.locale,t.dayHeaderClicked,t.eventDropped,t.dragEnter,t.trackByWeekDayHeaderDate))}},directives:[f.t,f.n,He,f.m,ii],pipes:[ei],encapsulation:2}),e})(),wi=(()=>{let e=class{constructor(){this.eventClicked=new o.o}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,t){if(1&e&&(o.Ic(0,fn,6,26,"ng-template",null,0,o.Jc),o.Ic(2,vn,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.uc(2,yn,[t.weekEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDisabled,t.tooltipDelay,t.column,t.daysInWeek]))}},directives:[f.t,f.p,Pn,ii,ai,En,xn],pipes:[ni,ri],encapsulation:2}),e})(),Ci=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,t){if(1&e&&(o.Ic(0,Sn,3,13,"ng-template",null,0,o.Jc),o.Ic(2,wn,0,0,"ng-template",1)),2&e){const e=o.wc(1);o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.rc(2,Cn,t.segment,t.locale,t.segmentHeight,t.isTimeLabel,t.daysInWeek))}},directives:[f.t,f.m,f.o],pipes:[ri,ei],encapsulation:2}),e})(),ki=(()=>{let e=class{constructor(e,t){var n;this.dateAdapter=e,this.zone=t,this.columnDate$=new E.a(this.columnDate),this.marker$=this.zone.onStable.pipe(Object(R.a)(()=>function(e=0,t=x.a){return(!Object(M.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=x.a),new I.a(n=>(n.add(t.schedule(P,e,{subscriber:n,counter:0,period:e})),n))}(6e4)),Object(K.a)(0),(n=this.columnDate$,Object(R.a)(()=>n)),Object(h.a)(e=>{const t=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayStartHour),this.dayStartMinute),n=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayEndHour),this.dayEndMinute),i=this.hourSegments*this.hourSegmentHeight/60,a=new Date;return{isVisible:this.dateAdapter.isSameDay(e,a)&&a>=t&&a<=n,top:this.dateAdapter.differenceInMinutes(a,t)*i}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}};return e.\u0275fac=function(t){return new(t||e)(o.Nb(An),o.Nb(o.B))},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[o.Ab],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,t){if(1&e&&(o.Ic(0,On,1,1,"ng-template",null,0,o.Jc),o.Ic(2,Dn,0,0,"ng-template",1),o.fc(3,"async"),o.fc(4,"async")),2&e){const e=o.wc(1);let n=null;o.Cb(2),o.lc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",o.tc(6,In,t.columnDate,t.dayStartHour,t.dayStartMinute,t.dayEndHour,t.dayEndMinute,null==(n=o.gc(3,2,t.marker$))?null:n.isVisible,null==(n=o.gc(4,4,t.marker$))?null:n.top))}},directives:[f.t,f.o],pipes:[f.b],encapsulation:2}),e=y([S("design:paramtypes",[An,o.B])],e),e})(),Oi=(()=>{let e=class{};return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[f.c,et,$e,ui],et,$e]}),e})(),Di=(()=>{let e=class{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new o.o,this.hourSegmentClicked=new o.o,this.eventTimesChanged=new o.o,this.beforeViewRender=new o.o}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:23,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourSegmentHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,t){1&e&&(o.Tb(0,"mwl-calendar-week-view",0),o.ac("eventClicked",function(e){return t.eventClicked.emit(e)})("hourSegmentClicked",function(e){return t.hourSegmentClicked.emit(e)})("eventTimesChanged",function(e){return t.eventTimesChanged.emit(e)})("beforeViewRender",function(e){return t.beforeViewRender.emit(e)}),o.Sb()),2&e&&o.lc("daysInWeek",1)("viewDate",t.viewDate)("events",t.events)("hourSegments",t.hourSegments)("hourSegmentHeight",t.hourSegmentHeight)("dayStartHour",t.dayStartHour)("dayStartMinute",t.dayStartMinute)("dayEndHour",t.dayEndHour)("dayEndMinute",t.dayEndMinute)("refresh",t.refresh)("locale",t.locale)("eventSnapSize",t.eventSnapSize)("tooltipPlacement",t.tooltipPlacement)("tooltipTemplate",t.tooltipTemplate)("tooltipAppendToBody",t.tooltipAppendToBody)("tooltipDelay",t.tooltipDelay)("hourSegmentTemplate",t.hourSegmentTemplate)("eventTemplate",t.eventTemplate)("eventTitleTemplate",t.eventTitleTemplate)("eventActionsTemplate",t.eventActionsTemplate)("snapDraggedEvents",t.snapDraggedEvents)("allDayEventsLabelTemplate",t.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",t.currentTimeMarkerTemplate)},directives:[Ti],encapsulation:2}),e})(),Ii=(()=>{let e=class{};return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[f.c,ui,Oi]]}),e})();var Ei;let xi=(()=>{let e=Ei=class{static forRoot(e,t={}){return{ngModule:Ei,providers:[e,t.eventTitleFormatter||ti,t.dateFormatter||Zn,t.utils||ci,t.a11y||oi]}}};return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[ui,fi,Oi,Ii],ui,fi,Oi,Ii]}),e})();const Mi=o.Vb(Zn);let Pi=(()=>{class e extends Zn{monthViewColumnHeader({date:e,locale:t}){const n=this.isSmallScreen?"EEE":"EEEE";return new f.f(t).transform(e,n,t)}weekViewColumnHeader({date:e,locale:t}){const n=this.isSmallScreen?"EEEEE":"EEEE";return new f.f(t).transform(e,n,t)}weekViewColumnSubHeader({date:e,locale:t}){const n=this.isSmallScreen?"d":"MMM d";return new f.f(t).transform(e,n,t)}}return e.\u0275fac=function(t){return Ai(t||e)},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac}),e})();const Ai=o.Vb(Pi);let Ri=(()=>{class e{constructor(e){this.notificationsService=e}resolve(){return this.notificationsService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(g))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ki=(()=>{class e{constructor(e){this.appointmentsService=e}resolve(){return this.appointmentsService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(l.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ni=(()=>{class e{constructor(e){this.treatmentsService=e}resolve(){return this.treatmentsService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(l.i))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zi=(()=>{class e{constructor(e){this.treatmentCategoriesService=e}resolve(){return this.treatmentCategoriesService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(l.h))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hi=(()=>{class e{constructor(e){this.workingDaysService=e}resolve(){return this.workingDaysService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(l.k))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$i=(()=>{class e{constructor(e){this.breakTimesService=e}resolve(){return this.breakTimesService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(l.c))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Fi=(()=>{class e{constructor(e){this.unavailabilitiesService=e}resolve(){return this.unavailabilitiesService.getAll()}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(l.j))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Li=n("0EQZ"),_i=n("T9nP"),ji=n("nYR2");class Bi{constructor(e){this.resourceService=e,this.loadingService=_i.a.instance.get(l.e),this.selection=new Li.c(!0,[]),this.items=[]}get isAllSelected(){return this.selection.selected.length===this.items.length}masterToggle(){this.isAllSelected?this.selection.clear():this.items.forEach(e=>{this.selection.select(e)})}addItem(e){this.items.unshift(e)}editItem(e){this.items=this.items.map(t=>t.id===e.id?e:t)}deleteItems(e){this.items=this.items.filter(t=>!e.some(e=>e.id===t.id))}addResource(e){return this.loadingService.start(),this.resourceService.createOne(e).pipe(Object(ji.a)(()=>{this.selection.clear(),this.loadingService.stop()}),Object(Le.a)(e=>this.addItem(e)))}editResource(e){return this.loadingService.start(),this.resourceService.updateOne(e).pipe(Object(ji.a)(()=>{this.selection.clear(),this.loadingService.stop()}),Object(Le.a)(e=>this.editItem(e)))}deleteResources(e){return this.loadingService.start(),this.resourceService.deleteMany(e).pipe(Object(ji.a)(()=>{this.selection.clear(),this.loadingService.stop()}),Object(Le.a)(e=>this.deleteItems(e)))}}var Yi=n("+0xr");class Wi{constructor(e){this.resourceService=e,this.loadingService=_i.a.instance.get(l.e),this.selection=new Li.c(!0,[]),this.rows=new Yi.k([])}get isAllSelected(){return this.selection.selected.length===this.rows.data.length}masterToggle(){this.isAllSelected?this.selection.clear():this.rows.data.forEach(e=>{this.selection.select(e)})}addRow(e){this.rows.data.unshift(e)}editRow(e){this.rows.data=this.rows.data.map(t=>t.id===e.id?e:t)}deleteRows(e){this.rows.data=this.rows.data.filter(t=>!e.some(e=>e.id===t.id))}addResource(e){return this.loadingService.start(),this.resourceService.createOne(e).pipe(Object(ji.a)(()=>{this.selection.clear(),this.loadingService.stop()}),Object(Le.a)(e=>{this.addRow(e),this.refreshRows()}))}editResource(e){return this.loadingService.start(),this.resourceService.updateOne(e).pipe(Object(ji.a)(()=>{this.selection.clear(),this.loadingService.stop()}),Object(Le.a)(e=>{this.editRow(e)}))}deleteResources(e){return this.loadingService.start(),this.resourceService.deleteMany(e).pipe(Object(ji.a)(()=>{this.selection.clear(),this.loadingService.stop()}),Object(Le.a)(e=>{this.deleteRows(e),this.refreshRows()}))}refreshRows(){this.rows.data=this.rows.data}}var Ui=n("/t3+"),qi=n("bTqV");let Qi=(()=>{class e{constructor(e){this.layoutService=e}onClick(){this.layoutService.toggleSidenav()}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r))},e.\u0275dir=o.Ib({type:e,selectors:[["","appSidenavToggle",""]],hostBindings:function(e,t){1&e&&o.ac("click",function(){return t.onClick()})}}),e})();var Vi=n("NFeN"),Xi=function(e){return e[e.APPOINTMENT_CREATED=1]="APPOINTMENT_CREATED",e[e.APPOINTMENT_CANCELLED=2]="APPOINTMENT_CANCELLED",e}({}),Ji=n("0IaG"),Gi=n("TwVa"),Zi=n("MutI"),ea=n("FKr1"),ta=n("yqAp");let na=(()=>{class e{constructor(e){this.appointment=e}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-appointment-details"]],decls:37,vars:12,consts:[["mat-dialog-content",""],["mat-subheader",""],["matListIcon",""],["matLine",""]],template:function(e,t){1&e&&(o.Tb(0,"mat-list",0),o.Tb(1,"span",1),o.Kc(2),o.fc(3,"titlecase"),o.Sb(),o.Tb(4,"h3"),o.Kc(5),o.Sb(),o.Tb(6,"mat-list-item"),o.Tb(7,"mat-icon",2),o.Kc(8,"event"),o.Sb(),o.Tb(9,"span",3),o.Kc(10),o.Sb(),o.Sb(),o.Tb(11,"mat-list-item"),o.Tb(12,"mat-icon",2),o.Kc(13,"schedule"),o.Sb(),o.Tb(14,"span",3),o.Kc(15),o.Sb(),o.Sb(),o.Tb(16,"mat-list-item"),o.Tb(17,"mat-icon",2),o.Kc(18,"room_service"),o.Sb(),o.Tb(19,"span",3),o.Kc(20),o.Sb(),o.Sb(),o.Tb(21,"mat-list-item"),o.Tb(22,"mat-icon",2),o.Kc(23,"email"),o.Sb(),o.Tb(24,"span",3),o.Kc(25),o.Sb(),o.Sb(),o.Tb(26,"mat-list-item"),o.Tb(27,"mat-icon",2),o.Kc(28,"phone"),o.Sb(),o.Tb(29,"span",3),o.Kc(30),o.Sb(),o.Sb(),o.Tb(31,"mat-list-item"),o.Tb(32,"mat-icon",2),o.Kc(33,"power_settings_new"),o.Sb(),o.Tb(34,"span",3),o.Kc(35),o.fc(36,"status"),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Cb(2),o.Mc(" ",o.gc(3,8,t.appointment.date.fromNow())," "),o.Cb(3),o.Mc("Appointment with ",t.appointment.name,""),o.Cb(5),o.Mc(" ",t.appointment.date.format("DD/MM/YYYY")," "),o.Cb(5),o.Mc(" ",t.appointment.date.format("HH:mm A")," "),o.Cb(5),o.Mc(" ",t.appointment.treatment.name," "),o.Cb(5),o.Mc(" ",t.appointment.email," "),o.Cb(5),o.Mc(" ",t.appointment.phone||"None"," "),o.Cb(5),o.Mc(" ",o.gc(36,10,t.appointment.status)," "))},directives:[Zi.a,Ji.e,Zi.f,Zi.c,Vi.a,Zi.b,ea.k],pipes:[f.x,ta.a],styles:["h3[_ngcontent-%COMP%]{margin:0 0 8px;padding:0 16px;font-size:20px;line-height:32px}.mat-line[_ngcontent-%COMP%]{word-break:break-all!important;white-space:normal!important}"]}),e})();var ia=n("lVtL");function aa(e,t){if(1&e&&(o.Tb(0,"mat-list-item"),o.Tb(1,"div",5),o.Tb(2,"b"),o.Kc(3,"New appointment"),o.Sb(),o.Sb(),o.Tb(4,"div",5),o.Kc(5),o.Sb(),o.Sb()),2&e){const e=o.ec();o.Cb(5),o.Mc(" New appointment for ",e.notification.payload.date.format("DD/MM/YYYY, [at] h:mm A")," ")}}function ca(e,t){if(1&e&&(o.Tb(0,"mat-list-item"),o.Tb(1,"div",5),o.Tb(2,"b"),o.Kc(3,"Appointment cancelled"),o.Sb(),o.Sb(),o.Tb(4,"div",5),o.Kc(5),o.Sb(),o.Sb()),2&e){const e=o.ec();o.Cb(5),o.Mc(" The appointment for ",e.notification.payload.date.format("DD/MM/YYYY, [at] h:mm A")," was cancelled ")}}let oa=(()=>{class e{constructor(e,t){this.notification=e,this.dialog=t,this.NotificationType=Xi}onClick(){this.dialog.open(na,{data:this.notification.payload})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-notification-details"]],decls:11,vars:8,consts:[["mat-subheader",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["align","end"],["mat-raised-button","","color","accent",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(o.Tb(0,"mat-list"),o.Tb(1,"span",0),o.Kc(2),o.fc(3,"titlecase"),o.fc(4,"amTimeAgo"),o.Sb(),o.Rb(5,1),o.Ic(6,aa,6,1,"mat-list-item",2),o.Ic(7,ca,6,1,"mat-list-item",2),o.Qb(),o.Sb(),o.Tb(8,"mat-dialog-actions",3),o.Tb(9,"button",4),o.ac("click",function(){return t.onClick()}),o.Kc(10," View appointment "),o.Sb(),o.Sb()),2&e&&(o.Cb(2),o.Mc(" ",o.gc(3,4,o.gc(4,6,t.notification.createdAt))," "),o.Cb(3),o.lc("ngSwitch",t.notification.type),o.Cb(1),o.lc("ngSwitchCase",t.NotificationType.APPOINTMENT_CREATED),o.Cb(1),o.lc("ngSwitchCase",t.NotificationType.APPOINTMENT_CANCELLED))},directives:[Zi.a,Zi.f,f.q,f.r,Ji.c,qi.a,Zi.c,ea.k],pipes:[f.x,ia.a],styles:[".mat-line[_ngcontent-%COMP%]{word-break:break-all!important;white-space:normal!important}"]}),e})();var ra=n("NFDk"),sa=n("STbY"),la=n("TU8p");function da(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item",8),o.ac("click",function(e){return e.preventDefault()})("click",function(e){return e.stopPropagation()})("click",function(){o.yc(e);const t=o.ec().$implicit;return o.ec(2).onClick(t)}),o.Tb(1,"div",9),o.Tb(2,"b"),o.Kc(3,"Appointments"),o.Sb(),o.Sb(),o.Tb(4,"div",9),o.Kc(5),o.Sb(),o.Tb(6,"div",9),o.Tb(7,"small"),o.Kc(8),o.fc(9,"titlecase"),o.fc(10,"amTimeAgo"),o.Sb(),o.Sb(),o.Tb(11,"div",10),o.Tb(12,"button",11),o.ac("click",function(e){return e.preventDefault()})("click",function(e){return e.stopPropagation()})("click",function(t){o.yc(e);const n=o.ec().$implicit;return o.ec(2).onClose(t,n)}),o.Tb(13,"mat-icon"),o.Kc(14,"close"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=o.ec().$implicit;o.Cb(5),o.Mc(" New appointment for ",e.payload.date.format("DD/MM/YYYY, [at] h:mm A")," "),o.Cb(3),o.Lc(o.gc(9,2,o.gc(10,4,e.createdAt)))}}function ua(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item",8),o.ac("click",function(e){return e.preventDefault()})("click",function(e){return e.stopPropagation()})("click",function(){o.yc(e);const t=o.ec().$implicit;return o.ec(2).onClick(t)}),o.Tb(1,"div",9),o.Tb(2,"b"),o.Kc(3,"Appointments"),o.Sb(),o.Sb(),o.Tb(4,"div",9),o.Kc(5),o.Sb(),o.Tb(6,"div",9),o.Tb(7,"small"),o.Kc(8),o.fc(9,"titlecase"),o.fc(10,"amTimeAgo"),o.Sb(),o.Sb(),o.Tb(11,"div",10),o.Tb(12,"button",11),o.ac("click",function(e){return e.preventDefault()})("click",function(e){return e.stopPropagation()})("click",function(t){o.yc(e);const n=o.ec().$implicit;return o.ec(2).onClose(t,n)}),o.Tb(13,"mat-icon"),o.Kc(14,"close"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=o.ec().$implicit;o.Cb(5),o.Mc(" The appointment for ",e.payload.date.format("DD/MM/YYYY, [at] h:mm A")," was cancelled "),o.Cb(3),o.Lc(o.gc(9,2,o.gc(10,4,e.createdAt)))}}function ma(e,t){if(1&e&&(o.Rb(0),o.Rb(1,6),o.Ic(2,da,15,6,"mat-list-item",7),o.Ic(3,ua,15,6,"mat-list-item",7),o.Qb(),o.Qb()),2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("ngSwitch",e.type),o.Cb(1),o.lc("ngSwitchCase",n.NotificationType.APPOINTMENT_CREATED),o.Cb(1),o.lc("ngSwitchCase",n.NotificationType.APPOINTMENT_CANCELLED)}}function ba(e,t){if(1&e&&(o.Rb(0),o.Ic(1,ma,4,3,"ng-container",5),o.Qb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngForOf",e.notifications)}}function pa(e,t){1&e&&(o.Tb(0,"mat-list-item",12),o.Tb(1,"div",9),o.Kc(2,"There are no notifications"),o.Sb(),o.Sb())}let ha=(()=>{class e{constructor(e,t,n){this.notificationsService=e,this.loadingService=t,this.dialog=n,this.NotificationType=Xi,this.loading$=new k.a,this._notifications=[]}ngOnInit(){this.watchLoading(),this.getNotifications()}watchLoading(){this.loading$.subscribe(e=>e?this.loadingService.start():this.loadingService.stop())}getNotifications(){this.notificationsService.getAll().pipe(Object(Le.a)(()=>this.listenEvents())).subscribe(e=>{this._notifications=e.reverse()})}get notifications(){return this._notifications.filter(e=>!1===e.read)}listenEvents(){this.notificationsService.events$.subscribe(({eventType:e,payload:t})=>{switch(e){case d.b.NOTIFICATION_CREATE_ONE:this.addNotification(t);break;case d.b.NOTIFICATION_UPDATE_ONE:this.updateNotification(t);break;case d.b.NOTIFICATION_DELETE_MANY:this.deleteNotifications(t)}})}addNotification(e){this._notifications.unshift(e)}updateNotification(e){this._notifications=this._notifications.map(t=>t.id===e.id?e:t)}deleteNotifications(e){this._notifications=this._notifications.filter(t=>!e.some(e=>t.id===e.id))}onClick(e){this.dialog.open(oa,{data:e})}onClose(e,t){const n=(new p).deserialize(Object.assign(Object.assign({},t),{read:!0}));this.notificationsService.updateOne(n).pipe(Object(ra.a)(this.loading$)).subscribe(()=>{this._notifications=this._notifications.filter(e=>e.id!==t.id)})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(g),o.Nb(l.e),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-notifications-icon"]],decls:9,vars:5,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],["matBadgeSize","small","matBadgeColor","warn",3,"matBadge","matBadgeHidden"],["menu","matMenu"],[4,"ngIf","ngIfElse"],["emptyTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"click",4,"ngSwitchCase"],[3,"click"],["mat-line",""],["mat-line-end",""],["mat-icon-button","",3,"click"],[2,"pointer-events","none !important"]],template:function(e,t){if(1&e&&(o.Tb(0,"button",0),o.Tb(1,"mat-icon",1),o.Kc(2," notifications "),o.Sb(),o.Tb(3,"mat-menu",null,2),o.Tb(5,"mat-list"),o.Ic(6,ba,2,1,"ng-container",3),o.Ic(7,pa,3,0,"ng-template",null,4,o.Jc),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.wc(4),n=o.wc(8);o.lc("matMenuTriggerFor",e),o.Cb(1),o.lc("matBadge",t.notifications.length)("matBadgeHidden",!t.notifications.length),o.Cb(5),o.lc("ngIf",t.notifications.length)("ngIfElse",n)}},directives:[qi.a,sa.d,Vi.a,la.a,sa.a,Zi.a,f.o,f.n,f.q,f.r,Zi.c,ea.k],pipes:[f.x,ia.a],styles:["mat-list[_ngcontent-%COMP%]{padding-top:0}mat-list[_ngcontent-%COMP%]  .mat-line{white-space:normal!important}mat-list[_ngcontent-%COMP%]  mat-list-item:hover{background-color:rgba(0,0,0,.087);cursor:pointer}"]}),e})();function ga(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",6),o.ac("click",function(){return o.yc(e),o.ec().add.emit()}),o.Tb(1,"mat-icon"),o.Kc(2,"add"),o.Sb(),o.Sb()}}function fa(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",7),o.ac("click",function(){return o.yc(e),o.ec().search.emit()}),o.Tb(1,"mat-icon"),o.Kc(2,"search"),o.Sb(),o.Sb()}}let va=(()=>{class e{constructor(){this.search=new o.o,this.add=new o.o,this.searchIcon=!0,this.addIcon=!0,this.background="",this.title=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-toolbar"]],inputs:{searchIcon:"searchIcon",addIcon:"addIcon",background:"background",title:"title"},outputs:{search:"search",add:"add"},decls:9,vars:4,consts:[[3,"color"],["show-sm","","hide-gt-sm","","mat-icon-button","","appSidenavToggle",""],["flex",""],["hide","","show-gt-sm","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["hide-gt-xs",""],["hide","","show-gt-sm","","mat-icon-button","",3,"click"],["mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(o.Tb(0,"mat-toolbar",0),o.Tb(1,"button",1),o.Tb(2,"mat-icon"),o.Kc(3,"menu"),o.Sb(),o.Sb(),o.Tb(4,"h3",2),o.Kc(5),o.Sb(),o.Ic(6,ga,3,0,"button",3),o.Ic(7,fa,3,0,"button",4),o.Ob(8,"app-notifications-icon",5),o.Sb()),2&e&&(o.lc("color",t.background),o.Cb(5),o.Lc(t.title),o.Cb(1),o.lc("ngIf",t.addIcon),o.Cb(1),o.lc("ngIf",t.searchIcon))},directives:[Ui.a,qi.a,Qi,Vi.a,f.o,ha],styles:["[_nghost-%COMP%]{display:block}mat-toolbar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-right:16px}h3[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}"]}),e})();var ya=n("Kj3r"),Ta=n("kmnG"),Sa=n("qFsG"),wa=n("6iyd");let Ca=(()=>{class e{constructor(){this.componentDestroy=new k.a,this.changes=new k.a,this.cancel=new o.o,this.change=new o.o,this.placeholderText="Search.."}ngOnInit(){this.changes.pipe(Object(ya.a)(500),Object(Me.a)(),Object(A.a)(this.componentDestroy)).subscribe(e=>this.change.emit(e))}onKeyUp(e){e&&this.changes.next(e.value)}onCancel(){this.change.emit(""),this.cancel.emit()}ngOnDestroy(){this.componentDestroy.next(),this.componentDestroy.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-searchbar"]],inputs:{placeholderText:["placeholder","placeholderText"]},outputs:{cancel:"cancel",change:"change"},decls:6,vars:1,consts:[["floatLabel","never"],["type","text","appAutoFocus","","matInput","",3,"placeholder","keyup"],["mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(o.Tb(0,"mat-toolbar"),o.Tb(1,"mat-form-field",0),o.Tb(2,"input",1),o.ac("keyup",function(e){return t.onKeyUp(e.target)}),o.Sb(),o.Sb(),o.Tb(3,"button",2),o.ac("click",function(){return t.onCancel()}),o.Tb(4,"mat-icon"),o.Kc(5,"close"),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Cb(2),o.lc("placeholder",t.placeholderText))},directives:[Ui.a,Ta.c,Sa.b,wa.a,qi.a,Vi.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var ka=n("D0u1");function Oa(e,t){if(1&e&&(o.Tb(0,"h3",5),o.Kc(1),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.Mc("",e.count," selected(s)")}}function Da(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",1),o.ac("click",function(){return o.yc(e),o.ec(2).view.emit()}),o.Tb(1,"mat-icon"),o.Kc(2,"visibility"),o.Sb(),o.Sb()}}function Ia(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",1),o.ac("click",function(){return o.yc(e),o.ec(2).edit.emit()}),o.Tb(1,"mat-icon"),o.Kc(2,"edit"),o.Sb(),o.Sb()}}function Ea(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Da,3,0,"button",6),o.Ic(2,Ia,3,0,"button",6),o.Qb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngIf",e.viewIcon),o.Cb(1),o.lc("ngIf",e.editIcon)}}function xa(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",7),o.ac("confirm",function(){return o.yc(e),o.ec().delete.emit()}),o.Tb(1,"mat-icon"),o.Kc(2,"delete"),o.Sb(),o.Sb()}}let Ma=(()=>{class e{constructor(){this.cancel=new o.o,this.view=new o.o,this.edit=new o.o,this.delete=new o.o,this.viewIcon=!0,this.editIcon=!0,this.deleteIcon=!0,this.background="",this.count=0,this.hideCount=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-selectionbar"]],inputs:{viewIcon:"viewIcon",editIcon:"editIcon",deleteIcon:"deleteIcon",background:"background",count:"count",hideCount:"hideCount"},outputs:{cancel:"cancel",view:"view",edit:"edit",delete:"delete"},decls:7,vars:4,consts:[[3,"color"],["mat-icon-button","",3,"click"],["flex","",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","appConfirm","",3,"confirm",4,"ngIf"],["flex",""],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","appConfirm","",3,"confirm"]],template:function(e,t){1&e&&(o.Tb(0,"mat-toolbar",0),o.Tb(1,"button",1),o.ac("click",function(){return t.cancel.emit()}),o.Tb(2,"mat-icon"),o.Kc(3,"close"),o.Sb(),o.Sb(),o.Ic(4,Oa,2,1,"h3",2),o.Ic(5,Ea,3,2,"ng-container",3),o.Ic(6,xa,3,0,"button",4),o.Sb()),2&e&&(o.lc("color",t.background),o.Cb(4),o.lc("ngIf",!t.hideCount),o.Cb(1),o.lc("ngIf",1===t.count),o.Cb(1),o.lc("ngIf",t.deleteIcon))},directives:[Ui.a,qi.a,Vi.a,f.o,ka.a],styles:["[_nghost-%COMP%]{display:block}h3[_ngcontent-%COMP%]{padding:0 16px;overflow:hidden;text-overflow:ellipsis}"]}),e})();var Pa=n("XhcP");function Aa(e,t){if(1&e&&(o.Tb(0,"mat-icon",13),o.Kc(1),o.Sb()),2&e){const e=o.ec().$implicit;o.Cb(1),o.Mc(" ",e.icon," ")}}function Ra(e,t){if(1&e){const e=o.Ub();o.Rb(0),o.Tb(1,"mat-list-item",10),o.ac("click",function(){o.yc(e);const t=o.ec(),n=o.wc(2);return!t.isNotLargeScreen||n.close()}),o.Ic(2,Aa,2,1,"mat-icon",11),o.Tb(3,"div",12),o.Kc(4),o.Sb(),o.Sb(),o.Qb()}if(2&e){const e=t.$implicit;o.Cb(1),o.lc("routerLink",e.path),o.Cb(1),o.lc("ngIf",e.icon),o.Cb(2),o.Lc(e.label)}}let Ka=(()=>{class e{constructor(e,t,n,i){this.layoutService=e,this.mediaService=t,this.authService=n,this.router=i,this.links=[{path:"/acp/notifications",label:"Notifications",icon:"notifications"},{path:"/acp/calendar",label:"Calendar",icon:"date_range"},{path:"/acp/appointments",label:"Appointments",icon:"event"},{path:"/acp/treatments",label:"Treatments",icon:"miscellaneous_services"},{path:"/acp/categories",label:"Categories",icon:"category"},{path:"/acp/working-days",label:"Working days",icon:"event_available"},{path:"/acp/break",label:"Break times",icon:"schedule"},{path:"/acp/unavailabilities",label:"Unavailabilities",icon:"event_busy"}]}ngOnInit(){this.mediaService.isNotLargeScreen().subscribe(e=>this.isNotLargeScreen=e)}ngAfterViewInit(){this.layoutService.setSidenav(this.sidenav)}onLogout(){this.authService.logout(),this.router.navigate(["/"])}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r),o.Nb(l.f),o.Nb(l.b),o.Nb(c.f))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-acp-layout"]],viewQuery:function(e,t){if(1&e&&o.Oc(Pa.a,!0),2&e){let e;o.vc(e=o.bc())&&(t.sidenav=e.first)}},decls:24,vars:3,consts:[[3,"mode","opened"],["sidenav",""],["color","primary",1,"mat-elevation-z1"],[4,"ngFor","ngForOf"],["show-gt-sm","","hide","",1,"mat-elevation-z1"],["mat-icon-button","",3,"click"],["flex",""],["mat-icon-button","","appConfirm","",3,"confirm"],["show-gt-sm","","hide",""],["href",""],["routerLinkActive","active",1,"mat-elevation-z1",3,"routerLink","click"],["matListIcon","",4,"ngIf"],["matLine",""],["matListIcon",""]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-sidenav-container"),o.Tb(1,"mat-sidenav",0,1),o.Tb(3,"mat-toolbar",2),o.Kc(4," ADMIN "),o.Sb(),o.Tb(5,"mat-nav-list"),o.Ic(6,Ra,5,3,"ng-container",3),o.Sb(),o.Sb(),o.Tb(7,"mat-sidenav-content"),o.Tb(8,"mat-toolbar",4),o.Tb(9,"button",5),o.ac("click",function(){return o.yc(e),o.wc(2).toggle()}),o.Tb(10,"mat-icon"),o.Kc(11,"menu"),o.Sb(),o.Sb(),o.Ob(12,"span",6),o.Ob(13,"app-notifications-icon"),o.Tb(14,"button",7),o.ac("confirm",function(){return t.onLogout()}),o.Tb(15,"mat-icon"),o.Kc(16,"logout"),o.Sb(),o.Sb(),o.Sb(),o.Tb(17,"section"),o.Ob(18,"router-outlet"),o.Sb(),o.Tb(19,"footer",8),o.Kc(20," 2020 \xa9 "),o.Tb(21,"a",9),o.Kc(22,"ACME S.A"),o.Sb(),o.Kc(23,". All rights reserved. "),o.Sb(),o.Sb(),o.Sb()}2&e&&(o.Cb(1),o.lc("mode",t.isNotLargeScreen?"over":"side")("opened",!t.isNotLargeScreen),o.Cb(5),o.lc("ngForOf",t.links))},directives:[Pa.b,Pa.a,Ui.a,Zi.g,f.n,Pa.c,qi.a,Vi.a,ha,ka.a,c.j,Zi.c,c.h,c.g,f.o,ea.k,Zi.b],styles:["mat-sidenav-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#e0e0e0}mat-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}@media (min-width:600px){mat-sidenav-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{height:calc(100vh - 96px);overflow-y:auto}}mat-sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{z-index:1}mat-sidenav-content[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{line-height:32px;padding:0 16px;background-color:#f5f5f5;border-top:1px solid #ddd;text-align:right}mat-sidenav-content[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#263238}mat-sidenav[_ngcontent-%COMP%]{width:264px;position:fixed;background-color:#263238;border-right:0}@media (min-width:600px){mat-sidenav[_ngcontent-%COMP%]{width:304px}}mat-sidenav[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{color:#fff!important}mat-sidenav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], mat-sidenav[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{background-color:#ffab00!important;color:rgba(0,0,0,.87)!important}mat-sidenav[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{justify-content:center!important;background-color:#3e454c!important;color:#fff!important;font-size:12px;letter-spacing:2px}"]}),e})();var Na=n("f0Cb"),za=n("ALoK");let Ha=(()=>{class e{constructor(e){this.data=e}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-event"]],decls:61,vars:14,consts:[["mat-dialog-title",""],["layout","column","layout-gt-sm","row"],["hide","","show-gt-sm",""],["align","end"],["mat-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(o.Tb(0,"h3",0),o.Kc(1),o.Tb(2,"span"),o.Kc(3),o.Sb(),o.Sb(),o.Ob(4,"mat-divider"),o.Tb(5,"mat-dialog-content"),o.Tb(6,"mat-list"),o.Tb(7,"mat-list-item"),o.Tb(8,"div",1),o.Tb(9,"div"),o.Tb(10,"b"),o.Kc(11,"E-mail"),o.Sb(),o.Tb(12,"span",2),o.Kc(13,":\xa0"),o.Sb(),o.Sb(),o.Kc(14),o.Sb(),o.Sb(),o.Tb(15,"mat-list-item"),o.Tb(16,"div",1),o.Tb(17,"div"),o.Tb(18,"b"),o.Kc(19,"Phone"),o.Sb(),o.Tb(20,"span",2),o.Kc(21,":\xa0"),o.Sb(),o.Sb(),o.Kc(22),o.Sb(),o.Sb(),o.Tb(23,"mat-list-item"),o.Tb(24,"div",1),o.Tb(25,"div"),o.Tb(26,"b"),o.Kc(27,"Date"),o.Sb(),o.Tb(28,"span",2),o.Kc(29,":\xa0"),o.Sb(),o.Sb(),o.Kc(30),o.fc(31,"date"),o.Sb(),o.Sb(),o.Tb(32,"mat-list-item"),o.Tb(33,"div",1),o.Tb(34,"div"),o.Tb(35,"b"),o.Kc(36,"Time"),o.Sb(),o.Tb(37,"span",2),o.Kc(38,":\xa0"),o.Sb(),o.Sb(),o.Kc(39),o.Sb(),o.Sb(),o.Tb(40,"mat-list-item"),o.Tb(41,"div",1),o.Tb(42,"div"),o.Tb(43,"b"),o.Kc(44,"Duration"),o.Sb(),o.Tb(45,"span",2),o.Kc(46,":\xa0"),o.Sb(),o.Sb(),o.Kc(47),o.fc(48,"duration"),o.Sb(),o.Sb(),o.Tb(49,"mat-list-item"),o.Tb(50,"div",1),o.Tb(51,"div"),o.Tb(52,"b"),o.Kc(53,"Status"),o.Sb(),o.Tb(54,"span",2),o.Kc(55,":\xa0"),o.Sb(),o.Sb(),o.Kc(56),o.fc(57,"status"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(58,"mat-dialog-actions",3),o.Tb(59,"button",4),o.Kc(60," Cerrar "),o.Sb(),o.Sb()),2&e&&(o.Cb(1),o.Mc(" ",t.data.appointment.name," "),o.Cb(2),o.Lc(t.data.appointment.treatment.name),o.Cb(11),o.Mc(" ",t.data.appointment.email," "),o.Cb(8),o.Mc(" ",t.data.appointment.phone||"None"," "),o.Cb(8),o.Mc(" ",o.gc(31,8,t.data.appointment.date)," "),o.Cb(9),o.Mc(" ",t.data.appointment.date.format("HH:mm A")," "),o.Cb(8),o.Mc(" ",o.gc(48,10,t.data.appointment.treatment.duration)," "),o.Cb(9),o.Mc(" ",o.gc(57,12,t.data.appointment.status)," "))},directives:[Ji.h,Na.a,Ji.e,Zi.a,Zi.c,Ji.c,qi.a,Ji.d],pipes:[f.f,za.a,ta.a],styles:["[mat-dialog-title][_ngcontent-%COMP%]{display:flex;flex-direction:column}[mat-dialog-title][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:rgba(0,0,0,.54)}.mat-line[_ngcontent-%COMP%]{word-break:break-all!important;white-space:normal!important}"]}),e})();function $a(e,t){1&e&&o.Pb(0)}function Fa(e,t){if(1&e&&(o.Rb(0),o.Ob(1,"app-toolbar",3),o.Ic(2,$a,1,0,"ng-container",4),o.Qb()),2&e){o.ec();const e=o.wc(4);o.Cb(1),o.lc("searchIcon",!1),o.Cb(1),o.lc("ngTemplateOutlet",e)}}function La(e,t){1&e&&o.Pb(0)}function _a(e,t){if(1&e&&(o.Tb(0,"div",5),o.Tb(1,"div",6),o.Tb(2,"div",7),o.Ic(3,La,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Sb()),2&e){o.ec();const e=o.wc(4);o.Cb(3),o.lc("ngTemplateOutlet",e)}}function ja(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",20),o.ac("click",function(){o.yc(e);const t=o.ec(2);return t.view=t.CalendarView.Month}),o.Kc(1," Month "),o.Sb()}}function Ba(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",20),o.ac("click",function(){o.yc(e);const t=o.ec(2);return t.view=t.CalendarView.Week}),o.Kc(1," Week "),o.Sb()}}function Ya(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",20),o.ac("click",function(){o.yc(e);const t=o.ec(2);return t.view=t.CalendarView.Day}),o.Kc(1," Day "),o.Sb()}}function Wa(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mwl-calendar-month-view",21),o.ac("dayClicked",function(t){return o.yc(e),o.ec(2).viewDate=t.day.date})("eventClicked",function(t){return o.yc(e),o.ec(2).onEventClick(t.event)}),o.Sb()}if(2&e){o.ec();const e=o.wc(27),t=o.ec();o.lc("@.disabled",!0)("viewDate",t.viewDate)("events",t.events)("cellTemplate",e)("activeDayIsOpen",!0)}}function Ua(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mwl-calendar-week-view",22),o.ac("eventClicked",function(t){return o.yc(e),o.ec(2).onEventClick(t.event)}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("viewDate",e.viewDate)("hourSegments",4)("events",e.events)}}function qa(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mwl-calendar-day-view",22),o.ac("eventClicked",function(t){return o.yc(e),o.ec(2).onEventClick(t.event)}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("viewDate",e.viewDate)("hourSegments",4)("events",e.events)}}function Qa(e,t){if(1&e&&(o.Tb(0,"span",26),o.Kc(1),o.Sb()),2&e){const e=o.ec().day;o.Cb(1),o.Lc(e.badgeTotal)}}function Va(e,t){if(1&e&&(o.Tb(0,"div",23),o.Ic(1,Qa,2,1,"span",24),o.Tb(2,"span",25),o.Kc(3),o.fc(4,"calendarDate"),o.Sb(),o.Sb()),2&e){const e=t.day,n=t.locale;o.Cb(1),o.lc("ngIf",e.badgeTotal>0),o.Cb(2),o.Lc(o.ic(4,2,e.date,"monthViewDayNumber",n))}}function Xa(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-toolbar",8),o.Tb(1,"button",9),o.ac("viewDateChange",function(t){return o.yc(e),o.ec().viewDate=t}),o.Tb(2,"mat-icon"),o.Kc(3,"today"),o.Sb(),o.Sb(),o.Tb(4,"div",10),o.Tb(5,"button",11),o.ac("viewDateChange",function(t){return o.yc(e),o.ec().viewDate=t}),o.Tb(6,"mat-icon"),o.Kc(7,"chevron_left"),o.Sb(),o.Sb(),o.Tb(8,"h3"),o.Kc(9),o.fc(10,"date"),o.Sb(),o.Tb(11,"button",12),o.ac("viewDateChange",function(t){return o.yc(e),o.ec().viewDate=t}),o.Tb(12,"mat-icon"),o.Kc(13,"chevron_right"),o.Sb(),o.Sb(),o.Sb(),o.Tb(14,"button",13),o.Tb(15,"mat-icon"),o.Kc(16,"more_vert"),o.Sb(),o.Tb(17,"mat-menu",null,14),o.Ic(19,ja,2,0,"button",15),o.Ic(20,Ba,2,0,"button",15),o.Ic(21,Ya,2,0,"button",15),o.Sb(),o.Sb(),o.Sb(),o.Rb(22,16),o.Ic(23,Wa,1,5,"mwl-calendar-month-view",17),o.Ic(24,Ua,1,3,"mwl-calendar-week-view",18),o.Ic(25,qa,1,3,"mwl-calendar-day-view",18),o.Qb(),o.Ic(26,Va,5,6,"ng-template",null,19,o.Jc)}if(2&e){const e=o.wc(18),t=o.ec();o.Cb(1),o.lc("viewDate",t.viewDate),o.Cb(4),o.lc("view",t.view)("viewDate",t.viewDate),o.Cb(4),o.Lc(o.gc(10,14,t.viewDate)),o.Cb(2),o.lc("view",t.view)("viewDate",t.viewDate),o.Cb(3),o.lc("matMenuTriggerFor",e),o.Cb(5),o.lc("ngIf",t.view!==t.CalendarView.Month),o.Cb(1),o.lc("ngIf",t.view!==t.CalendarView.Week),o.Cb(1),o.lc("ngIf",t.view!==t.CalendarView.Day),o.Cb(1),o.lc("ngSwitch",t.view),o.Cb(1),o.lc("ngSwitchCase",t.CalendarView.Month),o.Cb(1),o.lc("ngSwitchCase",t.CalendarView.Week),o.Cb(1),o.lc("ngSwitchCase",t.CalendarView.Day)}}let Ja=(()=>{class e{constructor(e,t,n,i){this.mediaService=e,this.dateFormatterService=t,this.dialog=n,this.route=i,this.CalendarView=Rn,this.view=Rn.Month,this.viewDate=new Date}ngOnInit(){this.createEvents(),this.watchScreen()}createEvents(){const e=(new Date).getTimezoneOffset();this.events=this.route.snapshot.data.appointments.map(t=>({start:t.date.clone().utcOffset(-e,!0).toDate(),end:t.date.clone().add(t.treatment.duration,"minutes").utcOffset(-e,!0).toDate(),title:`${t.name} - ${t.treatment.name}`,data:t}))}watchScreen(){this.mediaService.isSmallScreen().subscribe(e=>{this.isSmallScreen=e,this.dateFormatterService.isSmallScreen=e,this.viewDate=new Date(this.viewDate)})}getTreatment(e){return this.route.snapshot.data.treatments.find(t=>t.id===e)}onEventClick(e){this.dialog.open(Ha,{data:{appointment:e.data,treatments:this.route.snapshot.data.treatments}})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(Pi),o.Nb(Ji.b),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-calendar"]],features:[o.Bb([{provide:Zn,useClass:Pi},{provide:Pi,useExisting:Zn},{provide:si,useValue:i}])],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["lgScreenTemplate",""],["calendarTemplate",""],["title","Calendar",3,"searchIcon"],[4,"ngTemplateOutlet"],["layout","","layout-wrap","","layout-padding",""],["flex","100"],[1,"mat-elevation-z8"],["color","primary"],["mat-icon-button","","mwlCalendarToday","",3,"viewDate","viewDateChange"],["layout","row","layout-align","center center"],["mat-icon-button","","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["mat-icon-button","","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],["mat-icon-button","",3,"matMenuTriggerFor"],["chooseView","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[3,"ngSwitch"],[3,"viewDate","events","cellTemplate","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","hourSegments","events","eventClicked",4,"ngSwitchCase"],["customCellTemplate",""],["mat-menu-item","",3,"click"],[3,"viewDate","events","cellTemplate","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","hourSegments","events","eventClicked"],[1,"cal-cell-top"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],[1,"cal-day-badge"]],template:function(e,t){if(1&e&&(o.Ic(0,Fa,3,2,"ng-container",0),o.Ic(1,_a,4,1,"ng-template",null,1,o.Jc),o.Ic(3,Xa,28,16,"ng-template",null,2,o.Jc)),2&e){const e=o.wc(2);o.lc("ngIf",t.isSmallScreen)("ngIfElse",e)}},directives:[f.o,va,f.t,Ui.a,qi.a,Jn,Vi.a,Vn,Xn,sa.d,sa.a,f.q,f.r,sa.b,mi,Ti,Di],pipes:[f.f,ei],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}@media (max-width:960px){mwl-calendar-day-view[_ngcontent-%COMP%]  .cal-time-events{height:calc(100vh - 112.8px);overflow-y:auto}}@media (max-width:960px){mwl-calendar-month-view[_ngcontent-%COMP%]  .cal-days{height:calc(100vh - 158.8px);overflow-y:auto}}@media (max-width:960px){mwl-calendar-week-view[_ngcontent-%COMP%]  .cal-time-events{height:calc(100vh - 162.8px);overflow-y:auto}}"]}),e})();var Ga=n("dNgK"),Za=n("bSwM");function ec(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",5),o.ac("cancel",function(){return o.yc(e),o.ec().selection.clear()})("delete",function(){o.yc(e);const t=o.ec();return t.delete(t.selection.selected)})("view",function(){o.yc(e);const t=o.ec();return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec();o.lc("editIcon",!1)("count",e.selection.selected.length)}}function tc(e,t){1&e&&o.Ob(0,"app-toolbar",6),2&e&&o.lc("searchIcon",!1)}function nc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",9),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Tb(2,"div",10),o.Kc(3,"Select all"),o.Sb(),o.Ob(4,"mat-divider"),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function ic(e,t){1&e&&(o.Rb(0),o.Kc(1," New appointment "),o.Qb())}function ac(e,t){1&e&&(o.Rb(0),o.Kc(1," Appointment cancelled "),o.Qb())}function cc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",11),o.ac("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Tb(2,"div",10),o.Tb(3,"b"),o.Rb(4,0),o.Ic(5,ic,2,0,"ng-container",12),o.Ic(6,ac,2,0,"ng-container",12),o.Qb(),o.Sb(),o.Sb(),o.Tb(7,"div",10),o.Kc(8),o.Sb(),o.Tb(9,"div",10),o.Kc(10),o.Sb(),o.Tb(11,"div",13),o.Tb(12,"button",14,15),o.ac("click",function(e){return e.stopPropagation()}),o.Tb(14,"mat-icon"),o.Kc(15,"more_vert"),o.Sb(),o.Tb(16,"mat-menu",16,17),o.Tb(18,"button",18),o.ac("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).changeStatus(n,!0)})("click",function(){return o.yc(e),o.wc(13).closeMenu()}),o.Kc(19," Mark as read "),o.Sb(),o.Tb(20,"button",18),o.ac("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).changeStatus(n,!1)})("click",function(){return o.yc(e),o.wc(13).closeMenu()}),o.Kc(21," Mark as unread "),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(22,"mat-divider"),o.Sb()}if(2&e){const e=t.$implicit,n=o.wc(17),i=o.ec(2);o.Cb(1),o.lc("checked",i.selection.isSelected(e)),o.Cb(3),o.lc("ngSwitch",e.type),o.Cb(1),o.lc("ngSwitchCase",i.NotificationType.APPOINTMENT_CREATED),o.Cb(1),o.lc("ngSwitchCase",i.NotificationType.APPOINTMENT_CANCELLED),o.Cb(2),o.Mc(" ",e.payload.date.format("DD/MM/YYYY, h:mm A")," "),o.Cb(2),o.Mc(" ",e.read?"Read":"Unread"," "),o.Cb(2),o.lc("matMenuTriggerFor",n)("disableRipple",!0)}}function oc(e,t){if(1&e&&(o.Rb(0),o.Ic(1,nc,5,2,"mat-list-item",7),o.Ic(2,cc,23,8,"mat-list-item",8),o.Qb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngIf",e.items.length>1),o.Cb(1),o.lc("ngForOf",e.items)}}function rc(e,t){1&e&&(o.Tb(0,"div",19),o.Tb(1,"h3"),o.Kc(2,"There are no notifications"),o.Sb(),o.Sb())}let sc=(()=>{class e extends Bi{constructor(e,t,n){super(e),this.notificationsService=e,this.snackBar=t,this.dialog=n,this.NotificationType=Xi}ngOnInit(){this.items=this.notifications,this.listenEvents()}listenEvents(){this.notificationsService.events$.subscribe(({eventType:e,payload:t})=>{switch(e){case d.b.NOTIFICATION_CREATE_ONE:this.addItem(t);break;case d.b.NOTIFICATION_UPDATE_ONE:this.editItem(t)}})}changeStatus(e,t){const n=(new p).deserialize(Object.assign(Object.assign({},e),{read:t}));this.editResource(n).subscribe(()=>{this.snackBar.open(u.k,u.n)})}delete(e){this.deleteResources(e).subscribe(()=>{this.snackBar.open(u.j,u.n)})}view(e){this.dialog.open(oa,{data:e})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(g),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-notification-list"]],inputs:{notifications:"notifications"},features:[o.zb],decls:8,vars:5,consts:[[3,"ngSwitch"],["background","accent",3,"editIcon","count","cancel","delete","view",4,"ngSwitchCase"],["title","Notifications","background","primary",3,"searchIcon",4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],["emptyTemplate",""],["background","accent",3,"editIcon","count","cancel","delete","view"],["title","Notifications","background","primary",3,"searchIcon"],[4,"ngIf"],[4,"ngFor","ngForOf"],["matListIcon","",3,"checked","indeterminate","change"],["mat-line",""],["matListIcon","",3,"checked","change"],[4,"ngSwitchCase"],["mat-line-end",""],["mat-icon-button","",3,"matMenuTriggerFor","disableRipple","click"],["changeStatusTrigger","matMenuTrigger"],["xPosition","before"],["changeStatusMenu","matMenu"],["mat-menu-item","","appConfirm","",3,"confirm","click"],[1,"empty-state"]],template:function(e,t){if(1&e&&(o.Rb(0,0),o.Ic(1,ec,1,2,"app-selectionbar",1),o.Ic(2,tc,1,1,"app-toolbar",2),o.Qb(),o.Tb(3,"div"),o.Tb(4,"mat-list"),o.Ic(5,oc,3,2,"ng-container",3),o.Sb(),o.Sb(),o.Ic(6,rc,3,0,"ng-template",null,4,o.Jc)),2&e){const e=o.wc(7);o.lc("ngSwitch",t.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(3),o.lc("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[f.q,f.r,Zi.a,f.o,Ma,va,f.n,Zi.c,Za.a,Zi.b,ea.k,Na.a,qi.a,sa.d,Vi.a,sa.a,sa.b,ka.a],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(100vh - 56px);overflow-y:auto}"]}),e})();var lc=n("Dh3D"),dc=n("M9IT");function uc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",20),o.ac("cancel",function(){return o.yc(e),o.ec(2).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(2);return t.delete(t.selection.selected)})("view",function(){o.yc(e);const t=o.ec(2);return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("count",e.selection.selected.length)("editIcon",!1)}}function mc(e,t){1&e&&o.Ob(0,"app-toolbar",21),2&e&&o.lc("searchIcon",!1)("addIcon",!1)}function bc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"th",22),o.Tb(1,"mat-checkbox",23),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function pc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",24),o.Tb(1,"mat-checkbox",25),o.ac("click",function(e){return e.stopPropagation()})("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e))}}function hc(e,t){1&e&&(o.Tb(0,"th",26),o.Kc(1,"Title"),o.Sb())}function gc(e,t){1&e&&(o.Rb(0),o.Kc(1," New appointment "),o.Qb())}function fc(e,t){1&e&&(o.Rb(0),o.Kc(1," Appointment cancelled "),o.Qb())}function vc(e,t){if(1&e&&(o.Tb(0,"td",24),o.Rb(1,5),o.Ic(2,gc,2,0,"ng-container",27),o.Ic(3,fc,2,0,"ng-container",27),o.Qb(),o.Sb()),2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("ngSwitch",e.type),o.Cb(1),o.lc("ngSwitchCase",n.NotificationType.APPOINTMENT_CREATED),o.Cb(1),o.lc("ngSwitchCase",n.NotificationType.APPOINTMENT_CANCELLED)}}function yc(e,t){1&e&&(o.Tb(0,"th",22),o.Kc(1,"Message"),o.Sb())}function Tc(e,t){if(1&e&&(o.Rb(0),o.Kc(1),o.Qb()),2&e){const e=o.ec().$implicit;o.Cb(1),o.Mc(" New appointment for ",e.payload.date.format("DD/MM/YYYY, [at] h:mm A")," ")}}function Sc(e,t){if(1&e&&(o.Rb(0),o.Kc(1),o.Qb()),2&e){const e=o.ec().$implicit;o.Cb(1),o.Mc(" The appointment for ",e.payload.date.format("DD/MM/YYYY, [at] h:mm A")," was cancelled ")}}function wc(e,t){if(1&e&&(o.Tb(0,"td",24),o.Rb(1,5),o.Ic(2,Tc,2,1,"ng-container",27),o.Ic(3,Sc,2,1,"ng-container",27),o.Qb(),o.Sb()),2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("ngSwitch",e.type),o.Cb(1),o.lc("ngSwitchCase",n.NotificationType.APPOINTMENT_CREATED),o.Cb(1),o.lc("ngSwitchCase",n.NotificationType.APPOINTMENT_CANCELLED)}}function Cc(e,t){1&e&&(o.Tb(0,"th",28),o.Kc(1,"Estado"),o.Sb())}function kc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",24),o.Tb(1,"button",29,30),o.ac("click",function(e){return e.stopPropagation()}),o.Tb(3,"mat-icon"),o.Kc(4,"arrow_drop_down"),o.Sb(),o.Kc(5),o.Tb(6,"mat-menu",31,32),o.Tb(8,"button",33),o.ac("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).changeStatus(n,!0)})("click",function(){return o.yc(e),o.wc(2).closeMenu()}),o.Kc(9," Read "),o.Sb(),o.Tb(10,"button",33),o.ac("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).changeStatus(n,!1)})("click",function(){return o.yc(e),o.wc(2).closeMenu()}),o.Kc(11," Unread "),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.wc(7);o.Cb(1),o.lc("matMenuTriggerFor",n)("disableRipple",!0),o.Cb(4),o.Mc(" ",e.read?"Read":"Unread"," ")}}function Oc(e,t){1&e&&o.Ob(0,"tr",34)}function Dc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",35),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec(2).selection.toggle(n)}),o.Sb()}}function Ic(e,t){if(1&e&&(o.Tb(0,"div",4),o.Rb(1,5),o.Ic(2,uc,1,2,"app-selectionbar",6),o.Ic(3,mc,1,2,"app-toolbar",7),o.Qb(),o.Tb(4,"table",8),o.Rb(5,9),o.Ic(6,bc,2,2,"th",10),o.Ic(7,pc,2,1,"td",11),o.Qb(),o.Rb(8,12),o.Ic(9,hc,2,0,"th",13),o.Ic(10,vc,4,3,"td",11),o.Qb(),o.Rb(11,14),o.Ic(12,yc,2,0,"th",10),o.Ic(13,wc,4,3,"td",11),o.Qb(),o.Rb(14,15),o.Ic(15,Cc,2,0,"th",16),o.Ic(16,kc,12,3,"td",11),o.Qb(),o.Ic(17,Oc,1,0,"tr",17),o.Ic(18,Dc,1,0,"tr",18),o.Sb(),o.Ob(19,"mat-paginator",19),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(1),o.lc("dataSource",e.rows),o.Cb(13),o.lc("matHeaderRowDef",e.columns),o.Cb(1),o.lc("matRowDefColumns",e.columns),o.Cb(1),o.lc("pageSize",10)}}function Ec(e,t){1&e&&(o.Tb(0,"div",36),o.Tb(1,"mat-icon",37),o.Kc(2,"notifications"),o.Sb(),o.Tb(3,"h3"),o.Kc(4,"There are no notifications"),o.Sb(),o.Tb(5,"p"),o.Kc(6,"When you receive notifications you can view them here."),o.Sb(),o.Sb())}let xc=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.notificationsService=e,this.snackBar=t,this.dialog=n,this.NotificationType=Xi,this.columns=["select","title","message","read"]}ngOnInit(){this.rows.data=this.notifications,this.listenEvents()}listenEvents(){this.notificationsService.events$.subscribe(({eventType:e,payload:t})=>{switch(e){case d.b.NOTIFICATION_CREATE_ONE:this.addRow(t),this.refreshRows();break;case d.b.NOTIFICATION_UPDATE_ONE:this.editRow(t)}})}ngAfterViewInit(){this.rows.paginator=this.paginator,this.rows.sort=this.sort}changeStatus(e,t){const n=(new p).deserialize(Object.assign(Object.assign({},e),{read:t}));this.editResource(n).subscribe(()=>{this.snackBar.open(u.k,u.n)})}delete(e){this.deleteResources(e).subscribe(()=>{this.snackBar.open(u.j,u.n)})}view(e){this.dialog.open(oa,{data:e})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(g),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-notifications-table"]],viewQuery:function(e,t){if(1&e&&(o.Oc(lc.a,!0),o.Oc(dc.a,!0)),2&e){let e;o.vc(e=o.bc())&&(t.sort=e.first),o.vc(e=o.bc())&&(t.paginator=e.first)}},inputs:{notifications:"notifications"},features:[o.zb],decls:5,vars:2,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"mat-elevation-z8"],[3,"ngSwitch"],["background","accent",3,"count","editIcon","cancel","delete","view",4,"ngSwitchCase"],["title","Notifications","background","primary",3,"searchIcon","addIcon",4,"ngSwitchCase"],["mat-table","","matSort","",1,"selectable",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","type",4,"matHeaderCellDef"],["matColumnDef","message"],["matColumnDef","read"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["hidePageSize","","showFirstLastButtons","",3,"pageSize"],["background","accent",3,"count","editIcon","cancel","delete","view"],["title","Notifications","background","primary",3,"searchIcon","addIcon"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["mat-header-cell","","mat-sort-header","type"],[4,"ngSwitchCase"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","",3,"matMenuTriggerFor","disableRipple","click"],["changeStatusTrigger","matMenuTrigger"],["xPosition","before"],["changeStatusMenu","matMenu"],["mat-menu-item","","appConfirm","",3,"confirm","click"],["mat-header-row",""],["mat-row","",3,"click"],[1,"empty-state"],["inline","true"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Ic(2,Ic,20,7,"div",2),o.Ic(3,Ec,7,0,"ng-template",null,3,o.Jc),o.Sb(),o.Sb()),2&e){const e=o.wc(4);o.Cb(2),o.lc("ngIf",t.rows.data.length)("ngIfElse",e)}},directives:[f.o,f.q,f.r,Yi.j,lc.a,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,dc.a,Ma,va,Yi.d,Za.a,Yi.a,lc.b,qi.a,sa.d,Vi.a,sa.a,sa.b,ka.a,Yi.f,Yi.h],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}.mat-column-select[_ngcontent-%COMP%]{width:5%!important}.mat-column-title[_ngcontent-%COMP%]{width:20%!important}.mat-column-message[_ngcontent-%COMP%]{width:45%!important}.mat-column-status[_ngcontent-%COMP%]{width:25%!important}"]}),e})();function Mc(e,t){if(1&e&&o.Ob(0,"app-notification-list",2),2&e){const e=o.ec();o.lc("notifications",e.route.snapshot.data.notifications)}}function Pc(e,t){if(1&e&&o.Ob(0,"app-notifications-table",2),2&e){const e=o.ec();o.lc("notifications",e.route.snapshot.data.notifications)}}let Ac=(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-notifications"]],decls:4,vars:4,consts:[[3,"notifications",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"notifications"]],template:function(e,t){if(1&e&&(o.Ic(0,Mc,1,1,"app-notification-list",0),o.fc(1,"async"),o.Ic(2,Pc,1,1,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,sc,xc],pipes:[f.b],styles:[""]}),e})();var Rc=n("2ChS"),Kc=n("QibW"),Nc=n("3Pt+");function zc(e,t){if(1&e&&(o.Tb(0,"mat-radio-button",5),o.Kc(1),o.fc(2,"status"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",o.gc(2,2,e)," ")}}const Hc=function(){return[1,2,3,5,6]};let $c=(()=>{class e{constructor(e){this.status=e}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-change-appointment-status"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"mat-dialog-close"],[3,"value"]],template:function(e,t){1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Select Status"),o.Sb(),o.Tb(2,"mat-radio-group",1),o.ac("ngModelChange",function(e){return t.status=e}),o.Ic(3,zc,3,4,"mat-radio-button",2),o.Sb(),o.Tb(4,"mat-dialog-actions"),o.Tb(5,"button",3),o.Kc(6," Cancel "),o.Sb(),o.Tb(7,"button",4),o.Kc(8," Ok "),o.Sb(),o.Sb()),2&e&&(o.Cb(2),o.lc("ngModel",t.status),o.Cb(1),o.lc("ngForOf",o.mc(3,Hc)),o.Cb(4),o.lc("mat-dialog-close",t.status))},directives:[Ji.h,Kc.b,Ji.e,Nc.k,Nc.n,f.n,Ji.c,qi.a,Ji.d,Kc.a],pipes:[ta.a],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-radio-group[_ngcontent-%COMP%]  mat-radio-button:not(:last-of-type){margin-bottom:24px}"]}),e})();function Fc(e,t){if(1&e){const e=o.Ub();o.Tb(0,"a",4),o.ac("click",function(){return o.yc(e),o.ec().onClick()}),o.Tb(1,"mat-icon",1),o.Kc(2,"power_settings_new"),o.Sb(),o.Tb(3,"div",2),o.Kc(4,"Change Status"),o.Sb(),o.Tb(5,"div",2),o.Kc(6,"Modify appointment status"),o.Sb(),o.Sb()}}let Lc=(()=>{class e{constructor(e,t,n){this.appointment=e,this.bottomSheetRef=t,this.dialog=n,this.AppointmentStatus=d.a}onClick(){this.dialog.open($c,{data:this.appointment.status}).afterClosed().subscribe(e=>this.bottomSheetRef.dismiss(e))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Rc.a),o.Nb(Rc.d),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-appointment-action-sheet"]],decls:23,vars:4,consts:[["mat-list-item","",3,"href","click"],["matListIcon",""],["mat-line",""],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"]],template:function(e,t){1&e&&(o.Tb(0,"mat-nav-list"),o.Tb(1,"a",0),o.ac("click",function(){return t.bottomSheetRef.dismiss()}),o.Tb(2,"mat-icon",1),o.Kc(3,"phone"),o.Sb(),o.Tb(4,"div",2),o.Kc(5,"Call"),o.Sb(),o.Tb(6,"div",2),o.Kc(7,"Make a call"),o.Sb(),o.Sb(),o.Tb(8,"a",0),o.ac("click",function(){return t.bottomSheetRef.dismiss()}),o.Tb(9,"mat-icon",1),o.Kc(10,"message"),o.Sb(),o.Tb(11,"div",2),o.Kc(12,"Whatsapp"),o.Sb(),o.Tb(13,"div",2),o.Kc(14,"Send a message"),o.Sb(),o.Sb(),o.Tb(15,"a",0),o.ac("click",function(){return t.bottomSheetRef.dismiss()}),o.Tb(16,"mat-icon",1),o.Kc(17,"email"),o.Sb(),o.Tb(18,"div",2),o.Kc(19,"E-mail"),o.Sb(),o.Tb(20,"div",2),o.Kc(21,"Send an E-mail"),o.Sb(),o.Sb(),o.Ic(22,Fc,7,0,"a",3),o.Sb()),2&e&&(o.Cb(1),o.lc("href","tel:"+t.appointment.phone,o.Ac),o.Cb(7),o.lc("href","whatsapp://"+t.appointment.phone,o.Ac),o.Cb(7),o.lc("href","mailto:"+t.appointment.email,o.Ac),o.Cb(7),o.lc("ngIf",t.appointment.status!==t.AppointmentStatus.COMPLETED&&t.appointment.status!==t.AppointmentStatus.CANCELLED))},directives:[Zi.g,Zi.c,Vi.a,Zi.b,ea.k,f.o],styles:[""]}),e})();var _c=n("7rOj"),jc=n("1ua0"),Bc=n("d3UM"),Yc=n("iadO");function Wc(e,t){if(1&e&&(o.Tb(0,"mat-option",20),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.name," ")}}function Uc(e,t){1&e&&o.Pb(0)}function qc(e,t){1&e&&o.Pb(0)}function Qc(e,t){if(1&e&&(o.Tb(0,"mat-option",20),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.format("h:mm A")," ")}}function Vc(e,t){1&e&&o.Pb(0)}function Xc(e,t){1&e&&o.Pb(0)}function Jc(e,t){1&e&&o.Pb(0)}function Gc(e,t){if(1&e&&(o.Tb(0,"mat-option",20),o.Kc(1),o.fc(2,"status"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",o.gc(2,2,e)," ")}}function Zc(e,t){1&e&&o.Pb(0)}function eo(e,t){1&e&&o.Pb(0)}const to=function(e){return{$implicit:e}};function no(e,t){if(1&e&&(o.Rb(0),o.Ic(1,eo,1,0,"ng-container",5),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(59);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,to,e.key))}}function io(e,t){if(1&e&&(o.Ic(0,no,2,4,"ng-container",21),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function ao(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function co(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function oo(e,t){1&e&&(o.Rb(0),o.Kc(1," Invalid email address "),o.Qb())}function ro(e,t){1&e&&(o.Rb(0,22),o.Ic(1,ao,2,0,"ng-container",23),o.Ic(2,co,2,0,"ng-container",23),o.Ic(3,oo,2,0,"ng-container",23),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"),o.Cb(1),o.lc("ngSwitchCase","email"))}const so=function(){return{$implicit:"treatment"}},lo=function(){return{$implicit:"date"}},uo=function(){return{$implicit:"name"}},mo=function(){return{$implicit:"email"}},bo=function(){return{$implicit:"phone"}},po=function(){return[1,2,3,4,5,6]},ho=function(){return{$implicit:"status"}};let go=(()=>{class e extends jc.b{constructor(e,t,n,i){super({name:[null,[Nc.q.required,Nc.q.maxLength(50)]],email:[null,[Nc.q.required,Nc.q.maxLength(150),Nc.q.email]],phone:null,treatment:[null,Nc.q.required],date:[null,Nc.q.required],status:[null,Nc.q.required],time:null}),this.treatments=e,this.mediaService=t,this.schedulerService=n,this.dialogRef=i,this.slots=[]}ngOnInit(){Object(G.a)(this.form.controls.treatment.valueChanges,this.form.controls.date.valueChanges).subscribe(([e,t])=>{this.schedulerService.getSlots(t,e.duration).subscribe(e=>{this.slots=e.filter(e=>!0===e.available).map(e=>i(e.time,"HH:mm"))})})}onSelect(e){this.form.controls.date.value.set({hour:e.get("hour"),minute:e.get("minute")})}onSubmit(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(l.f),o.Nb(l.g),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-add-appointment"]],features:[o.zb],decls:60,vars:30,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["formControlName","treatment"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","date","matInput","","readonly","",3,"matDatepicker","click"],["matSuffix","",3,"for"],[3,"touchUi"],["datePicker",""],["formControlName","time",3,"disabled","selectionChange"],["type","text","formControlName","name","matInput",""],["type","text","formControlName","email","matInput",""],["type","text","formControlName","phone","matInput",""],["formControlName","status"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[3,"value"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"h3",0),o.Kc(1,"Add Appointment"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Treatment"),o.Sb(),o.Tb(7,"mat-select",3),o.Ic(8,Wc,2,2,"mat-option",4),o.Sb(),o.Tb(9,"mat-error"),o.Ic(10,Uc,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(11,"mat-form-field",2),o.Tb(12,"mat-label"),o.Kc(13,"Date"),o.Sb(),o.Tb(14,"input",6),o.ac("click",function(){return o.yc(e),o.wc(17).open()}),o.Sb(),o.Ob(15,"mat-datepicker-toggle",7),o.Ob(16,"mat-datepicker",8,9),o.fc(18,"async"),o.Tb(19,"mat-error"),o.Ic(20,qc,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(21,"mat-form-field",2),o.Tb(22,"mat-label"),o.Kc(23,"Time"),o.Sb(),o.Tb(24,"mat-select",10),o.ac("selectionChange",function(e){return t.onSelect(e.value)}),o.Ic(25,Qc,2,2,"mat-option",4),o.Sb(),o.Sb(),o.Tb(26,"mat-form-field",2),o.Tb(27,"mat-label"),o.Kc(28,"Name"),o.Sb(),o.Ob(29,"input",11),o.Tb(30,"mat-error"),o.Ic(31,Vc,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(32,"mat-form-field",2),o.Tb(33,"mat-label"),o.Kc(34,"E-mail"),o.Sb(),o.Ob(35,"input",12),o.Tb(36,"mat-error"),o.Ic(37,Xc,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(38,"mat-form-field",2),o.Tb(39,"mat-label"),o.Kc(40,"Phone"),o.Sb(),o.Ob(41,"input",13),o.Tb(42,"mat-error"),o.Ic(43,Jc,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(44,"mat-form-field",2),o.Tb(45,"mat-label"),o.Kc(46,"Status"),o.Sb(),o.Tb(47,"mat-select",14),o.Ic(48,Gc,3,4,"mat-option",4),o.Sb(),o.Tb(49,"mat-error"),o.Ic(50,Zc,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(51,"mat-dialog-actions",15),o.Tb(52,"button",16),o.Kc(53," Cancel "),o.Sb(),o.Tb(54,"button",17),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(55," Ok "),o.Sb(),o.Sb(),o.Ic(56,io,2,3,"ng-template",null,18,o.Jc),o.Ic(58,ro,4,4,"ng-template",null,19,o.Jc)}if(2&e){const e=o.wc(17),n=o.wc(57);o.Cb(3),o.lc("formGroup",t.form),o.Cb(5),o.lc("ngForOf",t.treatments),o.Cb(2),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(23,so)),o.Cb(4),o.lc("matDatepicker",e),o.Cb(1),o.lc("for",e),o.Cb(1),o.lc("touchUi",o.gc(18,21,t.mediaService.isSmallScreen())),o.Cb(4),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(24,lo)),o.Cb(4),o.lc("disabled",!t.slots),o.Cb(1),o.lc("ngForOf",t.slots),o.Cb(6),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(25,uo)),o.Cb(6),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(26,mo)),o.Cb(6),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(27,bo)),o.Cb(5),o.lc("ngForOf",o.mc(28,po)),o.Cb(2),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(29,ho)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Bc.a,Nc.k,Nc.e,f.n,Ta.b,f.t,Nc.c,Sa.b,Yc.d,Yc.f,Ta.h,Yc.c,Ji.c,qi.a,Ji.d,ka.a,ea.m,f.q,f.r],pipes:[f.b,ta.a,f.i],styles:[""]}),e})();var fo=n("wd/R");function vo(e,t){if(1&e&&(o.Tb(0,"mat-option",19),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.name," ")}}function yo(e,t){1&e&&o.Pb(0)}function To(e,t){1&e&&o.Pb(0)}function So(e,t){if(1&e&&(o.Tb(0,"mat-option",19),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.format("h:mm A")," ")}}function wo(e,t){1&e&&o.Pb(0)}function Co(e,t){1&e&&o.Pb(0)}function ko(e,t){1&e&&o.Pb(0)}function Oo(e,t){1&e&&o.Pb(0)}const Do=function(e){return{$implicit:e}};function Io(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Oo,1,0,"ng-container",5),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(52);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,Do,e.key))}}function Eo(e,t){if(1&e&&(o.Ic(0,Io,2,4,"ng-container",20),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function xo(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function Mo(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function Po(e,t){1&e&&(o.Rb(0),o.Kc(1," Invalid email address "),o.Qb())}function Ao(e,t){1&e&&(o.Rb(0,21),o.Ic(1,xo,2,0,"ng-container",22),o.Ic(2,Mo,2,0,"ng-container",22),o.Ic(3,Po,2,0,"ng-container",22),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"),o.Cb(1),o.lc("ngSwitchCase","email"))}const Ro=function(){return{$implicit:"treatment"}},Ko=function(){return{$implicit:"date"}},No=function(){return{$implicit:"name"}},zo=function(){return{$implicit:"email"}},Ho=function(){return{$implicit:"phone"}};let $o=(()=>{class e extends jc.b{constructor(e,t,n,i){super({name:[e.appointment.name,[Nc.q.required,Nc.q.maxLength(50)]],email:[e.appointment.email,[Nc.q.required,Nc.q.maxLength(150),Nc.q.email]],phone:e.appointment.phone,treatment:[e.appointment.treatment,Nc.q.required],date:[e.appointment.date.clone(),Nc.q.required],status:[e.appointment.status,Nc.q.required],time:e.appointment.getFormattedTime()}),this.data=e,this.mediaService=t,this.schedulerService=n,this.dialogRef=i,this.AppointmentStatus=d.a,this.slots=[]}ngOnInit(){this.watchControls(this.form.controls.treatment,this.form.controls.date).subscribe(([e,t])=>{this.schedulerService.getSlots(t,e.duration).subscribe(n=>{this.slots=n.filter(n=>this.checkAvailability(n,t,e.id)).map(e=>fo(e.time,"HH:mm"))})})}watchControls(e,t){return Object(G.a)(e.valueChanges.pipe(Object(K.a)(e.value)),t.valueChanges.pipe(Object(K.a)(t.value)))}checkAvailability(e,t,n){const i=fo(e.time,"HH:mm"),a=this.data.appointment.getFormattedTime(),c=a.isSame(i),o=this.data.appointment.date.isSame(t),r=!0===e.available||c;return o&&this.data.appointment.treatment.id!==n&&a.isAfter(i)||r}onSelect(e){this.form.controls.date.value.set({hour:e.get("hour"),minute:e.get("minute")})}compareFn(e,t){return e instanceof fo?e.isSame(t):e.id===t.id}onSubmit(e){this.dialogRef.close(Object.assign(Object.assign({},this.data.appointment),e))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(l.f),o.Nb(l.g),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-edit-appointment"]],features:[o.zb],decls:53,vars:27,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["formControlName","treatment",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","date","matInput","","readonly","",3,"matDatepicker","click"],["matSuffix","",3,"for"],[3,"touchUi"],["datePicker",""],["formControlName","time",3,"compareWith","disabled","selectionChange"],["type","text","formControlName","name","matInput",""],["type","text","formControlName","email","matInput",""],["type","text","formControlName","phone","matInput",""],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[3,"value"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"h3",0),o.Kc(1,"Edit Appointment"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Treatment"),o.Sb(),o.Tb(7,"mat-select",3),o.Ic(8,vo,2,2,"mat-option",4),o.Sb(),o.Tb(9,"mat-error"),o.Ic(10,yo,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(11,"mat-form-field",2),o.Tb(12,"mat-label"),o.Kc(13,"Date"),o.Sb(),o.Tb(14,"input",6),o.ac("click",function(){return o.yc(e),o.wc(17).open()}),o.Sb(),o.Ob(15,"mat-datepicker-toggle",7),o.Ob(16,"mat-datepicker",8,9),o.fc(18,"async"),o.Tb(19,"mat-error"),o.Ic(20,To,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(21,"mat-form-field",2),o.Tb(22,"mat-label"),o.Kc(23,"Time"),o.Sb(),o.Tb(24,"mat-select",10),o.ac("selectionChange",function(e){return t.onSelect(e.value)}),o.Ic(25,So,2,2,"mat-option",4),o.Sb(),o.Sb(),o.Tb(26,"mat-form-field",2),o.Tb(27,"mat-label"),o.Kc(28,"Name"),o.Sb(),o.Ob(29,"input",11),o.Tb(30,"mat-error"),o.Ic(31,wo,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(32,"mat-form-field",2),o.Tb(33,"mat-label"),o.Kc(34,"E-mail"),o.Sb(),o.Ob(35,"input",12),o.Tb(36,"mat-error"),o.Ic(37,Co,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(38,"mat-form-field",2),o.Tb(39,"mat-label"),o.Kc(40,"Phone"),o.Sb(),o.Ob(41,"input",13),o.Tb(42,"mat-error"),o.Ic(43,ko,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(44,"mat-dialog-actions",14),o.Tb(45,"button",15),o.Kc(46," Cancel "),o.Sb(),o.Tb(47,"button",16),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(48," Ok "),o.Sb(),o.Sb(),o.Ic(49,Eo,2,3,"ng-template",null,17,o.Jc),o.Ic(51,Ao,4,4,"ng-template",null,18,o.Jc)}if(2&e){const e=o.wc(17),n=o.wc(50);o.Cb(3),o.lc("formGroup",t.form),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.data.treatments),o.Cb(2),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(22,Ro)),o.Cb(4),o.lc("matDatepicker",e),o.Cb(1),o.lc("for",e),o.Cb(1),o.lc("touchUi",o.gc(18,20,t.mediaService.isSmallScreen())),o.Cb(4),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(23,Ko)),o.Cb(4),o.lc("compareWith",t.compareFn)("disabled",!t.slots),o.Cb(1),o.lc("ngForOf",t.slots),o.Cb(6),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(24,No)),o.Cb(6),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(25,zo)),o.Cb(6),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(26,Ho)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Bc.a,Nc.k,Nc.e,f.n,Ta.b,f.t,Nc.c,Sa.b,Yc.d,Yc.f,Ta.h,Yc.c,Ji.c,qi.a,Ji.d,ka.a,ea.m,f.q,f.r],pipes:[f.b,f.i],styles:[""]}),e})();var Fo=n("wZkO");function Lo(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",9),o.ac("search",function(){return o.yc(e),o.ec(2).search$.next(!0)}),o.Sb()}}function _o(e,t){1&e&&o.Pb(0)}function jo(e,t){if(1&e&&(o.Tb(0,"mat-tab",10),o.Ic(1,_o,1,0,"ng-container",11),o.Sb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(6);o.lc("label",e),o.Cb(1),o.lc("ngTemplateOutlet",n)}}function Bo(e,t){if(1&e){const e=o.Ub();o.Rb(0),o.Ic(1,Lo,1,0,"app-toolbar",6),o.Tb(2,"mat-tab-group",7),o.ac("selectedIndexChange",function(t){return o.yc(e),o.ec().tabChange$.next(t)}),o.Ic(3,jo,2,2,"mat-tab",8),o.Sb(),o.Qb()}if(2&e){const e=o.ec(),t=o.wc(4);o.Cb(1),o.lc("ngIf",0===e.selection.selected.length)("ngIfElse",t),o.Cb(1),o.lc("animationDuration",0)("disablePagination",!0)("selectedIndex",e.currentTab),o.Cb(1),o.lc("ngForOf",e.tabs)}}function Yo(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-searchbar",14),o.ac("change",function(t){return o.yc(e),o.ec(2).searchTerm(t)})("cancel",function(){return o.yc(e),o.ec(2).search$.next(!1)}),o.Sb()}}function Wo(e,t){1&e&&o.Pb(0)}function Uo(e,t){if(1&e&&(o.Ic(0,Yo,1,0,"app-searchbar",12),o.Tb(1,"div",13),o.Ic(2,Wo,1,0,"ng-container",11),o.Sb()),2&e){const e=o.ec(),t=o.wc(4),n=o.wc(6);o.lc("ngIf",0===e.selection.selected.length)("ngIfElse",t),o.Cb(2),o.lc("ngTemplateOutlet",n)}}function qo(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",15),o.ac("cancel",function(){return o.yc(e),o.ec().selection.clear()})("delete",function(){o.yc(e);const t=o.ec();return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec();return t.edit(t.selection.selected[0])})("view",function(){o.yc(e);const t=o.ec();return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec();o.lc("count",e.selection.selected.length)}}function Qo(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",18),o.ac("change",function(t){o.yc(e);const n=o.ec(3);return!t||n.masterToggle()}),o.Sb(),o.Tb(2,"div",19),o.Kc(3,"Select all"),o.Sb(),o.Ob(4,"mat-divider"),o.Sb()}if(2&e){const e=o.ec(3);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function Vo(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",22),o.ac("change",function(t){o.yc(e);const n=o.ec().$implicit,i=o.ec(3);return!t||i.selection.toggle(n)}),o.Sb(),o.Tb(2,"div",19),o.Tb(3,"div",23),o.Tb(4,"b"),o.Kc(5),o.Sb(),o.Tb(6,"small",24),o.Kc(7),o.fc(8,"status"),o.Sb(),o.Sb(),o.Sb(),o.Tb(9,"div",19),o.Kc(10),o.Sb(),o.Tb(11,"div",19),o.Tb(12,"small"),o.Kc(13),o.Sb(),o.Sb(),o.Tb(14,"div",25),o.Tb(15,"button",26),o.ac("click",function(){o.yc(e);const t=o.ec().$implicit,n=o.ec(3);return n.selection.clear(),n.openActionSheet(t)}),o.Tb(16,"mat-icon"),o.Kc(17,"more_vert"),o.Sb(),o.Sb(),o.Sb(),o.Ob(18,"mat-divider"),o.Sb()}if(2&e){const e=o.ec().$implicit,t=o.ec(3);o.Cb(1),o.lc("checked",t.selection.isSelected(e)),o.Cb(4),o.Lc(e.date.format(t.dateFormat)),o.Cb(2),o.Lc(o.gc(8,5,e.status)),o.Cb(3),o.Lc(e.name),o.Cb(3),o.Lc(e.treatment.name)}}function Xo(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",22),o.ac("change",function(t){o.yc(e);const n=o.ec().$implicit,i=o.ec(3);return!t||i.selection.toggle(n)}),o.Sb(),o.Tb(2,"div",19),o.Tb(3,"b"),o.Kc(4),o.Sb(),o.Sb(),o.Tb(5,"div",19),o.Kc(6),o.Sb(),o.Tb(7,"div",19),o.Tb(8,"small"),o.Kc(9),o.fc(10,"status"),o.Sb(),o.Sb(),o.Tb(11,"div",25),o.Tb(12,"button",26),o.ac("click",function(){o.yc(e);const t=o.ec().$implicit,n=o.ec(3);return n.selection.clear(),n.openActionSheet(t)}),o.Tb(13,"mat-icon"),o.Kc(14,"more_vert"),o.Sb(),o.Sb(),o.Sb(),o.Ob(15,"mat-divider"),o.Sb()}if(2&e){const e=o.ec().$implicit,t=o.ec(3);o.Cb(1),o.lc("checked",t.selection.isSelected(e)),o.Cb(3),o.Lc(e.name),o.Cb(2),o.Lc(e.date.format(t.dateFormat)),o.Cb(3),o.Lc(o.gc(10,4,e.status))}}function Jo(e,t){if(1&e&&(o.Rb(0),o.Rb(1,20),o.Ic(2,Vo,19,7,"mat-list-item",21),o.Ic(3,Xo,16,6,"mat-list-item",21),o.Qb(),o.Qb()),2&e){const e=o.ec(3);o.Cb(1),o.lc("ngSwitch",1===e.currentTab&&!e.isSearching),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1)}}function Go(e,t){if(1&e&&(o.Tb(0,"mat-list"),o.Ic(1,Qo,5,2,"mat-list-item",16),o.Ic(2,Jo,4,3,"ng-container",17),o.Sb()),2&e){const e=o.ec(2);o.Cb(1),o.lc("ngIf",e.items.length>1),o.Cb(1),o.lc("ngForOf",e.items)}}function Zo(e,t){if(1&e&&o.Ic(0,Go,3,2,"mat-list",0),2&e){const e=o.ec(),t=o.wc(8);o.lc("ngIf",e.items.length)("ngIfElse",t)}}function er(e,t){1&e&&(o.Tb(0,"div",27),o.Tb(1,"h3"),o.Kc(2,"There are no appointments"),o.Sb(),o.Sb())}var tr=function(e){return e[e.PAST=0]="PAST",e[e.TODAY=1]="TODAY",e[e.UPCOMING=2]="UPCOMING",e}({});let nr=(()=>{class e extends Bi{constructor(e,t,n,i){super(e),this.appointmentsService=e,this.bottomSheet=t,this.snackBar=n,this.dialog=i,this.loading$=new k.a,this.search$=new E.a(!1),this.tabChange$=new E.a(tr.TODAY),this.tabs=["Past","Today","Upcoming"],this.isSearching=!1}ngOnInit(){this.items=this.appointments,this.listenEvents(),this.listenChanges(),this.watchLoading()}watchLoading(){this.loading$.subscribe(e=>e?this.loadingService.start():this.loadingService.stop())}listenEvents(){this.appointmentsService.events$.subscribe(({eventType:e,payload:t})=>{switch(e){case d.b.APPOINTMENT_CREATE_ONE:this.addAppointment(t),this.refreshTab();break;case d.b.APPOINTMENT_UPDATE_ONE:this.editAppointment(t),this.refreshTab()}})}listenChanges(){Object(G.a)(this.tabChange$,this.search$).subscribe(([e,t])=>{this.selection.clear(),this.isSearching=t,this.currentTab=e,this.dateFormat=e!==tr.TODAY||t?"DD/MM/YYYY, h:mm A":"HH:mm A",this.items=t?this.appointments:this.filterByTab(e)})}filterByTab(e){return this.appointments.filter(t=>{switch(e){case tr.PAST:return fo().isAfter(t.date,"day");case tr.TODAY:return fo().isSame(t.date,"day");case tr.UPCOMING:return fo().isBefore(t.date,"day")}})}searchTerm(e){"string"==typeof e&&(e.trim().toLowerCase(),this.items=this.appointments.filter(t=>this.stringify(t).toLowerCase().includes(e)))}stringify(e){const t=e.date.format(this.dateFormat),n=(new _c.c).transform(e.status);return JSON.stringify(Object.assign(Object.assign({},e),{date:t,status:n}))}openActionSheet(e){this.bottomSheet.open(Lc,{data:e}).afterDismissed().subscribe(t=>{t&&this.changeStatus(e,t)})}changeStatus(e,t){this.appointmentsService.changeStatus(e,t).pipe(Object(ra.a)(this.loading$)).subscribe(e=>{this.snackBar.open(u.d,u.n),this.editAppointment(e),this.refreshTab()})}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.c,u.n),this.deleteAppointments(e),this.refreshTab()})}edit(e){this.dialog.open($o,{data:{appointment:(new m.a).deserialize(e),treatments:this.treatments}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.d,u.n),this.editAppointment(e),this.refreshTab()})})}add(){this.dialog.open(go,{data:this.treatments}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.b,u.n),this.addAppointment(e),this.refreshTab()})})}view(e){this.dialog.open(na,{data:e})}deleteAppointments(e){this.appointments=this.appointments.filter(t=>!e.some(e=>e.id===t.id))}editAppointment(e){this.appointments=this.appointments.map(t=>t.id===e.id?e:t)}addAppointment(e){this.appointments.unshift(e)}refreshTab(){this.tabChange$.next(this.currentTab)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.a),o.Nb(Rc.b),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-appointment-list"]],inputs:{treatments:"treatments",appointments:"appointments"},features:[o.zb],decls:12,vars:2,consts:[[4,"ngIf","ngIfElse"],["searchTemplate",""],["selectionbarTemplate",""],["listTemplate",""],["emptyTemplate",""],["mat-fab","","color","primary",3,"click"],["title","Appointments",3,"search",4,"ngIf","ngIfElse"],["color","accent","backgroundColor","primary","mat-align-tabs","center",3,"animationDuration","disablePagination","selectedIndex","selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],["title","Appointments",3,"search"],[3,"label"],[4,"ngTemplateOutlet"],[3,"change","cancel",4,"ngIf","ngIfElse"],[1,"list-container"],[3,"change","cancel"],["background","accent",3,"count","cancel","delete","edit","view"],[4,"ngIf"],[4,"ngFor","ngForOf"],["matListIcon","",3,"checked","indeterminate","change"],["mat-line",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["matListIcon","",3,"checked","change"],["layout",""],["flex","",1,"text-right"],["mat-line-end",""],["mat-icon-button","",3,"click"],[1,"empty-state"]],template:function(e,t){if(1&e&&(o.Ic(0,Bo,4,6,"ng-container",0),o.Ic(1,Uo,3,3,"ng-template",null,1,o.Jc),o.Ic(3,qo,1,1,"ng-template",null,2,o.Jc),o.Ic(5,Zo,1,2,"ng-template",null,3,o.Jc),o.Ic(7,er,3,0,"ng-template",null,4,o.Jc),o.Tb(9,"button",5),o.ac("click",function(){return t.add()}),o.Tb(10,"mat-icon"),o.Kc(11,"add"),o.Sb(),o.Sb()),2&e){const e=o.wc(2);o.lc("ngIf",!t.isSearching)("ngIfElse",e)}},directives:[f.o,qi.a,Vi.a,Fo.b,f.n,va,Fo.a,f.t,Ca,Ma,Zi.a,Zi.c,Za.a,Zi.b,ea.k,Na.a,f.q,f.r],pipes:[ta.a],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}mat-tab-group[_ngcontent-%COMP%]  .mat-tab-body-wrapper{height:calc(100vh - 104px)}"]}),e})();var ir=n("jaxi");function ar(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-button-toggle",6),o.ac("change",function(t){return o.yc(e),o.ec().onTabChange(t.value)}),o.Kc(1),o.Sb()}if(2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e," ")}}function cr(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-searchbar",25),o.ac("change",function(t){return o.yc(e),o.ec(2).searchTerm(t)})("cancel",function(){return o.yc(e),o.ec(2).isSearching=!1}),o.Sb()}}function or(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",28),o.ac("cancel",function(){return o.yc(e),o.ec(3).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(3);return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec(3);return t.edit(t.selection.selected[0])})("view",function(){o.yc(e);const t=o.ec(3);return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(3);o.lc("count",e.selection.selected.length)}}function rr(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",29),o.ac("search",function(){return o.yc(e),o.ec(3).isSearching=!0})("add",function(){return o.yc(e),o.ec(3).add()}),o.Sb()}}function sr(e,t){if(1&e&&(o.Rb(0),o.Rb(1,8),o.Ic(2,or,1,1,"app-selectionbar",26),o.Ic(3,rr,1,0,"app-toolbar",27),o.Qb(),o.Qb()),2&e){const e=o.ec(2);o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1)}}function lr(e,t){if(1&e){const e=o.Ub();o.Tb(0,"th",30),o.Tb(1,"mat-checkbox",31),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function dr(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",32),o.Tb(1,"mat-checkbox",33),o.ac("click",function(e){return e.stopPropagation()})("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e))}}function ur(e,t){1&e&&(o.Tb(0,"th",34),o.Kc(1,"Name"),o.Sb())}function mr(e,t){if(1&e&&(o.Tb(0,"td",32),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.name," ")}}function br(e,t){1&e&&(o.Tb(0,"th",34),o.Kc(1,"E-mail"),o.Sb())}function pr(e,t){if(1&e&&(o.Tb(0,"td",32),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.email," ")}}function hr(e,t){1&e&&(o.Tb(0,"th",34),o.Kc(1,"Phone"),o.Sb())}function gr(e,t){if(1&e&&(o.Tb(0,"td",32),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.phone||"Ninguno"," ")}}function fr(e,t){1&e&&(o.Tb(0,"th",34),o.Kc(1,"Treatment"),o.Sb())}function vr(e,t){if(1&e&&(o.Tb(0,"td",32),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.treatment.name," ")}}function yr(e,t){1&e&&(o.Tb(0,"th",34),o.Kc(1,"Date"),o.Sb())}function Tr(e,t){if(1&e&&(o.Tb(0,"td",32),o.Kc(1),o.Sb()),2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.Mc(" ",e.date.format(n.dateFormat)," ")}}function Sr(e,t){1&e&&(o.Tb(0,"th",34),o.Kc(1,"Status"),o.Sb())}function wr(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",40),o.ac("confirm",function(){o.yc(e);const n=t.$implicit,i=o.ec().$implicit;return o.ec(2).changeStatus(i,n)})("click",function(){return o.yc(e),o.ec(),o.wc(2).closeMenu()}),o.Kc(1),o.fc(2,"status"),o.Sb()}if(2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",o.gc(2,1,e)," ")}}const Cr=function(){return[1,2,3,5,6]};function kr(e,t){if(1&e&&(o.Tb(0,"td",32),o.Tb(1,"button",35,36),o.ac("click",function(e){return e.stopPropagation()}),o.Tb(3,"mat-icon"),o.Kc(4,"arrow_drop_down"),o.Sb(),o.Kc(5),o.fc(6,"status"),o.Tb(7,"mat-menu",37,38),o.Ic(9,wr,3,3,"button",39),o.Sb(),o.Sb(),o.Sb()),2&e){const e=t.$implicit,n=o.wc(8),i=o.ec(2);o.Cb(1),o.lc("matMenuTriggerFor",n)("disabled",e.status===i.AppointmentStatus.CANCELLED||e.status===i.AppointmentStatus.COMPLETED)("disableRipple",!0),o.Cb(4),o.Mc(" ",o.gc(6,5,e.status)," "),o.Cb(4),o.lc("ngForOf",o.mc(7,Cr))}}function Or(e,t){1&e&&o.Ob(0,"tr",41)}function Dr(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",42),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec(2).selection.toggle(n)}),o.Sb()}}function Ir(e,t){if(1&e&&(o.Tb(0,"div",7),o.Rb(1,8),o.Ic(2,cr,1,0,"app-searchbar",9),o.Ic(3,sr,4,3,"ng-container",10),o.Qb(),o.Tb(4,"table",11),o.Rb(5,12),o.Ic(6,lr,2,2,"th",13),o.Ic(7,dr,2,1,"td",14),o.Qb(),o.Rb(8,15),o.Ic(9,ur,2,0,"th",16),o.Ic(10,mr,2,1,"td",14),o.Qb(),o.Rb(11,17),o.Ic(12,br,2,0,"th",16),o.Ic(13,pr,2,1,"td",14),o.Qb(),o.Rb(14,18),o.Ic(15,hr,2,0,"th",16),o.Ic(16,gr,2,1,"td",14),o.Qb(),o.Rb(17,19),o.Ic(18,fr,2,0,"th",16),o.Ic(19,vr,2,1,"td",14),o.Qb(),o.Rb(20,20),o.Ic(21,yr,2,0,"th",16),o.Ic(22,Tr,2,1,"td",14),o.Qb(),o.Rb(23,21),o.Ic(24,Sr,2,0,"th",16),o.Ic(25,kr,10,8,"td",14),o.Qb(),o.Ic(26,Or,1,0,"tr",22),o.Ic(27,Dr,1,0,"tr",23),o.Sb(),o.Ob(28,"mat-paginator",24),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.isSearching&&!e.selection.selected.length),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(1),o.lc("dataSource",e.rows),o.Cb(22),o.lc("matHeaderRowDef",e.columns),o.Cb(1),o.lc("matRowDefColumns",e.columns),o.Cb(1),o.lc("pageSize",10)}}function Er(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",43),o.Tb(1,"mat-icon",44),o.Kc(2,"event"),o.Sb(),o.Tb(3,"h3"),o.Kc(4,"There are no appointments"),o.Sb(),o.Tb(5,"p"),o.Kc(6,"You can add one and then view it here."),o.Sb(),o.Tb(7,"button",45),o.ac("click",function(){return o.yc(e),o.ec().add()}),o.Kc(8," Add Appointment "),o.Sb(),o.Sb()}}var xr=function(e){return e.ALL="All",e.PAST="Past",e.TODAY="Today",e.UPCOMING="Upcoming",e}({});let Mr=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.appointmentsService=e,this.snackBar=t,this.dialog=n,this.AppointmentStatus=d.a,this.loading$=new k.a,this.tabs=["All","Past","Today","Upcoming"],this.dateFormat="DD/MM/YYYY, h:mm A",this.columns=["select","name","email","phone","treatment","date","status"],this.currentTab=xr.ALL,this.isSearching=!1}ngOnInit(){this.rows.data=Object.assign([],this.appointments),this.rows.filterPredicate=this.filterPredicate.bind(this),this.listenEvents(),this.watchLoading()}watchLoading(){this.loading$.subscribe(e=>e?this.loadingService.start():this.loadingService.stop())}onTabChange(e){this.selection.clear(),this.isSearching=!1,this.searchTerm(""),this.rows.data=this.filterByTab(e)}filterByTab(e){return this.appointments.filter(t=>{switch(e){case xr.PAST:return fo().isAfter(t.date,"day");case xr.TODAY:return fo().isSame(t.date,"day");case xr.UPCOMING:return fo().isBefore(t.date,"day");default:return!0}})}listenEvents(){this.appointmentsService.events$.subscribe(({eventType:e,payload:t})=>{switch(e){case d.b.APPOINTMENT_CREATE_ONE:this.addAppointment(t),this.onTabChange(this.currentTab);break;case d.b.APPOINTMENT_UPDATE_ONE:this.editAppointment(t),this.onTabChange(this.currentTab)}})}filterPredicate(e,t){return this.stringify(e).toLowerCase().includes(t)}stringify(e){const t=e.date.format(this.dateFormat),n=(new _c.c).transform(e.status);return JSON.stringify(Object.assign(Object.assign({},e),{date:t,status:n}))}ngAfterViewInit(){this.rows.paginator=this.paginator,this.rows.sort=this.sort,this.rows.sortingDataAccessor=this.sortingDataAccessor}sortingDataAccessor(e,t){return"treatment"==t?e[t].name:e[t]}searchTerm(e){"string"==typeof e&&(this.rows.filter=e.trim().toLowerCase())}changeStatus(e,t){this.appointmentsService.changeStatus(e,t).pipe(Object(ra.a)(this.loading$)).subscribe(e=>{this.snackBar.open(u.d,u.n),this.editAppointment(e),this.onTabChange(this.currentTab)})}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.c,u.n),this.deleteAppointments(e),this.onTabChange(this.currentTab)})}edit(e){this.dialog.open($o,{width:"350px",data:{appointment:(new m.a).deserialize(e),treatments:this.treatments}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.d,u.n),this.editAppointment(e),this.onTabChange(this.currentTab)})})}add(){this.dialog.open(go,{width:"350px",data:this.treatments}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.b,u.n),this.addAppointment(e),this.onTabChange(this.currentTab)})})}view(e){this.dialog.open(na,{data:e})}deleteAppointments(e){this.appointments=this.appointments.filter(t=>!e.some(e=>e.id===t.id))}editAppointment(e){this.appointments=this.appointments.map(t=>t.id===e.id?e:t)}addAppointment(e){this.appointments.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.a),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-appointments-table"]],viewQuery:function(e,t){if(1&e&&(o.Oc(lc.a,!0),o.Oc(dc.a,!0)),2&e){let e;o.vc(e=o.bc())&&(t.sort=e.first),o.vc(e=o.bc())&&(t.paginator=e.first)}},inputs:{treatments:"treatments",appointments:"appointments"},features:[o.zb],decls:8,vars:4,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],[3,"ngModel","ngModelChange"],[3,"value","change",4,"ngFor","ngForOf"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyTemplate",""],[3,"value","change"],[1,"mat-elevation-z8"],[3,"ngSwitch"],[3,"change","cancel",4,"ngSwitchCase"],[4,"ngSwitchCase"],["mat-table","","matSort","",1,"selectable",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","treatment"],["matColumnDef","date"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["hidePageSize","","showFirstLastButtons","",3,"pageSize"],[3,"change","cancel"],["background","accent",3,"count","cancel","delete","edit","view",4,"ngSwitchCase"],["title","Appointments","background","primary",3,"search","add",4,"ngSwitchCase"],["background","accent",3,"count","cancel","delete","edit","view"],["title","Appointments","background","primary",3,"search","add"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","",3,"matMenuTriggerFor","disabled","disableRipple","click"],["changeStatusTrigger","matMenuTrigger"],["xPosition","before"],["changeStatusMenu","matMenu"],["mat-menu-item","","appConfirm","",3,"confirm","click",4,"ngFor","ngForOf"],["mat-menu-item","","appConfirm","",3,"confirm","click"],["mat-header-row",""],["mat-row","",3,"click"],[1,"empty-state"],["inline","true"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"mat-button-toggle-group",2),o.ac("ngModelChange",function(e){return t.currentTab=e}),o.Ic(3,ar,2,2,"mat-button-toggle",3),o.Sb(),o.Sb(),o.Tb(4,"div",1),o.Ic(5,Ir,29,7,"div",4),o.Ic(6,Er,9,0,"ng-template",null,5,o.Jc),o.Sb(),o.Sb()),2&e){const e=o.wc(7);o.Cb(2),o.lc("ngModel",t.currentTab),o.Cb(1),o.lc("ngForOf",t.tabs),o.Cb(2),o.lc("ngIf",t.rows.data.length)("ngIfElse",e)}},directives:[ir.b,Nc.k,Nc.n,f.n,f.o,ir.a,f.q,f.r,Yi.j,lc.a,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,dc.a,Ca,Ma,va,Yi.d,Za.a,Yi.a,lc.b,qi.a,sa.d,Vi.a,sa.a,sa.b,ka.a,Yi.f,Yi.h],pipes:[ta.a],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}"]}),e})();function Pr(e,t){if(1&e&&o.Ob(0,"app-appointment-list",2),2&e){const e=o.ec();o.lc("appointments",e.route.snapshot.data.appointments)("treatments",e.route.snapshot.data.treatments)}}function Ar(e,t){if(1&e&&o.Ob(0,"app-appointments-table",2),2&e){const e=o.ec();o.lc("appointments",e.route.snapshot.data.appointments)("treatments",e.route.snapshot.data.treatments)}}let Rr=(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-appointments"]],decls:4,vars:4,consts:[[3,"appointments","treatments",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"appointments","treatments"]],template:function(e,t){if(1&e&&(o.Ic(0,Pr,1,2,"app-appointment-list",0),o.fc(1,"async"),o.Ic(2,Ar,1,2,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,nr,Mr],pipes:[f.b],styles:[""]}),e})(),Kr=(()=>{class e{constructor(e){this.treatment=e}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatment-details"]],decls:29,vars:9,consts:[["mat-dialog-content",""],["mat-line",""]],template:function(e,t){1&e&&(o.Tb(0,"mat-list",0),o.Tb(1,"h3"),o.Kc(2),o.Sb(),o.Tb(3,"mat-list-item"),o.Tb(4,"div",1),o.Tb(5,"b"),o.Kc(6,"Duration"),o.Sb(),o.Sb(),o.Tb(7,"div",1),o.Kc(8),o.fc(9,"duration"),o.Sb(),o.Sb(),o.Tb(10,"mat-list-item"),o.Tb(11,"div",1),o.Tb(12,"b"),o.Kc(13,"Category"),o.Sb(),o.Sb(),o.Tb(14,"div",1),o.Kc(15),o.Sb(),o.Sb(),o.Tb(16,"mat-list-item"),o.Tb(17,"div",1),o.Tb(18,"b"),o.Kc(19,"Price"),o.Sb(),o.Sb(),o.Tb(20,"div",1),o.Kc(21),o.fc(22,"currency"),o.Sb(),o.Sb(),o.Tb(23,"mat-list-item"),o.Tb(24,"div",1),o.Tb(25,"b"),o.Kc(26,"Status"),o.Sb(),o.Sb(),o.Tb(27,"div",1),o.Kc(28),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Cb(2),o.Lc(t.treatment.name),o.Cb(6),o.Lc(o.gc(9,5,t.treatment.duration)),o.Cb(7),o.Lc(t.treatment.category?t.treatment.category.name:"None"),o.Cb(6),o.Lc(o.gc(22,7,t.treatment.price)),o.Cb(7),o.Lc(t.treatment.status?"Enabled":"Disabled"))},directives:[Zi.a,Ji.e,Zi.c,ea.k],pipes:[za.a,f.d],styles:["h3[_ngcontent-%COMP%]{margin:0 0 8px;padding:0 16px;font-size:20px;line-height:32px}.mat-line[_ngcontent-%COMP%]{word-break:break-all!important;white-space:normal!important}"]}),e})();function Nr(e,t){1&e&&o.Pb(0)}function zr(e,t){if(1&e&&(o.Tb(0,"mat-option",11),o.Kc(1),o.fc(2,"duration"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",o.gc(2,2,e)," ")}}function Hr(e,t){1&e&&o.Pb(0)}function $r(e,t){1&e&&o.Pb(0)}function Fr(e,t){if(1&e&&(o.Tb(0,"mat-option",11),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.name," ")}}function Lr(e,t){1&e&&o.Pb(0)}function _r(e,t){1&e&&o.Pb(0)}function jr(e,t){1&e&&o.Pb(0)}const Br=function(e){return{$implicit:e}};function Yr(e,t){if(1&e&&(o.Rb(0),o.Ic(1,jr,1,0,"ng-container",4),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(50);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,Br,e.key))}}function Wr(e,t){if(1&e&&(o.Ic(0,Yr,2,4,"ng-container",17),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function Ur(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function qr(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function Qr(e,t){1&e&&(o.Rb(0,18),o.Ic(1,Ur,2,0,"ng-container",19),o.Ic(2,qr,2,0,"ng-container",19),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"))}const Vr=function(){return{$implicit:"name"}},Xr=function(){return{$implicit:"duration"}},Jr=function(){return{$implicit:"price"}},Gr=function(){return{$implicit:"category"}},Zr=function(){return{$implicit:"status"}};let es=(()=>{class e extends jc.b{constructor(e,t){super({name:[null,[Nc.q.required,Nc.q.maxLength(50)]],duration:[null,[Nc.q.required]],price:[null,[Nc.q.required]],category:[null,[Nc.q.required]],status:[null,[Nc.q.required]]}),this.categories=e,this.dialogRef=t,this.times=[]}ngOnInit(){for(let e=0;e<32;e++)this.times.push(15*e)}onSubmit(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-add-treatment"]],features:[o.zb],decls:51,vars:21,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["type","text","formControlName","name","matInput",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","duration"],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["type","number","formControlName","price","matInput",""],["formControlName","category"],["formControlName","status"],[3,"value"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Add Treatment"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Name"),o.Sb(),o.Ob(7,"input",3),o.Tb(8,"mat-error"),o.Ic(9,Nr,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(10,"mat-form-field",2),o.Tb(11,"mat-label"),o.Kc(12,"Duration"),o.Sb(),o.Tb(13,"mat-select",5),o.Ic(14,zr,3,4,"mat-option",6),o.Sb(),o.Tb(15,"mat-error"),o.Ic(16,Hr,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(17,"mat-form-field",2),o.Tb(18,"mat-label"),o.Kc(19,"Price"),o.Sb(),o.Tb(20,"mat-icon",7),o.Kc(21,"attach_money"),o.Sb(),o.Ob(22,"input",8),o.Tb(23,"mat-error"),o.Ic(24,$r,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(25,"mat-form-field",2),o.Tb(26,"mat-label"),o.Kc(27,"Category"),o.Sb(),o.Tb(28,"mat-select",9),o.Ic(29,Fr,2,2,"mat-option",6),o.Sb(),o.Tb(30,"mat-error"),o.Ic(31,Lr,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(32,"mat-form-field",2),o.Tb(33,"mat-label"),o.Kc(34,"Status"),o.Sb(),o.Tb(35,"mat-select",10),o.Tb(36,"mat-option",11),o.Kc(37," Enabled "),o.Sb(),o.Tb(38,"mat-option",11),o.Kc(39," Disabled "),o.Sb(),o.Sb(),o.Tb(40,"mat-error"),o.Ic(41,_r,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(42,"mat-dialog-actions",12),o.Tb(43,"button",13),o.Kc(44," Cancel "),o.Sb(),o.Tb(45,"button",14),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(46," Ok "),o.Sb(),o.Sb(),o.Ic(47,Wr,2,3,"ng-template",null,15,o.Jc),o.Ic(49,Qr,3,3,"ng-template",null,16,o.Jc)),2&e){const e=o.wc(48);o.Cb(3),o.lc("formGroup",t.form),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(16,Vr)),o.Cb(5),o.lc("ngForOf",t.times),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(17,Xr)),o.Cb(8),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(18,Jr)),o.Cb(5),o.lc("ngForOf",t.categories),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(19,Gr)),o.Cb(5),o.lc("value",!0),o.Cb(2),o.lc("value",!1),o.Cb(3),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(20,Zr)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Nc.c,Sa.b,Nc.k,Nc.e,Ta.b,f.t,Bc.a,f.n,Vi.a,Ta.g,Nc.o,ea.m,Ji.c,qi.a,Ji.d,ka.a,f.q,f.r],pipes:[za.a,f.i],styles:[""]}),e})();function ts(e,t){1&e&&o.Pb(0)}function ns(e,t){if(1&e&&(o.Tb(0,"mat-option",11),o.Kc(1),o.fc(2,"duration"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",o.gc(2,2,e)," ")}}function is(e,t){1&e&&o.Pb(0)}function as(e,t){1&e&&o.Pb(0)}function cs(e,t){if(1&e&&(o.Tb(0,"mat-option",11),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.name," ")}}function os(e,t){1&e&&o.Pb(0)}function rs(e,t){1&e&&o.Pb(0)}function ss(e,t){1&e&&o.Pb(0)}const ls=function(e){return{$implicit:e}};function ds(e,t){if(1&e&&(o.Rb(0),o.Ic(1,ss,1,0,"ng-container",4),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(50);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,ls,e.key))}}function us(e,t){if(1&e&&(o.Ic(0,ds,2,4,"ng-container",17),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function ms(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function bs(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function ps(e,t){1&e&&(o.Rb(0,18),o.Ic(1,ms,2,0,"ng-container",19),o.Ic(2,bs,2,0,"ng-container",19),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"))}const hs=function(){return{$implicit:"name"}},gs=function(){return{$implicit:"duration"}},fs=function(){return{$implicit:"price"}},vs=function(){return{$implicit:"category"}},ys=function(){return{$implicit:"status"}};let Ts=(()=>{class e extends jc.b{constructor(e,t){super({name:[e.treatment.name,[Nc.q.required,Nc.q.maxLength(50)]],duration:[e.treatment.duration,[Nc.q.required]],price:[e.treatment.price,[Nc.q.required]],category:[e.treatment.category,[Nc.q.required]],status:[e.treatment.status,[Nc.q.required]]}),this.data=e,this.dialogRef=t,this.times=[]}ngOnInit(){for(let e=0;e<32;e++)this.times.push(15*e)}compareFn(e,t){return e.id===t.id}onSubmit(e){this.dialogRef.close(Object.assign(Object.assign({},this.data.treatment),e))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-edit-treatment"]],features:[o.zb],decls:51,vars:22,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["type","text","formControlName","name","matInput",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","duration"],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["type","number","formControlName","price","matInput",""],["formControlName","category",3,"compareWith"],["formControlName","status"],[3,"value"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Edit treatment"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Name"),o.Sb(),o.Ob(7,"input",3),o.Tb(8,"mat-error"),o.Ic(9,ts,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(10,"mat-form-field",2),o.Tb(11,"mat-label"),o.Kc(12,"Duration"),o.Sb(),o.Tb(13,"mat-select",5),o.Ic(14,ns,3,4,"mat-option",6),o.Sb(),o.Tb(15,"mat-error"),o.Ic(16,is,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(17,"mat-form-field",2),o.Tb(18,"mat-label"),o.Kc(19,"Price"),o.Sb(),o.Tb(20,"mat-icon",7),o.Kc(21,"attach_money"),o.Sb(),o.Ob(22,"input",8),o.Tb(23,"mat-error"),o.Ic(24,as,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(25,"mat-form-field",2),o.Tb(26,"mat-label"),o.Kc(27,"Category"),o.Sb(),o.Tb(28,"mat-select",9),o.Ic(29,cs,2,2,"mat-option",6),o.Sb(),o.Tb(30,"mat-error"),o.Ic(31,os,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(32,"mat-form-field",2),o.Tb(33,"mat-label"),o.Kc(34,"Status"),o.Sb(),o.Tb(35,"mat-select",10),o.Tb(36,"mat-option",11),o.Kc(37," Enabled "),o.Sb(),o.Tb(38,"mat-option",11),o.Kc(39," Disabled "),o.Sb(),o.Sb(),o.Tb(40,"mat-error"),o.Ic(41,rs,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(42,"mat-dialog-actions",12),o.Tb(43,"button",13),o.Kc(44," Cancel "),o.Sb(),o.Tb(45,"button",14),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(46," Ok "),o.Sb(),o.Sb(),o.Ic(47,us,2,3,"ng-template",null,15,o.Jc),o.Ic(49,ps,3,3,"ng-template",null,16,o.Jc)),2&e){const e=o.wc(48);o.Cb(3),o.lc("formGroup",t.form),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(17,hs)),o.Cb(5),o.lc("ngForOf",t.times),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(18,gs)),o.Cb(8),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(19,fs)),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.data.categories),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(20,vs)),o.Cb(5),o.lc("value",!0),o.Cb(2),o.lc("value",!1),o.Cb(3),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(21,ys)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Nc.c,Sa.b,Nc.k,Nc.e,Ta.b,f.t,Bc.a,f.n,Vi.a,Ta.g,Nc.o,ea.m,Ji.c,qi.a,Ji.d,ka.a,f.q,f.r],pipes:[za.a,f.i],styles:[""]}),e})();var Ss=n("1jcm");function ws(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-searchbar",6),o.ac("change",function(t){return o.yc(e),o.ec().search(t)})("cancel",function(){return o.yc(e),o.ec().isSearching=!1}),o.Sb()}}function Cs(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",9),o.ac("cancel",function(){return o.yc(e),o.ec(2).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(2);return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec(2);return t.edit(t.selection.selected[0])})("view",function(){o.yc(e);const t=o.ec(2);return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("count",e.selection.selected.length)}}function ks(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",10),o.ac("search",function(){return o.yc(e),o.ec(2).isSearching=!0}),o.Sb()}}function Os(e,t){if(1&e&&(o.Rb(0),o.Rb(1,0),o.Ic(2,Cs,1,1,"app-selectionbar",7),o.Ic(3,ks,1,0,"app-toolbar",8),o.Qb(),o.Qb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1)}}function Ds(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",13),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Tb(2,"div",14),o.Kc(3,"Select all"),o.Sb(),o.Ob(4,"mat-divider"),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function Is(e,t){if(1&e){const e=o.Ub();o.Rb(0),o.Tb(1,"mat-list-item"),o.Tb(2,"mat-checkbox",15),o.ac("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Tb(3,"div",14),o.Tb(4,"b"),o.Kc(5),o.Sb(),o.Sb(),o.Tb(6,"div",14),o.Kc(7),o.fc(8,"duration"),o.Sb(),o.Tb(9,"div",14),o.Tb(10,"small"),o.Kc(11),o.fc(12,"currency"),o.Sb(),o.Sb(),o.Tb(13,"mat-slide-toggle",16),o.ac("click",function(e){return e.preventDefault()})("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).toggleState(n)}),o.Sb(),o.Ob(14,"mat-divider"),o.Sb(),o.Qb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(2),o.lc("checked",n.selection.isSelected(e)),o.Cb(3),o.Lc(e.name),o.Cb(2),o.Lc(o.gc(8,5,e.duration)),o.Cb(4),o.Lc(o.gc(12,7,e.price)),o.Cb(2),o.lc("checked",e.status)}}function Es(e,t){if(1&e&&(o.Tb(0,"mat-list"),o.Ic(1,Ds,5,2,"mat-list-item",11),o.Ic(2,Is,15,9,"ng-container",12),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngIf",e.items.length>1),o.Cb(1),o.lc("ngForOf",e.items)}}function xs(e,t){1&e&&(o.Tb(0,"div",17),o.Tb(1,"h3"),o.Kc(2,"There are no treatments"),o.Sb(),o.Sb())}let Ms=(()=>{class e extends Bi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n,this.isSearching=!1}ngOnInit(){this.items=Object.assign([],this.treatments)}search(e){if("string"==typeof e){const t=e.trim().toLowerCase();this.items=this.treatments.filter(e=>JSON.stringify(e).toLowerCase().includes(t))}}toggleState(e){const t=(new m.c).deserialize(Object.assign(Object.assign({},e),{status:!e.status}));this.editResource(t).subscribe(()=>{this.snackBar.open(u.v,u.n)})}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.u,u.n),this.deleteTreatments(e)})}edit(e){this.dialog.open(Ts,{data:{treatment:(new m.c).deserialize(e),categories:this.categories}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.v,u.n),this.editTreatment(e)})})}add(){this.dialog.open(es,{data:this.categories}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.t,u.n),this.addTreatment(e)})})}view(e){this.dialog.open(Kr,{data:e})}deleteTreatments(e){this.treatments=this.treatments.filter(t=>!e.some(e=>e.id===t.id))}editTreatment(e){this.treatments=this.treatments.map(t=>t.id===e.id?e:t)}addTreatment(e){this.treatments.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.i),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatment-list"]],inputs:{categories:"categories",treatments:"treatments"},features:[o.zb],decls:10,vars:5,consts:[[3,"ngSwitch"],[3,"change","cancel",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],["emptyTemplate",""],["mat-fab","","color","primary",3,"click"],[3,"change","cancel"],["background","accent",3,"count","cancel","delete","edit","view",4,"ngSwitchCase"],["background","primary","title","Treatments",3,"search",4,"ngSwitchCase"],["background","accent",3,"count","cancel","delete","edit","view"],["background","primary","title","Treatments",3,"search"],[4,"ngIf"],[4,"ngFor","ngForOf"],["matListIcon","",3,"checked","indeterminate","change"],["mat-line",""],["matListIcon","",3,"checked","change"],["appConfirm","",3,"checked","click","confirm"],[1,"empty-state"]],template:function(e,t){if(1&e&&(o.Rb(0,0),o.Ic(1,ws,1,0,"app-searchbar",1),o.Ic(2,Os,4,3,"ng-container",2),o.Qb(),o.Tb(3,"div"),o.Ic(4,Es,3,2,"mat-list",3),o.Sb(),o.Ic(5,xs,3,0,"ng-template",null,4,o.Jc),o.Tb(7,"button",5),o.ac("click",function(){return t.add()}),o.Tb(8,"mat-icon"),o.Kc(9,"add"),o.Sb(),o.Sb()),2&e){const e=o.wc(6);o.lc("ngSwitch",t.isSearching),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(2),o.lc("ngIf",t.items.length)("ngIfElse",e)}},directives:[f.q,f.r,f.o,qi.a,Vi.a,Ca,Ma,va,Zi.a,f.n,Zi.c,Za.a,Zi.b,ea.k,Na.a,Ss.a,ka.a],pipes:[za.a,f.d],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(100vh - 56px);overflow-y:auto}"]}),e})();function Ps(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-searchbar",21),o.ac("change",function(t){return o.yc(e),o.ec(2).search(t)})("cancel",function(){return o.yc(e),o.ec(2).isSearching=!1}),o.Sb()}}function As(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",24),o.ac("cancel",function(){return o.yc(e),o.ec(3).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(3);return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec(3);return t.edit(t.selection.selected[0])})("view",function(){o.yc(e);const t=o.ec(3);return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(3);o.lc("count",e.selection.selected.length)}}function Rs(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",25),o.ac("search",function(){return o.yc(e),o.ec(3).isSearching=!0})("add",function(){return o.yc(e),o.ec(3).add()}),o.Sb()}}function Ks(e,t){if(1&e&&(o.Rb(0),o.Rb(1,5),o.Ic(2,As,1,1,"app-selectionbar",22),o.Ic(3,Rs,1,0,"app-toolbar",23),o.Qb(),o.Qb()),2&e){const e=o.ec(2);o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1)}}function Ns(e,t){if(1&e){const e=o.Ub();o.Tb(0,"th",26),o.Tb(1,"mat-checkbox",27),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function zs(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",28),o.Tb(1,"mat-checkbox",29),o.ac("click",function(e){return e.stopPropagation()})("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e))}}function Hs(e,t){1&e&&(o.Tb(0,"th",30),o.Kc(1,"Name"),o.Sb())}function $s(e,t){if(1&e&&(o.Tb(0,"td",28),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.name," ")}}function Fs(e,t){1&e&&(o.Tb(0,"th",30),o.Kc(1,"Duration"),o.Sb())}function Ls(e,t){if(1&e&&(o.Tb(0,"td",28),o.Kc(1),o.fc(2,"duration"),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",o.gc(2,1,e.duration)," ")}}function _s(e,t){1&e&&(o.Tb(0,"th",30),o.Kc(1,"Price"),o.Sb())}function js(e,t){if(1&e&&(o.Tb(0,"td",28),o.Kc(1),o.fc(2,"currency"),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",o.gc(2,1,e.price)," ")}}function Bs(e,t){1&e&&(o.Tb(0,"th",30),o.Kc(1,"Category"),o.Sb())}function Ys(e,t){if(1&e&&(o.Tb(0,"td",28),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.category.name," ")}}function Ws(e,t){1&e&&(o.Tb(0,"th",30),o.Kc(1,"Status"),o.Sb())}function Us(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",28),o.Tb(1,"mat-slide-toggle",31),o.ac("click",function(e){return e.preventDefault()})("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).toggleState(n)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit;o.Cb(1),o.lc("checked",e.status)}}function qs(e,t){1&e&&o.Ob(0,"tr",32)}function Qs(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",33),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec(2).selection.toggle(n)}),o.Sb()}}function Vs(e,t){if(1&e&&(o.Tb(0,"div",4),o.Rb(1,5),o.Ic(2,Ps,1,0,"app-searchbar",6),o.Ic(3,Ks,4,3,"ng-container",7),o.Qb(),o.Tb(4,"table",8),o.Rb(5,9),o.Ic(6,Ns,2,2,"th",10),o.Ic(7,zs,2,1,"td",11),o.Qb(),o.Rb(8,12),o.Ic(9,Hs,2,0,"th",13),o.Ic(10,$s,2,1,"td",11),o.Qb(),o.Rb(11,14),o.Ic(12,Fs,2,0,"th",13),o.Ic(13,Ls,3,3,"td",11),o.Qb(),o.Rb(14,15),o.Ic(15,_s,2,0,"th",13),o.Ic(16,js,3,3,"td",11),o.Qb(),o.Rb(17,16),o.Ic(18,Bs,2,0,"th",13),o.Ic(19,Ys,2,1,"td",11),o.Qb(),o.Rb(20,17),o.Ic(21,Ws,2,0,"th",13),o.Ic(22,Us,2,1,"td",11),o.Qb(),o.Ic(23,qs,1,0,"tr",18),o.Ic(24,Qs,1,0,"tr",19),o.Sb(),o.Ob(25,"mat-paginator",20),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.isSearching),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(1),o.lc("dataSource",e.rows),o.Cb(19),o.lc("matHeaderRowDef",e.columns),o.Cb(1),o.lc("matRowDefColumns",e.columns),o.Cb(1),o.lc("pageSize",10)}}function Xs(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",34),o.Tb(1,"mat-icon",35),o.Kc(2,"build"),o.Sb(),o.Tb(3,"h3"),o.Kc(4,"There are no treatments"),o.Sb(),o.Tb(5,"p"),o.Kc(6,"You can add one and then view it here."),o.Sb(),o.Tb(7,"button",36),o.ac("click",function(){return o.yc(e),o.ec().add()}),o.Kc(8," Add Treatment "),o.Sb(),o.Sb()}}let Js=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n,this.columns=["select","name","duration","price","category","status"],this.isSearching=!1}ngOnInit(){this.rows.data=Object.assign([],this.treatments),this.rows.filterPredicate=this.filterPredicate}filterPredicate(e,t){return JSON.stringify(e).toLowerCase().includes(t)}ngAfterViewInit(){this.rows.sort=this.sort,this.rows.paginator=this.paginator}search(e){"string"==typeof e&&(this.rows.filter=e.trim().toLowerCase())}toggleState(e){const t=(new m.c).deserialize(Object.assign(Object.assign({},e),{status:!e.status}));this.editResource(t).subscribe(()=>{this.snackBar.open(u.v,u.n)})}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.u,u.n),this.deleteTreatments(e)})}edit(e){this.dialog.open(Ts,{width:"350px",data:{treatment:(new m.c).deserialize(e),categories:this.categories}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.v,u.n),this.editTreatment(e)})})}add(){this.dialog.open(es,{width:"350px",data:this.categories}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.t,u.n),this.addTreatment(e)})})}view(e){this.dialog.open(Kr,{width:"350px",data:e})}deleteTreatments(e){this.treatments=this.treatments.filter(t=>!e.some(e=>e.id===t.id))}editTreatment(e){this.treatments=this.treatments.map(t=>t.id===e.id?e:t)}addTreatment(e){this.treatments.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.i),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatments-table"]],viewQuery:function(e,t){if(1&e&&(o.Oc(dc.a,!0),o.Oc(lc.a,!0)),2&e){let e;o.vc(e=o.bc())&&(t.paginator=e.first),o.vc(e=o.bc())&&(t.sort=e.first)}},inputs:{categories:"categories",treatments:"treatments"},features:[o.zb],decls:5,vars:2,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"mat-elevation-z8"],[3,"ngSwitch"],[3,"change","cancel",4,"ngSwitchCase"],[4,"ngSwitchCase"],["mat-table","","matSort","",1,"selectable",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","duration"],["matColumnDef","price"],["matColumnDef","category"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["hidePageSize","","showFirstLastButtons","",3,"pageSize"],[3,"change","cancel"],["background","accent",3,"count","cancel","delete","edit","view",4,"ngSwitchCase"],["title","Treatments","background","primary",3,"search","add",4,"ngSwitchCase"],["background","accent",3,"count","cancel","delete","edit","view"],["title","Treatments","background","primary",3,"search","add"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["appConfirm","",3,"checked","click","confirm"],["mat-header-row",""],["mat-row","",3,"click"],[1,"empty-state"],["inline","true"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Ic(2,Vs,26,7,"div",2),o.Ic(3,Xs,9,0,"ng-template",null,3,o.Jc),o.Sb(),o.Sb()),2&e){const e=o.wc(4);o.Cb(2),o.lc("ngIf",t.rows.data.length)("ngIfElse",e)}},directives:[f.o,f.q,f.r,Yi.j,lc.a,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,dc.a,Ca,Ma,va,Yi.d,Za.a,Yi.a,lc.b,Ss.a,ka.a,Yi.f,Yi.h,Vi.a,qi.a],pipes:[za.a,f.d],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}"]}),e})();function Gs(e,t){if(1&e&&o.Ob(0,"app-treatment-list",2),2&e){const e=o.ec();o.lc("treatments",e.route.snapshot.data.treatments)("categories",e.route.snapshot.data.treatmentCategories)}}function Zs(e,t){if(1&e&&o.Ob(0,"app-treatments-table",2),2&e){const e=o.ec();o.lc("treatments",e.route.snapshot.data.treatments)("categories",e.route.snapshot.data.treatmentCategories)}}let el=(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatments"]],decls:4,vars:4,consts:[[3,"treatments","categories",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"treatments","categories"]],template:function(e,t){if(1&e&&(o.Ic(0,Gs,1,2,"app-treatment-list",0),o.fc(1,"async"),o.Ic(2,Zs,1,2,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,Ms,Js],pipes:[f.b],styles:[""]}),e})(),tl=(()=>{class e{constructor(e){this.category=e}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatment-category-details"]],decls:15,vars:3,consts:[["mat-dialog-content",""],["mat-line",""]],template:function(e,t){1&e&&(o.Tb(0,"mat-list",0),o.Tb(1,"h3"),o.Kc(2),o.Sb(),o.Tb(3,"mat-list-item"),o.Tb(4,"div",1),o.Tb(5,"b"),o.Kc(6,"Description"),o.Sb(),o.Sb(),o.Tb(7,"div",1),o.Kc(8),o.Sb(),o.Sb(),o.Tb(9,"mat-list-item"),o.Tb(10,"div",1),o.Tb(11,"b"),o.Kc(12,"Status"),o.Sb(),o.Sb(),o.Tb(13,"div",1),o.Kc(14),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Cb(2),o.Lc(t.category.name),o.Cb(6),o.Lc(t.category.description),o.Cb(6),o.Lc(t.category.status?"Enabled":"Disabled"))},directives:[Zi.a,Ji.e,Zi.c,ea.k],styles:["h3[_ngcontent-%COMP%]{margin:0 0 8px;padding:0 16px;font-size:20px;line-height:32px}.mat-line[_ngcontent-%COMP%]{word-break:break-all!important;white-space:normal!important}"]}),e})();function nl(e,t){1&e&&o.Pb(0)}function il(e,t){1&e&&o.Pb(0)}function al(e,t){1&e&&o.Pb(0)}function cl(e,t){1&e&&o.Pb(0)}const ol=function(e){return{$implicit:e}};function rl(e,t){if(1&e&&(o.Rb(0),o.Ic(1,cl,1,0,"ng-container",4),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(34);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,ol,e.key))}}function sl(e,t){if(1&e&&(o.Ic(0,rl,2,4,"ng-container",14),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function ll(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function dl(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function ul(e,t){1&e&&(o.Rb(0),o.Kc(1," The category already exists "),o.Qb())}function ml(e,t){1&e&&(o.Rb(0,15),o.Ic(1,ll,2,0,"ng-container",16),o.Ic(2,dl,2,0,"ng-container",16),o.Ic(3,ul,2,0,"ng-container",16),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"),o.Cb(1),o.lc("ngSwitchCase","alreadyExists"))}const bl=function(){return{$implicit:"name"}},pl=function(){return{$implicit:"description"}},hl=function(){return{$implicit:"status"}};let gl=(()=>{class e extends jc.b{constructor(e,t){super(),this.categories=e,this.dialogRef=t}ngOnInit(){this.form=this.formBuilder.group({name:[null,[Nc.q.maxLength(50),this.alreadyExists.bind(this)]],description:[null,[Nc.q.maxLength(150)]],status:[null,[Nc.q.required]]})}alreadyExists(e){if(e.dirty){const t=this.checkIfAlreadyExists(e.value);return t?{alreadyExists:t}:null}return null}checkIfAlreadyExists(e){return this.categories.some(t=>t.name===e)}onSubmit(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-add-treatment-category"]],features:[o.zb],decls:35,vars:13,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill"],["type","text","formControlName","name","matInput",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","formControlName","description","matInput",""],["appearance","fill","required",""],["formControlName","status"],[3,"value"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Add Category"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Name"),o.Sb(),o.Ob(7,"input",3),o.Tb(8,"mat-error"),o.Ic(9,nl,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(10,"mat-form-field",2),o.Tb(11,"mat-label"),o.Kc(12,"Description"),o.Sb(),o.Ob(13,"input",5),o.Tb(14,"mat-error"),o.Ic(15,il,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(16,"mat-form-field",6),o.Tb(17,"mat-label"),o.Kc(18,"Status"),o.Sb(),o.Tb(19,"mat-select",7),o.Tb(20,"mat-option",8),o.Kc(21," Enabled "),o.Sb(),o.Tb(22,"mat-option",8),o.Kc(23," Disabled "),o.Sb(),o.Sb(),o.Tb(24,"mat-error"),o.Ic(25,al,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(26,"mat-dialog-actions",9),o.Tb(27,"button",10),o.Kc(28," Cancel "),o.Sb(),o.Tb(29,"button",11),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(30," Ok "),o.Sb(),o.Sb(),o.Ic(31,sl,2,3,"ng-template",null,12,o.Jc),o.Ic(33,ml,4,4,"ng-template",null,13,o.Jc)),2&e){const e=o.wc(32);o.Cb(3),o.lc("formGroup",t.form),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(10,bl)),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(11,pl)),o.Cb(5),o.lc("value",!0),o.Cb(2),o.lc("value",!1),o.Cb(3),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(12,hl)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Nc.c,Sa.b,Nc.k,Nc.e,Ta.b,f.t,Bc.a,ea.m,Ji.c,qi.a,Ji.d,ka.a,f.n,f.q,f.r],pipes:[f.i],styles:[""]}),e})();function fl(e,t){1&e&&o.Pb(0)}function vl(e,t){1&e&&o.Pb(0)}function yl(e,t){1&e&&o.Pb(0)}function Tl(e,t){1&e&&o.Pb(0)}const Sl=function(e){return{$implicit:e}};function wl(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Tl,1,0,"ng-container",4),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(34);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,Sl,e.key))}}function Cl(e,t){if(1&e&&(o.Ic(0,wl,2,4,"ng-container",14),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function kl(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function Ol(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function Dl(e,t){1&e&&(o.Rb(0),o.Kc(1," The category already exists "),o.Qb())}function Il(e,t){1&e&&(o.Rb(0,15),o.Ic(1,kl,2,0,"ng-container",16),o.Ic(2,Ol,2,0,"ng-container",16),o.Ic(3,Dl,2,0,"ng-container",16),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"),o.Cb(1),o.lc("ngSwitchCase","alreadyExists"))}const El=function(){return{$implicit:"name"}},xl=function(){return{$implicit:"description"}},Ml=function(){return{$implicit:"status"}};let Pl=(()=>{class e extends jc.b{constructor(e,t){super(),this.data=e,this.dialogRef=t}ngOnInit(){this.form=this.formBuilder.group({name:[this.data.category.name,[Nc.q.maxLength(50),this.alreadyExists.bind(this)]],description:[this.data.category.description,[Nc.q.maxLength(150)]],status:[this.data.category.status,[Nc.q.required]]})}alreadyExists(e){if(this.data.category.name!==e.value){const t=this.checkIfAlreadyExists(e.value);return t?{alreadyExists:t}:null}return null}checkIfAlreadyExists(e){return this.data.categories.some(t=>t.name===e)}onSubmit(e){this.dialogRef.close(Object.assign(Object.assign({},this.data.category),e))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-edit-treatment-category"]],features:[o.zb],decls:35,vars:13,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill"],["type","text","formControlName","name","matInput",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","formControlName","description","matInput",""],["appearance","fill","required",""],["formControlName","status"],[3,"value"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Edit Category"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Name"),o.Sb(),o.Ob(7,"input",3),o.Tb(8,"mat-error"),o.Ic(9,fl,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(10,"mat-form-field",2),o.Tb(11,"mat-label"),o.Kc(12,"Description"),o.Sb(),o.Ob(13,"input",5),o.Tb(14,"mat-error"),o.Ic(15,vl,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Tb(16,"mat-form-field",6),o.Tb(17,"mat-label"),o.Kc(18,"Status"),o.Sb(),o.Tb(19,"mat-select",7),o.Tb(20,"mat-option",8),o.Kc(21," Enabled "),o.Sb(),o.Tb(22,"mat-option",8),o.Kc(23," Disabled "),o.Sb(),o.Sb(),o.Tb(24,"mat-error"),o.Ic(25,yl,1,0,"ng-container",4),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(26,"mat-dialog-actions",9),o.Tb(27,"button",10),o.Kc(28," Cancel "),o.Sb(),o.Tb(29,"button",11),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(30," Ok "),o.Sb(),o.Sb(),o.Ic(31,Cl,2,3,"ng-template",null,12,o.Jc),o.Ic(33,Il,4,4,"ng-template",null,13,o.Jc)),2&e){const e=o.wc(32);o.Cb(3),o.lc("formGroup",t.form),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(10,El)),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(11,xl)),o.Cb(5),o.lc("value",!0),o.Cb(2),o.lc("value",!1),o.Cb(3),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(12,Ml)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Nc.c,Sa.b,Nc.k,Nc.e,Ta.b,f.t,Bc.a,ea.m,Ji.c,qi.a,Ji.d,ka.a,f.n,f.q,f.r],pipes:[f.i],styles:[""]}),e})();function Al(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",7),o.ac("cancel",function(){return o.yc(e),o.ec().selection.clear()})("delete",function(){o.yc(e);const t=o.ec();return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec();return t.edit(t.selection.selected[0])})("view",function(){o.yc(e);const t=o.ec();return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec();o.lc("count",e.selection.selected.length)}}function Rl(e,t){1&e&&o.Ob(0,"app-toolbar",8),2&e&&o.lc("searchIcon",!1)}function Kl(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",11),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Tb(2,"div",12),o.Kc(3,"Select all"),o.Sb(),o.Ob(4,"mat-divider"),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function Nl(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",13),o.ac("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Tb(2,"div",12),o.Tb(3,"b"),o.Kc(4),o.Sb(),o.Sb(),o.Tb(5,"div",12),o.Kc(6),o.Sb(),o.Tb(7,"div",14),o.Tb(8,"mat-slide-toggle",15),o.ac("click",function(e){return e.preventDefault()})("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).toggleState(n)}),o.Sb(),o.Sb(),o.Ob(9,"mat-divider"),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e)),o.Cb(3),o.Lc(e.name),o.Cb(2),o.Lc(e.description),o.Cb(2),o.lc("checked",e.status)}}function zl(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Kl,5,2,"mat-list-item",9),o.Ic(2,Nl,10,4,"mat-list-item",10),o.Qb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngIf",e.items.length>1),o.Cb(1),o.lc("ngForOf",e.items)}}function Hl(e,t){1&e&&(o.Tb(0,"div",16),o.Tb(1,"h3"),o.Kc(2,"There are no categories"),o.Sb(),o.Sb())}let $l=(()=>{class e extends Bi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n}ngOnInit(){this.items=Object.assign([],this.categories)}toggleState(e){const t=(new m.d).deserialize(Object.assign(Object.assign({},e),{status:!e.status}));this.editResource(t).subscribe(()=>this.snackBar.open(u.s,u.n))}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.r,u.n),this.deleteCategories(e)})}edit(e){this.dialog.open(Pl,{data:{category:(new m.d).deserialize(e),categories:this.categories}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.s,u.n),this.editCategory(e)})})}add(){this.dialog.open(gl,{data:this.categories}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.q,"Cerrar"),this.addCategory(e)})})}view(e){this.dialog.open(tl,{data:e})}deleteCategories(e){this.categories=this.categories.filter(t=>!e.some(e=>e.id===t.id))}editCategory(e){this.categories=this.categories.map(t=>t.id===e.id?e:t)}addCategory(e){this.categories.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.h),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatment-category-list"]],inputs:{categories:"categories"},features:[o.zb],decls:11,vars:5,consts:[[3,"ngSwitch"],["background","accent",3,"count","cancel","delete","edit","view",4,"ngSwitchCase"],["title","Categories","background","primary",3,"searchIcon",4,"ngSwitchCase"],[1,"list-container"],[4,"ngIf","ngIfElse"],["emptyTemplate",""],["mat-fab","","color","primary",3,"click"],["background","accent",3,"count","cancel","delete","edit","view"],["title","Categories","background","primary",3,"searchIcon"],[4,"ngIf"],[4,"ngFor","ngForOf"],["matListIcon","",3,"checked","indeterminate","change"],["mat-line",""],["matListIcon","",3,"checked","change"],["mat-line-end",""],["appConfirm","",3,"checked","click","confirm"],[1,"empty-state"]],template:function(e,t){if(1&e&&(o.Rb(0,0),o.Ic(1,Al,1,1,"app-selectionbar",1),o.Ic(2,Rl,1,1,"app-toolbar",2),o.Qb(),o.Tb(3,"div",3),o.Tb(4,"mat-list"),o.Ic(5,zl,3,2,"ng-container",4),o.Sb(),o.Sb(),o.Ic(6,Hl,3,0,"ng-template",null,5,o.Jc),o.Tb(8,"button",6),o.ac("click",function(){return t.add()}),o.Tb(9,"mat-icon"),o.Kc(10,"add"),o.Sb(),o.Sb()),2&e){const e=o.wc(7);o.lc("ngSwitch",t.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(3),o.lc("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[f.q,f.r,Zi.a,f.o,qi.a,Vi.a,Ma,va,f.n,Zi.c,Za.a,Zi.b,ea.k,Na.a,Ss.a,ka.a],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}"]}),e})();function Fl(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",17),o.ac("cancel",function(){return o.yc(e),o.ec(2).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(2);return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec(2);return t.edit(t.selection.selected[0])})("view",function(){o.yc(e);const t=o.ec(2);return t.view(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("count",e.selection.selected.length)}}function Ll(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",18),o.ac("add",function(){return o.yc(e),o.ec(2).add()}),o.Sb()}2&e&&o.lc("searchIcon",!1)}function _l(e,t){if(1&e){const e=o.Ub();o.Tb(0,"th",19),o.Tb(1,"mat-checkbox",20),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function jl(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",21),o.Tb(1,"mat-checkbox",22),o.ac("click",function(e){return e.stopPropagation()})("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e))}}function Bl(e,t){1&e&&(o.Tb(0,"th",19),o.Kc(1,"Name"),o.Sb())}function Yl(e,t){if(1&e&&(o.Tb(0,"td",21),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.name," ")}}function Wl(e,t){1&e&&(o.Tb(0,"th",19),o.Kc(1,"Description"),o.Sb())}function Ul(e,t){if(1&e&&(o.Tb(0,"td",21),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.description," ")}}function ql(e,t){1&e&&(o.Tb(0,"th",19),o.Kc(1,"Status"),o.Sb())}function Ql(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",21),o.Tb(1,"mat-slide-toggle",23),o.ac("click",function(e){return e.preventDefault()})("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec(2).toggleState(n)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit;o.Cb(1),o.lc("checked",e.status)}}function Vl(e,t){1&e&&o.Ob(0,"tr",24)}function Xl(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",25),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec(2).selection.toggle(n)}),o.Sb()}}function Jl(e,t){if(1&e&&(o.Tb(0,"div",4),o.Rb(1,5),o.Ic(2,Fl,1,1,"app-selectionbar",6),o.Ic(3,Ll,1,1,"app-toolbar",7),o.Qb(),o.Tb(4,"table",8),o.Rb(5,9),o.Ic(6,_l,2,2,"th",10),o.Ic(7,jl,2,1,"td",11),o.Qb(),o.Rb(8,12),o.Ic(9,Bl,2,0,"th",10),o.Ic(10,Yl,2,1,"td",11),o.Qb(),o.Rb(11,13),o.Ic(12,Wl,2,0,"th",10),o.Ic(13,Ul,2,1,"td",11),o.Qb(),o.Rb(14,14),o.Ic(15,ql,2,0,"th",10),o.Ic(16,Ql,2,1,"td",11),o.Qb(),o.Ic(17,Vl,1,0,"tr",15),o.Ic(18,Xl,1,0,"tr",16),o.Sb(),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(1),o.lc("dataSource",e.rows),o.Cb(13),o.lc("matHeaderRowDef",e.columns),o.Cb(1),o.lc("matRowDefColumns",e.columns)}}function Gl(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",26),o.Tb(1,"mat-icon",27),o.Kc(2,"category"),o.Sb(),o.Tb(3,"h3"),o.Kc(4,"There are no categories"),o.Sb(),o.Tb(5,"p"),o.Kc(6,"You can add one and then view it here."),o.Sb(),o.Tb(7,"button",28),o.ac("click",function(){return o.yc(e),o.ec().add()}),o.Kc(8," Add Category "),o.Sb(),o.Sb()}}let Zl=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n,this.columns=["select","name","description","status"]}ngOnInit(){this.rows.data=Object.assign([],this.categories)}toggleState(e){const t=(new m.d).deserialize(Object.assign(Object.assign({},e),{status:!e.status}));this.editResource(t).subscribe(()=>{this.snackBar.open(u.s,u.n)})}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.r,u.n),this.deleteCategories(e)})}edit(e){this.dialog.open(Pl,{width:"350px",data:{category:(new m.d).deserialize(e),categories:this.categories}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.s,u.n),this.editCategory(e)})})}add(){this.dialog.open(gl,{width:"350px",data:this.categories}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.q,u.n),this.addCategory(e)})})}view(e){this.dialog.open(tl,{width:"350px",data:e})}deleteCategories(e){this.categories=this.categories.filter(t=>!e.some(e=>e.id===t.id))}editCategory(e){this.categories=this.categories.map(t=>t.id===e.id?e:t)}addCategory(e){this.categories.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.h),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatment-categories-table"]],inputs:{categories:"categories"},features:[o.zb],decls:5,vars:2,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"mat-elevation-z8"],[3,"ngSwitch"],["background","accent",3,"count","cancel","delete","edit","view",4,"ngSwitchCase"],["title","Categories","background","primary",3,"searchIcon","add",4,"ngSwitchCase"],["mat-table","",1,"selectable",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["background","accent",3,"count","cancel","delete","edit","view"],["title","Categories","background","primary",3,"searchIcon","add"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["appConfirm","",3,"checked","click","confirm"],["mat-header-row",""],["mat-row","",3,"click"],[1,"empty-state"],["inline","true"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Ic(2,Jl,19,6,"div",2),o.Ic(3,Gl,9,0,"ng-template",null,3,o.Jc),o.Sb(),o.Sb()),2&e){const e=o.wc(4);o.Cb(2),o.lc("ngIf",t.rows.data.length)("ngIfElse",e)}},directives:[f.o,f.q,f.r,Yi.j,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,Ma,va,Yi.d,Za.a,Yi.a,Ss.a,ka.a,Yi.f,Yi.h,Vi.a,qi.a],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}.mat-column-status[_ngcontent-%COMP%]{text-align:center!important}"]}),e})();function ed(e,t){if(1&e&&o.Ob(0,"app-treatment-category-list",2),2&e){const e=o.ec();o.lc("categories",e.route.snapshot.data.treatmentCategories)}}function td(e,t){if(1&e&&o.Ob(0,"app-treatment-categories-table",2),2&e){const e=o.ec();o.lc("categories",e.route.snapshot.data.treatmentCategories)}}let nd=(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-treatment-categories"]],decls:4,vars:4,consts:[[3,"categories",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"categories"]],template:function(e,t){if(1&e&&(o.Ic(0,ed,1,1,"app-treatment-category-list",0),o.fc(1,"async"),o.Ic(2,td,1,1,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,$l,Zl],pipes:[f.b],styles:[""]}),e})();var id=n("1TFm");function ad(e,t){if(1&e&&(o.Tb(0,"mat-option",8),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.format("h:mm A")," ")}}function cd(e,t){1&e&&o.Pb(0)}function od(e,t){if(1&e&&(o.Tb(0,"mat-option",8),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.format("h:mm A")," ")}}function rd(e,t){1&e&&o.Pb(0)}function sd(e,t){1&e&&o.Pb(0)}function ld(e,t){1&e&&o.Pb(0)}const dd=function(e){return{$implicit:e}};function ud(e,t){if(1&e&&(o.Rb(0),o.Ic(1,ld,1,0,"ng-container",5),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(36);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,dd,e.key))}}function md(e,t){if(1&e&&(o.Ic(0,ud,2,4,"ng-container",14),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function bd(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function pd(e,t){1&e&&(o.Rb(0,15),o.Ic(1,bd,2,0,"ng-container",16),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"))}const hd=function(){return{$implicit:"openingHour"}},gd=function(){return{$implicit:"closingHour"}},fd=function(){return{$implicit:"status"}},vd=Object(id.extendMoment)(i);let yd=(()=>{class e extends jc.b{constructor(e,t){super({openingHour:[e.openingHour,[Nc.q.required]],closingHour:[e.closingHour,[Nc.q.required]],status:[e.status,[Nc.q.required]]}),this.workingDay=e,this.dialogRef=t}ngOnInit(){this.dayTimes=this.getDayTimes(15)}getDayTimes(e){const t=i().tz(u.o).startOf("day"),n=i().tz(u.o).endOf("day"),a=vd.range(t,n);return Array.from(a.by("minutes",{step:e}))}compareFn(e,t){return e.isSame(t)}prepare(e){return Object.assign(this.workingDay,{weekDayId:this.workingDay.weekDayId,openingHour:e.openingHour,closingHour:e.closingHour,status:e.status})}onSubmit(e){const t=this.prepare(e);this.dialogRef.close(t)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-edit-working-day"]],features:[o.zb],decls:37,vars:17,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["formControlName","openingHour",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","closingHour",3,"compareWith"],["formControlName","status"],[3,"value"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Edit working day"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Opening(hour)"),o.Sb(),o.Tb(7,"mat-select",3),o.Ic(8,ad,2,2,"mat-option",4),o.Sb(),o.Tb(9,"mat-error"),o.Ic(10,cd,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(11,"mat-form-field",2),o.Tb(12,"mat-label"),o.Kc(13,"Closing(hour)"),o.Sb(),o.Tb(14,"mat-select",6),o.Ic(15,od,2,2,"mat-option",4),o.Sb(),o.Tb(16,"mat-error"),o.Ic(17,rd,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(18,"mat-form-field",2),o.Tb(19,"mat-label"),o.Kc(20,"Status"),o.Sb(),o.Tb(21,"mat-select",7),o.Tb(22,"mat-option",8),o.Kc(23," Enabled "),o.Sb(),o.Tb(24,"mat-option",8),o.Kc(25," Disabled "),o.Sb(),o.Sb(),o.Tb(26,"mat-error"),o.Ic(27,sd,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(28,"mat-dialog-actions",9),o.Tb(29,"button",10),o.Kc(30," Cancel "),o.Sb(),o.Tb(31,"button",11),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(32," Ok "),o.Sb(),o.Sb(),o.Ic(33,md,2,3,"ng-template",null,12,o.Jc),o.Ic(35,pd,2,2,"ng-template",null,13,o.Jc)),2&e){const e=o.wc(34);o.Cb(3),o.lc("formGroup",t.form),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.dayTimes),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(14,hd)),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.dayTimes),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(15,gd)),o.Cb(5),o.lc("value",!0),o.Cb(2),o.lc("value",!1),o.Cb(3),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(16,fd)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Bc.a,Nc.k,Nc.e,f.n,Ta.b,f.t,ea.m,Ji.c,qi.a,Ji.d,ka.a,f.q,f.r],pipes:[f.i],styles:[""]}),e})();function Td(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item",3),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec().edit(n)}),o.Tb(1,"div",4),o.Tb(2,"b"),o.Kc(3),o.fc(4,"titlecase"),o.Sb(),o.Sb(),o.Tb(5,"div",4),o.Kc(6),o.Sb(),o.Tb(7,"div",4),o.Tb(8,"small"),o.Kc(9),o.Sb(),o.Sb(),o.Ob(10,"mat-divider"),o.Sb()}if(2&e){const e=t.$implicit;o.Cb(3),o.Lc(o.gc(4,4,e.getDayName())),o.Cb(3),o.Nc("",e.openingHour.format("h:mm A")," - ",e.closingHour.format("h:mm A"),""),o.Cb(3),o.Lc(e.status?"Working day":"Rest day")}}let Sd=(()=>{class e extends Bi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n}ngOnInit(){this.items=Object.assign([],this.workingDays)}edit(e){this.dialog.open(yd,{data:(new m.f).deserialize(e)}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(()=>{this.snackBar.open(u.z,u.n)})})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.k),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-working-day-list"]],inputs:{workingDays:"workingDays"},features:[o.zb],decls:4,vars:3,consts:[["title","Working days","background","primary",3,"searchIcon","addIcon"],[1,"list-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["mat-line",""]],template:function(e,t){1&e&&(o.Ob(0,"app-toolbar",0),o.Tb(1,"div",1),o.Tb(2,"mat-action-list"),o.Ic(3,Td,11,6,"mat-list-item",2),o.Sb(),o.Sb()),2&e&&(o.lc("searchIcon",!1)("addIcon",!1),o.Cb(3),o.lc("ngForOf",t.items))},directives:[va,Zi.a,f.n,Zi.c,ea.k,Na.a],pipes:[f.x],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}"]}),e})();function wd(e,t){1&e&&(o.Tb(0,"th",13),o.Kc(1,"Day"),o.Sb())}function Cd(e,t){if(1&e&&(o.Tb(0,"td",14),o.Kc(1),o.fc(2,"titlecase"),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",o.gc(2,1,e.getDayName())," ")}}function kd(e,t){1&e&&(o.Tb(0,"th",13),o.Kc(1,"Opening(hour)"),o.Sb())}function Od(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-option",18),o.ac("confirm",function(){o.yc(e);const n=t.$implicit,i=o.ec().$implicit;return o.ec().changeOpeningHour(i,n)}),o.Kc(1),o.Sb()}if(2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.format("h:mm A")," ")}}function Dd(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",14),o.Tb(1,"mat-select",15,16),o.ac("selectionChange",function(){o.yc(e);const n=t.$implicit;return o.wc(2).value=n.openingHour}),o.Ic(3,Od,2,2,"mat-option",17),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec();o.Cb(1),o.lc("value",e.openingHour)("compareWith",n.compareFn),o.Cb(2),o.lc("ngForOf",n.dayTimes)}}function Id(e,t){1&e&&(o.Tb(0,"th",13),o.Kc(1,"Closing(Hour)"),o.Sb())}function Ed(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-option",18),o.ac("confirm",function(){o.yc(e);const n=t.$implicit,i=o.ec().$implicit;return o.ec().changeClosingHour(i,n)}),o.Kc(1),o.Sb()}if(2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",e.format("h:mm A")," ")}}function xd(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",14),o.Tb(1,"mat-select",15,19),o.ac("selectionChange",function(){o.yc(e);const n=t.$implicit;return o.wc(2).value=n.closingHour}),o.Ic(3,Ed,2,2,"mat-option",17),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec();o.Cb(1),o.lc("value",e.closingHour)("compareWith",n.compareFn),o.Cb(2),o.lc("ngForOf",n.dayTimes)}}function Md(e,t){1&e&&(o.Tb(0,"th",13),o.Kc(1,"Status"),o.Sb())}function Pd(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",14),o.Tb(1,"mat-slide-toggle",20),o.ac("click",function(e){return e.preventDefault()})("confirm",function(){o.yc(e);const n=t.$implicit;return o.ec().toggleState(n)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit;o.Cb(1),o.lc("checked",e.status)}}function Ad(e,t){1&e&&o.Ob(0,"tr",21)}function Rd(e,t){1&e&&o.Ob(0,"tr",22)}const Kd=Object(id.extendMoment)(i);let Nd=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n,this.columns=["day","openingHour","closingHour","status"]}ngOnInit(){this.rows.data=Object.assign([],this.workingDays),this.dayTimes=this.getDayTimes(15)}getDayTimes(e){const t=i().tz(u.o).startOf("day"),n=i().tz(u.o).endOf("day"),a=Kd.range(t,n);return Array.from(a.by("minutes",{step:e}))}compareFn(e,t){return e.isSame(t)}toggleState(e){const t=(new m.f).deserialize(Object.assign(Object.assign({},e),{status:!e.status}));this.editResource(t).subscribe(()=>{this.snackBar.open(u.z,u.n)})}changeOpeningHour(e,t){const n=(new m.f).deserialize(Object.assign(Object.assign({},e),{openingHour:t}));this.editResource(n).subscribe(()=>{this.snackBar.open(u.z,u.n)})}changeClosingHour(e,t){const n=(new m.f).deserialize(Object.assign(Object.assign({},e),{closingHour:t}));this.editResource(n).subscribe(()=>{this.snackBar.open(u.z,u.n)})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.k),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-working-days-table"]],inputs:{workingDays:"workingDays"},features:[o.zb],decls:19,vars:5,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],[1,"mat-elevation-z8"],["title","Working days","background","primary",3,"searchIcon","addIcon"],["mat-table","",3,"dataSource"],["matColumnDef","day"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","openingHour"],["matColumnDef","closingHour"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"value","compareWith","selectionChange"],["openingHour",""],["appConfirm","",3,"value","confirm",4,"ngFor","ngForOf"],["appConfirm","",3,"value","confirm"],["closingHour",""],["appConfirm","",3,"checked","click","confirm"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Ob(3,"app-toolbar",3),o.Tb(4,"table",4),o.Rb(5,5),o.Ic(6,wd,2,0,"th",6),o.Ic(7,Cd,3,3,"td",7),o.Qb(),o.Rb(8,8),o.Ic(9,kd,2,0,"th",6),o.Ic(10,Dd,4,3,"td",7),o.Qb(),o.Rb(11,9),o.Ic(12,Id,2,0,"th",6),o.Ic(13,xd,4,3,"td",7),o.Qb(),o.Rb(14,10),o.Ic(15,Md,2,0,"th",6),o.Ic(16,Pd,2,1,"td",7),o.Qb(),o.Ic(17,Ad,1,0,"tr",11),o.Ic(18,Rd,1,0,"tr",12),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Cb(3),o.lc("searchIcon",!1)("addIcon",!1),o.Cb(1),o.lc("dataSource",t.rows),o.Cb(13),o.lc("matHeaderRowDef",t.columns),o.Cb(1),o.lc("matRowDefColumns",t.columns))},directives:[va,Yi.j,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,Yi.d,Yi.a,Bc.a,f.n,ea.m,ka.a,Ss.a,Yi.f,Yi.h],pipes:[f.x],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}mat-select[_ngcontent-%COMP%]{width:auto}mat-select[_ngcontent-%COMP%]     .mat-select-trigger{display:flex;flex-direction:row-reverse;align-items:center}mat-select[_ngcontent-%COMP%]     .mat-select-value{max-width:none}"]}),e})();function zd(e,t){if(1&e&&o.Ob(0,"app-working-day-list",2),2&e){const e=o.ec();o.lc("workingDays",e.route.snapshot.data.workingDays)}}function Hd(e,t){if(1&e&&o.Ob(0,"app-working-days-table",2),2&e){const e=o.ec();o.lc("workingDays",e.route.snapshot.data.workingDays)}}let $d=(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-working-days"]],decls:4,vars:4,consts:[[3,"workingDays",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"workingDays"]],template:function(e,t){if(1&e&&(o.Ic(0,zd,1,1,"app-working-day-list",0),o.fc(1,"async"),o.Ic(2,Hd,1,1,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,Sd,Nd],pipes:[f.b],styles:[""]}),e})();function Fd(e,t){if(1&e&&(o.Tb(0,"mat-option",16),o.Kc(1),o.fc(2,"titlecase"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",o.gc(2,2,e.getDayName())," ")}}function Ld(e,t){1&e&&o.Pb(0)}function _d(e,t){if(1&e&&(o.Tb(0,"mat-option",17),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("disabled",e.available)("value",e.hour),o.Cb(1),o.Mc(" ",e.hour.format("h:mm A")," ")}}function jd(e,t){1&e&&o.Pb(0)}function Bd(e,t){if(1&e&&(o.Tb(0,"mat-option",17),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("disabled",e.available)("value",e.hour),o.Cb(1),o.Mc(" ",e.hour.format("h:mm A")," ")}}function Yd(e,t){1&e&&o.Pb(0)}function Wd(e,t){1&e&&o.Pb(0)}function Ud(e,t){1&e&&o.Pb(0)}const qd=function(e){return{$implicit:e}};function Qd(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Ud,1,0,"ng-container",5),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(39);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,qd,e.key))}}function Vd(e,t){if(1&e&&(o.Ic(0,Qd,2,4,"ng-container",18),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function Xd(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function Jd(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function Gd(e,t){1&e&&(o.Rb(0,19),o.Ic(1,Xd,2,0,"ng-container",20),o.Ic(2,Jd,2,0,"ng-container",20),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"))}const Zd=function(){return{$implicit:"workingDay"}},eu=function(){return{$implicit:"startTime"}},tu=function(){return{$implicit:"endTime"}},nu=function(){return{$implicit:"reason"}};let iu=(()=>{class e extends jc.b{constructor(e,t){super({workingDay:[null,[Nc.q.required]],startTime:[null,[Nc.q.required]],endTime:[null,[Nc.q.required]],reason:[null,[Nc.q.maxLength(150)]]}),this.data=e,this.dialogRef=t}ngOnInit(){this.form.controls.workingDay.valueChanges.subscribe(e=>{this.workingHours=e.workingHours.map(t=>({hour:t,available:this.checkAvailability(t,e.weekDayId)}))})}checkAvailability(e,t){return this.data.breakTimes.some(n=>{const i=n.hours.contains(e);return n.workingDay.weekDayId===t&&i})}onSubmit(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-add-break-time"]],features:[o.zb],decls:40,vars:17,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["formControlName","workingDay"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","startTime"],[3,"disabled","value",4,"ngFor","ngForOf"],["formControlName","endTime"],["appearance","fill"],["type","text","formControlName","reason","matInput",""],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[3,"value"],[3,"disabled","value"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Add break time"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Day"),o.Sb(),o.Tb(7,"mat-select",3),o.Ic(8,Fd,3,4,"mat-option",4),o.Sb(),o.Tb(9,"mat-error"),o.Ic(10,Ld,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(11,"mat-form-field",2),o.Tb(12,"mat-label"),o.Kc(13,"Start"),o.Sb(),o.Tb(14,"mat-select",6),o.Ic(15,_d,2,3,"mat-option",7),o.Sb(),o.Tb(16,"mat-error"),o.Ic(17,jd,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(18,"mat-form-field",2),o.Tb(19,"mat-label"),o.Kc(20,"End"),o.Sb(),o.Tb(21,"mat-select",8),o.Ic(22,Bd,2,3,"mat-option",7),o.Sb(),o.Tb(23,"mat-error"),o.Ic(24,Yd,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(25,"mat-form-field",9),o.Tb(26,"mat-label"),o.Kc(27,"Description"),o.Sb(),o.Ob(28,"input",10),o.Tb(29,"mat-error"),o.Ic(30,Wd,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(31,"mat-dialog-actions",11),o.Tb(32,"button",12),o.Kc(33," Cancel "),o.Sb(),o.Tb(34,"button",13),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(35," Ok "),o.Sb(),o.Sb(),o.Ic(36,Vd,2,3,"ng-template",null,14,o.Jc),o.Ic(38,Gd,3,3,"ng-template",null,15,o.Jc)),2&e){const e=o.wc(37);o.Cb(3),o.lc("formGroup",t.form),o.Cb(5),o.lc("ngForOf",t.data.workingDays),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(13,Zd)),o.Cb(5),o.lc("ngForOf",t.workingHours),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(14,eu)),o.Cb(5),o.lc("ngForOf",t.workingHours),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(15,tu)),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(16,nu)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Bc.a,Nc.k,Nc.e,f.n,Ta.b,f.t,Nc.c,Sa.b,Ji.c,qi.a,Ji.d,ka.a,ea.m,f.q,f.r],pipes:[f.x,f.i],styles:[""]}),e})();function au(e,t){if(1&e&&(o.Tb(0,"mat-option",16),o.Kc(1),o.fc(2,"titlecase"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(1),o.Mc(" ",o.gc(2,2,e.getDayName())," ")}}function cu(e,t){1&e&&o.Pb(0)}function ou(e,t){if(1&e&&(o.Tb(0,"mat-option",17),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e.hour)("disabled",e.available),o.Cb(1),o.Mc(" ",e.hour.format("h:mm A")," ")}}function ru(e,t){1&e&&o.Pb(0)}function su(e,t){if(1&e&&(o.Tb(0,"mat-option",17),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e.hour)("disabled",e.available),o.Cb(1),o.Mc(" ",e.hour.format("h:mm A")," ")}}function lu(e,t){1&e&&o.Pb(0)}function du(e,t){1&e&&o.Pb(0)}function uu(e,t){1&e&&o.Pb(0)}const mu=function(e){return{$implicit:e}};function bu(e,t){if(1&e&&(o.Rb(0),o.Ic(1,uu,1,0,"ng-container",5),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(39);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,mu,e.key))}}function pu(e,t){if(1&e&&(o.Ic(0,bu,2,4,"ng-container",18),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function hu(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function gu(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function fu(e,t){1&e&&(o.Rb(0,19),o.Ic(1,hu,2,0,"ng-container",20),o.Ic(2,gu,2,0,"ng-container",20),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"))}const vu=function(){return{$implicit:"workingDay"}},yu=function(){return{$implicit:"startTime"}},Tu=function(){return{$implicit:"endTime"}},Su=function(){return{$implicit:"reason"}};let wu=(()=>{class e extends jc.b{constructor(e,t){super({workingDay:[e.breakTime.workingDay,[Nc.q.required]],startTime:[e.breakTime.startTime,[Nc.q.required]],endTime:[e.breakTime.endTime,[Nc.q.required]],reason:[e.breakTime.reason,[Nc.q.maxLength(150)]]}),this.data=e,this.dialogRef=t}ngOnInit(){this.workingHours=this.getWorkingHours(this.form.controls.workingDay.value),this.form.controls.workingDay.valueChanges.subscribe(e=>{this.workingHours=this.getWorkingHours(e)})}getWorkingHours(e){return e.workingHours.map(t=>({hour:t,available:this.checkAvailability(t,e.weekDayId)}))}checkAvailability(e,t){return!this.isInRange(e,t)&&this.data.breakTimes.some(n=>{const i=n.hours.contains(e);return n.workingDay.weekDayId===t&&i})}isInRange(e,t){const n=this.data.breakTime.hours.contains(e);return this.data.breakTime.workingDay.weekDayId===t&&n}compareFn(e,t){return e instanceof fo?(e=e).isSame(t=t):e instanceof Gi.f&&(e=e).id===(t=t).id}onSubmit(e){this.dialogRef.close(Object.assign(Object.assign({},this.data.breakTime),e))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-edit-break-time"]],features:[o.zb],decls:40,vars:20,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required",""],["formControlName","workingDay",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formControlName","startTime",3,"compareWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["formControlName","endTime",3,"compareWith"],["appearance","fill"],["type","text","formControlName","reason","matInput",""],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[3,"value"],[3,"value","disabled"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(o.Tb(0,"h3",0),o.Kc(1,"Edit time"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Day"),o.Sb(),o.Tb(7,"mat-select",3),o.Ic(8,au,3,4,"mat-option",4),o.Sb(),o.Tb(9,"mat-error"),o.Ic(10,cu,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(11,"mat-form-field",2),o.Tb(12,"mat-label"),o.Kc(13,"Start"),o.Sb(),o.Tb(14,"mat-select",6),o.Ic(15,ou,2,3,"mat-option",7),o.Sb(),o.Tb(16,"mat-error"),o.Ic(17,ru,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(18,"mat-form-field",2),o.Tb(19,"mat-label"),o.Kc(20,"End"),o.Sb(),o.Tb(21,"mat-select",8),o.Ic(22,su,2,3,"mat-option",7),o.Sb(),o.Tb(23,"mat-error"),o.Ic(24,lu,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Tb(25,"mat-form-field",9),o.Tb(26,"mat-label"),o.Kc(27,"Description"),o.Sb(),o.Ob(28,"input",10),o.Tb(29,"mat-error"),o.Ic(30,du,1,0,"ng-container",5),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(31,"mat-dialog-actions",11),o.Tb(32,"button",12),o.Kc(33," Cancel "),o.Sb(),o.Tb(34,"button",13),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(35," Ok "),o.Sb(),o.Sb(),o.Ic(36,pu,2,3,"ng-template",null,14,o.Jc),o.Ic(38,fu,3,3,"ng-template",null,15,o.Jc)),2&e){const e=o.wc(37);o.Cb(3),o.lc("formGroup",t.form),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.data.workingDays),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(16,vu)),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.workingHours),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(17,yu)),o.Cb(4),o.lc("compareWith",t.compareFn),o.Cb(1),o.lc("ngForOf",t.workingHours),o.Cb(2),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(18,Tu)),o.Cb(6),o.lc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.mc(19,Su)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Bc.a,Nc.k,Nc.e,f.n,Ta.b,f.t,Nc.c,Sa.b,Ji.c,qi.a,Ji.d,ka.a,ea.m,f.q,f.r],pipes:[f.x,f.i],styles:[""]}),e})();function Cu(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",8),o.ac("cancel",function(){return o.yc(e),o.ec().selection.clear()})("delete",function(){o.yc(e);const t=o.ec();return t.delete(t.selectedValues)})("edit",function(){o.yc(e);const t=o.ec();return t.edit(t.selectedValue)}),o.Sb()}if(2&e){const e=o.ec();o.lc("viewIcon",!1)("count",e.selection.selected.length)}}function ku(e,t){1&e&&o.Ob(0,"app-toolbar",9),2&e&&o.lc("searchIcon",!1)}function Ou(e,t){if(1&e&&(o.Tb(0,"mat-list-option",13),o.Tb(1,"div",14),o.Tb(2,"b"),o.Kc(3),o.Sb(),o.Sb(),o.Tb(4,"div",14),o.Kc(5),o.Sb(),o.Ob(6,"mat-divider"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(3),o.Lc(e.reason),o.Cb(2),o.Nc("",e.startTime.format("h:mm A")," - ",e.endTime.format("h:mm A"),"")}}function Du(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Ou,7,4,"mat-list-option",12),o.Qb()),2&e){const e=o.ec(2);o.Cb(1),o.lc("ngForOf",e.items)}}function Iu(e,t){if(1&e&&(o.Tb(0,"mat-tab",10),o.fc(1,"titlecase"),o.Ic(2,Du,2,1,"ng-container",11),o.Sb()),2&e){const e=t.$implicit,n=o.ec(),i=o.wc(8);o.lc("disabled",!e.status)("label",o.gc(1,4,e.getDayName())),o.Cb(2),o.lc("ngIf",n.items.length>0)("ngIfElse",i)}}function Eu(e,t){1&e&&(o.Tb(0,"div",15),o.Tb(1,"h3"),o.Kc(2,"There are no break times"),o.Sb(),o.Sb())}let xu=(()=>{class e extends Bi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n}ngOnInit(){this.items=this.breakTimes,this.indexChange$=new E.a(this.initialIndex),this.indexChange$.subscribe(e=>{this.currentIndex=e,this.items=this.filterByIndex(e)})}ngAfterViewInit(){this.selection=this.selectionList.selectedOptions}get initialIndex(){return this.workingDays.findIndex(e=>!0===e.status)}filterByIndex(e){return this.breakTimes.filter(t=>e===t.workingDay.weekDayId)}get selectedValue(){return this.selection.selected[0].value}get selectedValues(){return this.selection.selected.map(e=>e.value)}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.f,u.n),this.deleteBreakTimes(e),this.refreshIndex()})}edit(e){this.dialog.open(wu,{data:{breakTime:(new m.b).deserialize(e),breakTimes:this.breakTimes,workingDays:this.workingDays}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.g,u.n),this.editBreakTime(e),this.refreshIndex()})})}add(){this.dialog.open(iu,{data:{breakTimes:this.breakTimes,workingDays:this.workingDays}}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.e,u.n),this.addBreakTime(e),this.refreshIndex()})})}deleteBreakTimes(e){this.breakTimes=this.breakTimes.filter(t=>!e.some(e=>e.id===t.id))}editBreakTime(e){this.breakTimes=this.breakTimes.map(t=>t.id===e.id?e:t)}addBreakTime(e){this.breakTimes.unshift(e)}refreshIndex(){this.indexChange$.next(this.currentIndex)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.c),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-break-time-list"]],viewQuery:function(e,t){if(1&e&&o.Ec(Zi.h,!0),2&e){let e;o.vc(e=o.bc())&&(t.selectionList=e.first)}},inputs:{workingDays:"workingDays",breakTimes:"breakTimes"},features:[o.zb],decls:12,vars:6,consts:[[3,"ngSwitch"],["background","accent",3,"viewIcon","count","cancel","delete","edit",4,"ngSwitchCase"],["title","Break times",3,"searchIcon",4,"ngSwitchCase"],[1,"list-container"],["mat-align-tabs","center","color","accent","backgroundColor","primary",3,"animationDuration","selectedIndex","selectedIndexChange"],[3,"disabled","label",4,"ngFor","ngForOf"],["emptyTemplate",""],["mat-fab","","color","primary",3,"click"],["background","accent",3,"viewIcon","count","cancel","delete","edit"],["title","Break times",3,"searchIcon"],[3,"disabled","label"],[4,"ngIf","ngIfElse"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-line",""],[1,"empty-state",2,"background-color","#e0e0e0"]],template:function(e,t){1&e&&(o.Rb(0,0),o.Ic(1,Cu,1,2,"app-selectionbar",1),o.Ic(2,ku,1,1,"app-toolbar",2),o.Qb(),o.Tb(3,"div",3),o.Tb(4,"mat-selection-list"),o.Tb(5,"mat-tab-group",4),o.ac("selectedIndexChange",function(e){return t.indexChange$.next(e)}),o.Ic(6,Iu,3,6,"mat-tab",5),o.Sb(),o.Sb(),o.Sb(),o.Ic(7,Eu,3,0,"ng-template",null,6,o.Jc),o.Tb(9,"button",7),o.ac("click",function(){return t.add()}),o.Tb(10,"mat-icon"),o.Kc(11,"add"),o.Sb(),o.Sb()),2&e&&(o.lc("ngSwitch",t.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(3),o.lc("animationDuration",0)("selectedIndex",t.currentIndex),o.Cb(1),o.lc("ngForOf",t.workingDays))},directives:[f.q,f.r,Zi.h,Fo.b,f.n,qi.a,Vi.a,Ma,va,Fo.a,f.o,Zi.e,ea.k,Na.a],pipes:[f.x],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}"]}),e})();function Mu(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",20),o.ac("cancel",function(){return o.yc(e),o.ec(2).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(2);return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec(2);return t.edit(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("viewIcon",!1)("count",e.selection.selected.length)}}function Pu(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",21),o.ac("add",function(){return o.yc(e),o.ec(2).add()}),o.Sb()}2&e&&o.lc("searchIcon",!1)}function Au(e,t){if(1&e){const e=o.Ub();o.Tb(0,"th",22),o.Tb(1,"mat-checkbox",23),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function Ru(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",24),o.Tb(1,"mat-checkbox",25),o.ac("click",function(e){return e.stopPropagation()})("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e))}}function Ku(e,t){1&e&&(o.Tb(0,"th",26),o.Kc(1,"Day"),o.Sb())}function Nu(e,t){if(1&e&&(o.Tb(0,"td",24),o.Kc(1),o.fc(2,"titlecase"),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",o.gc(2,1,e.workingDay.getDayName())," ")}}function zu(e,t){1&e&&(o.Tb(0,"th",26),o.Kc(1,"Starting(hour)"),o.Sb())}function Hu(e,t){if(1&e&&(o.Tb(0,"td",24),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.startTime.format("h:mm A")," ")}}function $u(e,t){1&e&&(o.Tb(0,"th",26),o.Kc(1,"Ending(hour)"),o.Sb())}function Fu(e,t){if(1&e&&(o.Tb(0,"td",24),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.endTime.format("h:mm A")," ")}}function Lu(e,t){1&e&&(o.Tb(0,"th",26),o.Kc(1,"Description"),o.Sb())}function _u(e,t){if(1&e&&(o.Tb(0,"td",24),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.reason," ")}}function ju(e,t){1&e&&o.Ob(0,"tr",27)}function Bu(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",28),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec(2).selection.toggle(n)}),o.Sb()}}function Yu(e,t){if(1&e&&(o.Tb(0,"div",4),o.Rb(1,5),o.Ic(2,Mu,1,2,"app-selectionbar",6),o.Ic(3,Pu,1,1,"app-toolbar",7),o.Qb(),o.Tb(4,"table",8),o.Rb(5,9),o.Ic(6,Au,2,2,"th",10),o.Ic(7,Ru,2,1,"td",11),o.Qb(),o.Rb(8,12),o.Ic(9,Ku,2,0,"th",13),o.Ic(10,Nu,3,3,"td",11),o.Qb(),o.Rb(11,14),o.Ic(12,zu,2,0,"th",13),o.Ic(13,Hu,2,1,"td",11),o.Qb(),o.Rb(14,15),o.Ic(15,$u,2,0,"th",13),o.Ic(16,Fu,2,1,"td",11),o.Qb(),o.Rb(17,16),o.Ic(18,Lu,2,0,"th",13),o.Ic(19,_u,2,1,"td",11),o.Qb(),o.Ic(20,ju,1,0,"tr",17),o.Ic(21,Bu,1,0,"tr",18),o.Sb(),o.Ob(22,"mat-paginator",19),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(1),o.lc("dataSource",e.rows),o.Cb(16),o.lc("matHeaderRowDef",e.columns),o.Cb(1),o.lc("matRowDefColumns",e.columns),o.Cb(1),o.lc("pageSize",10)}}function Wu(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",29),o.Tb(1,"mat-icon",30),o.Kc(2,"schedule"),o.Sb(),o.Tb(3,"h3"),o.Kc(4,"There are no break times"),o.Sb(),o.Tb(5,"p"),o.Kc(6,"You can add one and then view it here."),o.Sb(),o.Tb(7,"button",31),o.ac("click",function(){return o.yc(e),o.ec().add()}),o.Kc(8," Add Break Time "),o.Sb(),o.Sb()}}let Uu=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n,this.columns=["select","workingDay","startTime","endTime","reason"]}ngOnInit(){this.rows.data=this.breakTimes}ngAfterViewInit(){this.rows.paginator=this.paginator,this.rows.sort=this.sort,this.rows.sortingDataAccessor=this.sortingDataAccessor}sortingDataAccessor(e,t){return"workingDay"==t?e[t].weekDayId:e[t]}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.f,u.n),this.deleteBreakTimes(e)})}edit(e){this.dialog.open(wu,{width:"350px",data:{breakTime:(new m.b).deserialize(e),breakTimes:this.breakTimes,workingDays:this.workingDays}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.g,u.n),this.editBreakTime(e)})})}add(){this.dialog.open(iu,{width:"350px",data:{breakTimes:this.breakTimes,workingDays:this.workingDays}}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.e,u.n),this.addBreakTime(e)})})}deleteBreakTimes(e){this.breakTimes=this.breakTimes.filter(t=>!e.some(e=>e.id===t.id))}editBreakTime(e){this.breakTimes=this.breakTimes.map(t=>t.id===e.id?e:t)}addBreakTime(e){this.breakTimes.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.c),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-break-times-table"]],viewQuery:function(e,t){if(1&e&&(o.Ec(lc.a,!0),o.Ec(dc.a,!0)),2&e){let e;o.vc(e=o.bc())&&(t.sort=e.first),o.vc(e=o.bc())&&(t.paginator=e.first)}},inputs:{workingDays:"workingDays",breakTimes:"breakTimes"},features:[o.zb],decls:5,vars:2,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"mat-elevation-z8"],[3,"ngSwitch"],["background","accent",3,"viewIcon","count","cancel","delete","edit",4,"ngSwitchCase"],["title","Break times","background","primary",3,"searchIcon","add",4,"ngSwitchCase"],["mat-table","","matSort","",1,"selectable",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","workingDay"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","startTime"],["matColumnDef","endTime"],["matColumnDef","reason"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["hidePageSize","","showFirstLastButtons","",3,"pageSize"],["background","accent",3,"viewIcon","count","cancel","delete","edit"],["title","Break times","background","primary",3,"searchIcon","add"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"empty-state"],["inline","true"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Ic(2,Yu,23,7,"div",2),o.Ic(3,Wu,9,0,"ng-template",null,3,o.Jc),o.Sb(),o.Sb()),2&e){const e=o.wc(4);o.Cb(2),o.lc("ngIf",t.rows.data.length)("ngIfElse",e)}},directives:[f.o,f.q,f.r,Yi.j,lc.a,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,dc.a,Ma,va,Yi.d,Za.a,Yi.a,lc.b,Yi.f,Yi.h,Vi.a,qi.a],pipes:[f.x],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}"]}),e})();function qu(e,t){if(1&e&&o.Ob(0,"app-break-time-list",2),2&e){const e=o.ec();o.lc("breakTimes",e.route.snapshot.data.breakTimes)("workingDays",e.route.snapshot.data.workingDays)}}function Qu(e,t){if(1&e&&o.Ob(0,"app-break-times-table",2),2&e){const e=o.ec();o.lc("breakTimes",e.route.snapshot.data.breakTimes)("workingDays",e.route.snapshot.data.workingDays)}}let Vu=(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-break-times"]],decls:4,vars:4,consts:[[3,"breakTimes","workingDays",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"breakTimes","workingDays"]],template:function(e,t){if(1&e&&(o.Ic(0,qu,1,2,"app-break-time-list",0),o.fc(1,"async"),o.Ic(2,Qu,1,2,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,xu,Uu],pipes:[f.b],styles:[""]}),e})();function Xu(e,t){1&e&&o.Pb(0)}function Ju(e,t){1&e&&o.Pb(0)}const Gu=function(e){return{$implicit:e}};function Zu(e,t){if(1&e&&(o.Rb(0),o.Ic(1,Ju,1,0,"ng-container",11),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(28);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,Gu,e.key))}}function em(e,t){if(1&e&&(o.Ic(0,Zu,2,4,"ng-container",17),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function tm(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function nm(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function im(e,t){1&e&&(o.Rb(0,18),o.Ic(1,tm,2,0,"ng-container",19),o.Ic(2,nm,2,0,"ng-container",19),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"))}const am=function(){return{$implicit:"reason"}};let cm=(()=>{class e extends jc.b{constructor(e,t,n){super({startDate:[null,[Nc.q.required]],endDate:[null,[Nc.q.required]],reason:[null,[Nc.q.maxLength(150)]]}),this.unavailabilities=e,this.mediaService=t,this.dialogRef=n,this.dateFilter=e=>!!e&&!this.checkIfAlreadyExists(e)}checkIfAlreadyExists(e){return this.unavailabilities.some(t=>t.dates.contains(e))}onSubmit(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(l.f),o.Nb(Ji.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-add-unavailability"]],features:[o.zb],decls:29,vars:10,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required","",1,"dateFormField"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","From",3,"click"],["matEndDate","","formControlName","endDate","placeholder","To",3,"click"],["matSuffix","",3,"for"],[3,"touchUi"],["picker",""],["appearance","fill"],["type","text","formControlName","reason","matInput",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"h3",0),o.Kc(1,"Add unavailability"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Unavailability"),o.Sb(),o.Tb(7,"mat-date-range-input",3),o.Tb(8,"input",4),o.ac("click",function(){return o.yc(e),o.wc(12).open()}),o.Sb(),o.Tb(9,"input",5),o.ac("click",function(){return o.yc(e),o.wc(12).open()}),o.Sb(),o.Sb(),o.Ob(10,"mat-datepicker-toggle",6),o.Ob(11,"mat-date-range-picker",7,8),o.fc(13,"async"),o.Sb(),o.Tb(14,"mat-form-field",9),o.Tb(15,"mat-label"),o.Kc(16,"Description"),o.Sb(),o.Ob(17,"input",10),o.Tb(18,"mat-error"),o.Ic(19,Xu,1,0,"ng-container",11),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(20,"mat-dialog-actions",12),o.Tb(21,"button",13),o.Kc(22," Cancel "),o.Sb(),o.Tb(23,"button",14),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(24," Ok "),o.Sb(),o.Sb(),o.Ic(25,em,2,3,"ng-template",null,15,o.Jc),o.Ic(27,im,3,3,"ng-template",null,16,o.Jc)}if(2&e){const e=o.wc(12),n=o.wc(26);o.Cb(3),o.lc("formGroup",t.form),o.Cb(4),o.lc("rangePicker",e),o.Cb(3),o.lc("for",e),o.Cb(1),o.lc("touchUi",o.gc(13,7,t.mediaService.isSmallScreen())),o.Cb(8),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(9,am)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Yc.a,Yc.h,Nc.c,Nc.k,Nc.e,Yc.g,Yc.f,Ta.h,Yc.b,Sa.b,Ta.b,f.t,Ji.c,qi.a,Ji.d,ka.a,f.n,f.q,f.r],pipes:[f.b,f.i],styles:[""]}),e})();function om(e,t){1&e&&o.Pb(0)}function rm(e,t){1&e&&o.Pb(0)}const sm=function(e){return{$implicit:e}};function lm(e,t){if(1&e&&(o.Rb(0),o.Ic(1,rm,1,0,"ng-container",11),o.Qb()),2&e){const e=t.$implicit;o.ec(2);const n=o.wc(28);o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.nc(2,sm,e.key))}}function dm(e,t){if(1&e&&(o.Ic(0,lm,2,4,"ng-container",17),o.fc(1,"keyvalue")),2&e){const e=t.$implicit,n=o.ec();o.lc("ngForOf",o.gc(1,1,n.form.controls[e].errors))}}function um(e,t){1&e&&(o.Rb(0),o.Kc(1," This field is required "),o.Qb())}function mm(e,t){1&e&&(o.Rb(0),o.Kc(1," The text you typed is too long "),o.Qb())}function bm(e,t){1&e&&(o.Rb(0,18),o.Ic(1,um,2,0,"ng-container",19),o.Ic(2,mm,2,0,"ng-container",19),o.Qb()),2&e&&(o.lc("ngSwitch",t.$implicit),o.Cb(1),o.lc("ngSwitchCase","required"),o.Cb(1),o.lc("ngSwitchCase","maxlength"))}const pm=function(){return{$implicit:"reason"}};let hm=(()=>{class e extends jc.b{constructor(e,t,n){super({startDate:[e.unavailability.startDate,[Nc.q.required]],endDate:[e.unavailability.endDate,[Nc.q.required]],reason:[e.unavailability.reason,[Nc.q.maxLength(150)]]}),this.data=e,this.dialogRef=t,this.mediaService=n,this.dateFilter=e=>{if(e){const t=this.checkIfAlreadyExists(e);return this.isInRange(e)||!t}return!1}}checkIfAlreadyExists(e){return this.data.unavailabilities.some(t=>t.dates.contains(e))}isInRange(e){return this.data.unavailability.dates.contains(e)}onSubmit(e){this.dialogRef.close(Object.assign(Object.assign({},this.data.unavailability),e))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Ji.a),o.Nb(Ji.g),o.Nb(l.f))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-edit-unavailability"]],features:[o.zb],decls:29,vars:10,consts:[["mat-dialog-title",""],["layout","column",3,"formGroup"],["appearance","fill","required","",1,"dateFormField"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","From",3,"click"],["matEndDate","","formControlName","endDate","placeholder","To",3,"click"],["matSuffix","",3,"for"],[3,"touchUi"],["picker",""],["appearance","fill"],["type","text","formControlName","reason","matInput",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],["mat-raised-button","","color","accent","appConfirm","",3,"disabled","confirm"],["errorsTemplate",""],["errorTemplate",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"h3",0),o.Kc(1,"Edit unavailability"),o.Sb(),o.Tb(2,"mat-dialog-content"),o.Tb(3,"form",1),o.Tb(4,"mat-form-field",2),o.Tb(5,"mat-label"),o.Kc(6,"Unavailability"),o.Sb(),o.Tb(7,"mat-date-range-input",3),o.Tb(8,"input",4),o.ac("click",function(){return o.yc(e),o.wc(12).open()}),o.Sb(),o.Tb(9,"input",5),o.ac("click",function(){return o.yc(e),o.wc(12).open()}),o.Sb(),o.Sb(),o.Ob(10,"mat-datepicker-toggle",6),o.Ob(11,"mat-date-range-picker",7,8),o.fc(13,"async"),o.Sb(),o.Tb(14,"mat-form-field",9),o.Tb(15,"mat-label"),o.Kc(16,"Description"),o.Sb(),o.Ob(17,"input",10),o.Tb(18,"mat-error"),o.Ic(19,om,1,0,"ng-container",11),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(20,"mat-dialog-actions",12),o.Tb(21,"button",13),o.Kc(22," Cancel "),o.Sb(),o.Tb(23,"button",14),o.ac("confirm",function(){return t.onSubmit(t.formData)}),o.Kc(24," Ok "),o.Sb(),o.Sb(),o.Ic(25,dm,2,3,"ng-template",null,15,o.Jc),o.Ic(27,bm,3,3,"ng-template",null,16,o.Jc)}if(2&e){const e=o.wc(12),n=o.wc(26);o.Cb(3),o.lc("formGroup",t.form),o.Cb(4),o.lc("rangePicker",e),o.Cb(3),o.lc("for",e),o.Cb(1),o.lc("touchUi",o.gc(13,7,t.mediaService.isSmallScreen())),o.Cb(8),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.mc(9,pm)),o.Cb(4),o.lc("disabled",t.form.invalid)}},directives:[Ji.h,Ji.e,Nc.r,Nc.l,Nc.f,Ta.c,Ta.f,Yc.a,Yc.h,Nc.c,Nc.k,Nc.e,Yc.g,Yc.f,Ta.h,Yc.b,Sa.b,Ta.b,f.t,Ji.c,qi.a,Ji.d,ka.a,f.n,f.q,f.r],pipes:[f.b,f.i],styles:[""]}),e})();function gm(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",8),o.ac("cancel",function(){return o.yc(e),o.ec().selection.clear()})("delete",function(){o.yc(e);const t=o.ec();return t.delete(t.selectedValues)})("edit",function(){o.yc(e);const t=o.ec();return t.edit(t.selectedValue)}),o.Sb()}if(2&e){const e=o.ec();o.lc("viewIcon",!1)("count",e.selection.selected.length)}}function fm(e,t){1&e&&o.Ob(0,"app-toolbar",9),2&e&&o.lc("searchIcon",!1)}function vm(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-list-item"),o.Tb(1,"mat-checkbox",12),o.ac("change",function(){o.yc(e);const t=o.ec(2),n=o.wc(5);return t.isAllSelected?n.deselectAll():n.selectAll()}),o.Sb(),o.Tb(2,"div",13),o.Kc(3,"Select all"),o.Sb(),o.Ob(4,"mat-divider"),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function ym(e,t){if(1&e&&(o.Tb(0,"mat-list-option",14),o.Tb(1,"div",13),o.Tb(2,"b"),o.Kc(3),o.Sb(),o.Sb(),o.Tb(4,"div",13),o.Kc(5),o.Sb(),o.Ob(6,"mat-divider"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Cb(3),o.Lc(e.reason),o.Cb(2),o.Nc("",e.startDate.format("DD/MM/YYYY")," - ",e.endDate.format("DD/MM/YYYY"),"")}}function Tm(e,t){if(1&e&&(o.Rb(0),o.Ic(1,vm,5,2,"mat-list-item",10),o.Ic(2,ym,7,4,"mat-list-option",11),o.Qb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngIf",e.items.length>1),o.Cb(1),o.lc("ngForOf",e.items)}}function Sm(e,t){1&e&&(o.Tb(0,"div",15),o.Tb(1,"h3"),o.Kc(2,"There are no unavailabilities"),o.Sb(),o.Sb())}let wm=(()=>{class e extends Bi{constructor(e,t,n){super(e),this.snackBar=t,this.dialog=n}ngOnInit(){this.items=Object.assign([],this.unavailabilities)}ngAfterViewInit(){this.selection=this.selectionList.selectedOptions}get selectedValue(){return this.selection.selected[0].value}get selectedValues(){return this.selection.selected.map(e=>e.value)}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.x,u.n),this.deleteUnavailabilities(e)})}edit(e){this.dialog.open(hm,{data:{unavailability:(new m.e).deserialize(e),unavailabilities:this.unavailabilities}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.y,u.n),this.editUnavailability(e)})})}add(){this.dialog.open(cm,{data:this.unavailabilities}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.w,u.n),this.addUnavailability(e)})})}deleteUnavailabilities(e){this.unavailabilities=this.unavailabilities.filter(t=>!e.some(e=>e.id===t.id))}editUnavailability(e){this.unavailabilities=this.unavailabilities.map(t=>t.id===e.id?e:t)}addUnavailability(e){this.unavailabilities.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.j),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-unavailability-list"]],viewQuery:function(e,t){if(1&e&&o.Ec(Zi.h,!0),2&e){let e;o.vc(e=o.bc())&&(t.selectionList=e.first)}},inputs:{unavailabilities:"unavailabilities"},features:[o.zb],decls:12,vars:5,consts:[[3,"ngSwitch"],["background","accent",3,"viewIcon","count","cancel","delete","edit",4,"ngSwitchCase"],["title","Unavailabilities","background","primary",3,"searchIcon",4,"ngSwitchCase"],[1,"list-container"],["list",""],[4,"ngIf","ngIfElse"],["emptyTemplate",""],["mat-fab","","color","primary",3,"click"],["background","accent",3,"viewIcon","count","cancel","delete","edit"],["title","Unavailabilities","background","primary",3,"searchIcon"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matListIcon","",3,"checked","indeterminate","change"],["mat-line",""],[3,"value"],[1,"empty-state"]],template:function(e,t){if(1&e&&(o.Rb(0,0),o.Ic(1,gm,1,2,"app-selectionbar",1),o.Ic(2,fm,1,1,"app-toolbar",2),o.Qb(),o.Tb(3,"div",3),o.Tb(4,"mat-selection-list",null,4),o.Ic(6,Tm,3,2,"ng-container",5),o.Sb(),o.Sb(),o.Ic(7,Sm,3,0,"ng-template",null,6,o.Jc),o.Tb(9,"button",7),o.ac("click",function(){return t.add()}),o.Tb(10,"mat-icon"),o.Kc(11,"add"),o.Sb(),o.Sb()),2&e){const e=o.wc(8);o.lc("ngSwitch",t.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(4),o.lc("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[f.q,f.r,Zi.h,f.o,qi.a,Vi.a,Ma,va,f.n,Zi.c,Za.a,Zi.b,ea.k,Na.a,Zi.e],styles:["mat-action-list[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%], mat-selection-list[_ngcontent-%COMP%]{margin-bottom:88px;padding-top:0;background-color:#fff}.empty-state[_ngcontent-%COMP%]{padding:16px;text-align:center}[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1}"]}),e})();function Cm(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selectionbar",19),o.ac("cancel",function(){return o.yc(e),o.ec(2).selection.clear()})("delete",function(){o.yc(e);const t=o.ec(2);return t.delete(t.selection.selected)})("edit",function(){o.yc(e);const t=o.ec(2);return t.edit(t.selection.selected[0])}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("viewIcon",!1)("count",e.selection.selected.length)}}function km(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-toolbar",20),o.ac("add",function(){return o.yc(e),o.ec(2).add()}),o.Sb()}2&e&&o.lc("searchIcon",!1)}function Om(e,t){if(1&e){const e=o.Ub();o.Tb(0,"th",21),o.Tb(1,"mat-checkbox",22),o.ac("change",function(t){o.yc(e);const n=o.ec(2);return!t||n.masterToggle()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Cb(1),o.lc("checked",e.selection.hasValue()&&e.isAllSelected)("indeterminate",e.selection.hasValue()&&!e.isAllSelected)}}function Dm(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",23),o.Tb(1,"mat-checkbox",24),o.ac("click",function(e){return e.stopPropagation()})("change",function(n){o.yc(e);const i=t.$implicit,a=o.ec(2);return!n||a.selection.toggle(i)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.Cb(1),o.lc("checked",n.selection.isSelected(e))}}function Im(e,t){1&e&&(o.Tb(0,"th",25),o.Kc(1,"From(date)"),o.Sb())}function Em(e,t){if(1&e&&(o.Tb(0,"td",23),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.startDate.format("DD/MM/YYYY")," ")}}function xm(e,t){1&e&&(o.Tb(0,"th",25),o.Kc(1,"To(date)"),o.Sb())}function Mm(e,t){if(1&e&&(o.Tb(0,"td",23),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.endDate.format("DD/MM/YYYY")," ")}}function Pm(e,t){1&e&&(o.Tb(0,"th",25),o.Kc(1,"Description"),o.Sb())}function Am(e,t){if(1&e&&(o.Tb(0,"td",23),o.Kc(1),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.Mc(" ",e.reason," ")}}function Rm(e,t){1&e&&o.Ob(0,"tr",26)}function Km(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",27),o.ac("click",function(){o.yc(e);const n=t.$implicit;return o.ec(2).selection.toggle(n)}),o.Sb()}}function Nm(e,t){if(1&e&&(o.Tb(0,"div",4),o.Rb(1,5),o.Ic(2,Cm,1,2,"app-selectionbar",6),o.Ic(3,km,1,1,"app-toolbar",7),o.Qb(),o.Tb(4,"table",8),o.Rb(5,9),o.Ic(6,Om,2,2,"th",10),o.Ic(7,Dm,2,1,"td",11),o.Qb(),o.Rb(8,12),o.Ic(9,Im,2,0,"th",13),o.Ic(10,Em,2,1,"td",11),o.Qb(),o.Rb(11,14),o.Ic(12,xm,2,0,"th",13),o.Ic(13,Mm,2,1,"td",11),o.Qb(),o.Rb(14,15),o.Ic(15,Pm,2,0,"th",13),o.Ic(16,Am,2,1,"td",11),o.Qb(),o.Ic(17,Rm,1,0,"tr",16),o.Ic(18,Km,1,0,"tr",17),o.Sb(),o.Ob(19,"mat-paginator",18),o.Sb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngSwitch",e.selection.selected.length>0),o.Cb(1),o.lc("ngSwitchCase",!0),o.Cb(1),o.lc("ngSwitchCase",!1),o.Cb(1),o.lc("dataSource",e.rows),o.Cb(13),o.lc("matHeaderRowDef",e.columns),o.Cb(1),o.lc("matRowDefColumns",e.columns),o.Cb(1),o.lc("pageSize",10)}}function zm(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",28),o.Tb(1,"mat-icon",29),o.Kc(2,"date_range"),o.Sb(),o.Tb(3,"h3"),o.Kc(4,"There are no unavailabilities"),o.Sb(),o.Tb(5,"p"),o.Kc(6,"You can add one and then view it here."),o.Sb(),o.Tb(7,"button",30),o.ac("click",function(){return o.yc(e),o.ec().add()}),o.Kc(8," Add Unavailability "),o.Sb(),o.Sb()}}let Hm=(()=>{class e extends Wi{constructor(e,t,n){super(e),this.unavailabilitiesService=e,this.snackBar=t,this.dialog=n,this.columns=["select","startDate","endDate","reason"]}ngOnInit(){this.rows.data=Object.assign([],this.unavailabilities)}ngAfterViewInit(){this.rows.paginator=this.paginator,this.rows.sort=this.sort}delete(e){this.deleteResources(e).subscribe(e=>{this.snackBar.open(u.x,u.n),this.deleteUnavailabilities(e)})}edit(e){this.dialog.open(hm,{width:"350px",data:{unavailability:(new m.e).deserialize(e),unavailabilities:this.unavailabilities}}).afterClosed().subscribe(e=>{e&&this.editResource(e).subscribe(e=>{this.snackBar.open(u.y,u.n),this.editUnavailability(e)})})}add(){this.dialog.open(cm,{width:"350px",data:this.unavailabilities}).afterClosed().subscribe(e=>{e&&this.addResource(e).subscribe(e=>{this.snackBar.open(u.w,u.n),this.addUnavailability(e)})})}deleteUnavailabilities(e){this.unavailabilities=this.unavailabilities.filter(t=>!e.some(e=>e.id===t.id))}editUnavailability(e){this.unavailabilities=this.unavailabilities.map(t=>t.id===e.id?e:t)}addUnavailability(e){this.unavailabilities.unshift(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.j),o.Nb(Ga.a),o.Nb(Ji.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-unavailabilities-table"]],viewQuery:function(e,t){if(1&e&&(o.Oc(lc.a,!0),o.Oc(dc.a,!0)),2&e){let e;o.vc(e=o.bc())&&(t.sort=e.first),o.vc(e=o.bc())&&(t.paginator=e.first)}},inputs:{unavailabilities:"unavailabilities"},features:[o.zb],decls:5,vars:2,consts:[["layout","","layout-wrap","","layout-padding",""],["flex","100"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"mat-elevation-z8"],[3,"ngSwitch"],["background","accent",3,"viewIcon","count","cancel","delete","edit",4,"ngSwitchCase"],["title","Unavailabilities","background","primary",3,"searchIcon","add",4,"ngSwitchCase"],["mat-table","","matSort","",1,"selectable",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","endDate"],["matColumnDef","reason"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["hidePageSize","","showFirstLastButtons","",3,"pageSize"],["background","accent",3,"viewIcon","count","cancel","delete","edit"],["title","Unavailabilities","background","primary",3,"searchIcon","add"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"empty-state"],["inline","true"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Ic(2,Nm,20,7,"div",2),o.Ic(3,zm,9,0,"ng-template",null,3,o.Jc),o.Sb(),o.Sb()),2&e){const e=o.wc(4);o.Cb(2),o.lc("ngIf",t.rows.data.length)("ngIfElse",e)}},directives:[f.o,f.q,f.r,Yi.j,lc.a,Yi.c,Yi.e,Yi.b,Yi.g,Yi.i,dc.a,Ma,va,Yi.d,Za.a,Yi.a,lc.b,Yi.f,Yi.h,Vi.a,qi.a],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{margin-top:112px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;color:#b9b9b9}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.mat-column-select[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{overflow:visible!important}table[_ngcontent-%COMP%]{width:100%}@media (min-width:600px){table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}}table.selectable[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.087);cursor:pointer}"]}),e})();function $m(e,t){if(1&e&&o.Ob(0,"app-unavailability-list",2),2&e){const e=o.ec();o.lc("unavailabilities",e.route.snapshot.data.unavailabilities)}}function Fm(e,t){if(1&e&&o.Ob(0,"app-unavailabilities-table",2),2&e){const e=o.ec();o.lc("unavailabilities",e.route.snapshot.data.unavailabilities)}}const Lm=c.i.forChild([{path:"",component:Ka,children:[{path:"",pathMatch:"full",redirectTo:"calendar"},{path:"notifications",component:Ac,resolve:{notifications:Ri}},{path:"calendar",component:Ja,resolve:{appointments:Ki,treatments:Ni}},{path:"appointments",component:Rr,resolve:{appointments:Ki,treatments:Ni}},{path:"treatments",component:el,resolve:{treatments:Ni,treatmentCategories:zi}},{path:"categories",component:nd,resolve:{treatmentCategories:zi}},{path:"working-days",component:$d,resolve:{workingDays:Hi}},{path:"break",component:Vu,resolve:{breakTimes:$i,workingDays:Hi}},{path:"unavailabilities",component:(()=>{class e{constructor(e,t){this.mediaService=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.f),o.Nb(c.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-unavailabilities"]],decls:4,vars:4,consts:[[3,"unavailabilities",4,"ngIf","ngIfElse"],["tableTemplate",""],[3,"unavailabilities"]],template:function(e,t){if(1&e&&(o.Ic(0,$m,1,1,"app-unavailability-list",0),o.fc(1,"async"),o.Ic(2,Fm,1,1,"ng-template",null,1,o.Jc)),2&e){const e=o.wc(3);o.lc("ngIf",o.gc(1,2,t.mediaService.isSmallScreen()))("ngIfElse",e)}},directives:[f.o,wm,Hm],pipes:[f.b],styles:[""]}),e})(),resolve:{unavailabilities:Fi}}]}]);let _m=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[a.a,Lm,xi.forRoot({provide:An,useFactory:()=>{return v(v({},function(e){return{addDays:function(t,n){return e(t).add(n,"days").toDate()},addHours:function(t,n){return e(t).add(n,"hours").toDate()},addMinutes:function(t,n){return e(t).add(n,"minutes").toDate()},addSeconds:function(t,n){return e(t).add(n,"seconds").toDate()},differenceInDays:function(t,n){return e(t).diff(e(n),"days")},differenceInMinutes:function(t,n){return e(t).diff(e(n),"minutes")},differenceInSeconds:function(t,n){return e(t).diff(e(n),"seconds")},endOfDay:function(t){return e(t).endOf("day").toDate()},endOfMonth:function(t){return e(t).endOf("month").toDate()},endOfWeek:function(t){return e(t).endOf("week").toDate()},getDay:function(t){return e(t).day()},getMonth:function(t){return e(t).month()},isSameDay:function(t,n){return e(t).isSame(e(n),"day")},isSameMonth:function(t,n){return e(t).isSame(e(n),"month")},isSameSecond:function(t,n){return e(t).isSame(e(n),"second")},max:function(t){return e.max(t.map(function(t){return e(t)})).toDate()},setHours:function(t,n){return e(t).set("hours",n).toDate()},setMinutes:function(t,n){return e(t).set("minutes",n).toDate()},startOfDay:function(t){return e(t).startOf("day").toDate()},startOfMinute:function(t){return e(t).startOf("minute").toDate()},startOfMonth:function(t){return e(t).startOf("month").toDate()},startOfWeek:function(t){return e(t).startOf("week").toDate()},getHours:function(t){return e(t).get("hours")},getMinutes:function(t){return e(t).get("minutes")}}}(e=i)),{addWeeks:function(t,n){return e(t).add(n,"weeks").toDate()},addMonths:function(t,n){return e(t).add(n,"months").toDate()},subDays:function(t,n){return e(t).subtract(n,"days").toDate()},subWeeks:function(t,n){return e(t).subtract(n,"weeks").toDate()},subMonths:function(t,n){return e(t).subtract(n,"months").toDate()},getISOWeek:function(t){return e(t).isoWeek()},setDate:function(t,n){return e(t).date(n).toDate()},setMonth:function(t,n){return e(t).month(n).toDate()},setYear:function(t,n){return e(t).year(n).toDate()},getDate:function(t){return e(t).date()},getYear:function(t){return e(t).year()}});var e}})]]}),e})()}}]);